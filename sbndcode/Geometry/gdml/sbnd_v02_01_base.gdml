<?xml version="1.0" encoding="UTF-8" ?>

<gdml_simple_extension xmlns:gdml_simple_extension="http://www.example.org"
                       xmlns:xs="http://www.w3.org/2001/XMLSchema-instance"
                       xs:noNamespaceSchemaLocation="./RefactoredGDMLSchema/SimpleExtension.xsd">

<!--
	======================================================================

		SBND Geometry (Single file)

	======================================================================

		Authors:
			Marina Reggiani-Guzzo
			Gustavo Valdiviesso

		Please consult SBN-doc-20795 technical note.


		Sub-geometries:

			Surrondings
				-Building
				-Ground
				-Underground

		    Detector Enclosure
				|__	Cryostat
				|		-TPC
				|		-PDS
				|__	CRT


	======================================================================
-->


<!--
	======================================================================

		"DEFINE" section

			Due to constrains from the xml parser, there must be only
		one of these in the entire file (not really, by it will generate
		a warning if there's more than one).

		A few notes on some constants:
			+ All units of lenght are mm by default. Input values have the
		intentended unit appended to their names (e.g. _mm ).
			+ The constant _eD_ is used to some geometrical constructions.
			+ The constants _in_ and _ft_ convert inches and feet to mm.

	======================================================================
-->

	<define>

		<constant name="_eD_" value="1.0e-3"/>
		<constant name="_Pi_" value="3.14159265359"/>
		<constant name="_ft_" value="304.8"/>
		<constant name="_in_" value="25.4"/>

		<constant name="Cos30" value="cos(30*degree)" />
		<constant name="Cos60" value="cos(60*degree)" />
		<constant name="Sin30" value="Cos60" />
		<constant name="Sin60" value="Cos30" />
		<constant name="Tan30" value="Sin30/Cos30" />
		<constant name="Tan60" value="Sin60/Cos60" />

		<rotation name="rotateP90Y" unit="deg" x="0" y="90" z="0"/>
		<rotation name="rotateN90Y" unit="deg" x="0" y="-90" z="0"/>
		<rotation name="rotateP90Z" unit="deg" x="0" y="0" z="90"/>
		<rotation name="rotateN90Z" unit="deg" x="0" y="0" z="-90"/>
		<rotation name="rotateP45X" unit="deg" x="45" y="0" z="0"/>
		<rotation name="rotateP90X" unit="deg" x="90" y="0" z="0"/>
		<rotation name="rotateN90X" unit="deg" x="-90" y="0" z="0"/>
		<rotation name="rotateN150X" unit="deg" x="-150" y="0" z="0"/>
		<rotation name="rotateP150X" unit="deg" x="150" y="0" z="0"/>
		<rotation name="rotateN30X" unit="deg" x="-30" y="0" z="0"/>
		<rotation name="rotateP30X" unit="deg" x="30" y="0" z="0"/>
		<rotation name="rotateP180Y" unit="deg" x="0" y="180" z="0"/>
		<rotation name="rotateP180X" unit="deg" x="180" y="0" z="0"/>
		<rotation name="rotate180X180Y" unit="deg" x="180" y="180" z="0"/>
        <rotation name="rotateP90X180Z" unit="deg" x="90" y="0" z="180"/>

		<constant name="system_DZ" value="417.5" />
		<constant name="system_DY" value="12.899" />

		<!-- Ground dimentions (mm) -->
		<constant name="dimGround_X_mm" value="5.e4"/>
		<constant name="dimGround_Y_mm" value="5.e4"/>
		<constant name="dimGround_Z_mm" value="5.e4"/>

		<!-- Building dimentions (mm) -->
		<constant name="buildingInternalSpace_X" value="15240"/>
		<constant name="buildingInternalSpace_Y" value="10670"/>
		<constant name="buildingInternalSpace_Z" value="28040"/>

		<constant name="wallWidth" value="100" />
		<constant name="buildingRoofTop" value="860"/>
		<constant name="glassWallSize_X" value="20"/>
		<constant name="glassWallSize_Y" value="9760"/>
		<constant name="glassWallSize_Z" value="buildingInternalSpace_Z"/>
		<constant name="freePath_W" value="530"/>
		<constant name="freePassage_W" value="1830"/>

		<!-- Undergound dimentions (1ft = 304.8mm) -->
		<constant name="dimDetectorHall_X_mm" value="31*_ft_"/>
		<constant name="dimDetectorHall_Y_mm" value="22*_ft_"/>
		<constant name="dimDetectorHall_Z_mm" value="40*_ft_"/>
		<constant name="concreteWallWidth" value="2*_ft_"/>
		<constant name="concreteVerticalSlab" value="14*_ft_"/>
		<constant name="concreteFoundationSlab_X" value="dimDetectorHall_X_mm+2*(concreteWallWidth+concreteVerticalSlab)"/>
		<constant name="concreteFoundationSlab_Y" value="3*_ft_"/>
		<constant name="concreteFoundationSlab_Z" value="dimDetectorHall_Z_mm+2*(concreteWallWidth+concreteVerticalSlab)"/>
		<constant name="pumpHall_X" value="9*_ft_"/>
		<constant name="pumpHall_Y" value="8*_ft_"/>
		<constant name="pumpHall_Z" value="(dimDetectorHall_Z_mm+concreteWallWidth)/3.0-concreteWallWidth"/>

		<constant name="mezzanineFloorSlab_Y" value="0.50*_ft_"/>
		<constant name="mezzanine_Y" value="11*_ft_+mezzanineFloorSlab_Y"/>
		<constant name="mezzanine_Z" value="20.25*_ft_"/>
		<constant name="mezzanine_roof_thickness" value="50"/>

		<constant name="dimBuildingBaseWidth_mm" value="0.50*_ft_"/>

		<!-- Position of Building (mm) -->
		<constant name="whereBuild_X" value="0"/>
		<constant name="whereBuild_Y" value="(dimBuildingBaseWidth_mm+buildingInternalSpace_Y+dimDetectorHall_Y_mm)/2.0+mezzanine_Y-system_DY-1300"/>
		<constant name="whereBuild_Z" value="0"/>

		<!-- Detector (TPC + Wires) -->
		<constant name="dimDetector_X" value="4044.0" />
		<constant name="dimDetector_Y" value="4074.645" />
		<constant name="dimDetector_Z" value="5094.000" />

		<!-- TPC (one side) -->
		<constant name="theTPC_X" value="dimDetector_X/2.0" />
		<constant name="theTPC_Y" value="dimDetector_Y" />
		<constant name="theTPC_Z" value="dimDetector_Z" />

		<constant name="theTPCPlane_W" value="3.0" />
		<constant name="theTPCActive_W"	value="theTPC_X-3*theTPCPlane_W" />

		<constant name="coordTPC_at_Membrane_X" value="0" />
		<constant name="coordTPC_at_Membrane_Y" value="0" />
		<constant name="coordTPC_at_Membrane_Z" value="-412.5" />


		<!-- Cryostat -->
		<!-- Cryostat Membrane -->
		<constant name="dimMembrane_Inner_T_mm" value="2.0" />
		<constant name="dimMembrane_Inner_X_mm" value="5199.6" />
		<constant name="dimMembrane_Inner_Y_mm" value="5430.6" />
		<constant name="dimMembrane_Inner_Z_mm" value="7027.0" />

		<constant name="dimPlywood_Insulation_T_mm" value="10.0" />

		<!-- Cryostat Lid -->
		<constant name="dimCryostatLid_T_mm" value="dimMembrane_Inner_T_mm" />
		<constant name="dimCryostatLid_Outer_X_mm" value="dimMembrane_Inner_X_mm+2*dimMembrane_Inner_T_mm" />
		<constant name="dimCryostatLid_Outer_Y_mm" value="780.0" />
		<constant name="dimCryostatLidSmaller_Outer_Z_mm" value="686.8+dimCryostatLid_T_mm" />
		<constant name="dimCryostatLidGap_mm" value="30.0" />
		<constant name="dimCryostatLidLarger_Outer_Z_mm" value="dimMembrane_Inner_Z_mm+2*dimMembrane_Inner_T_mm-dimCryostatLidGap_mm-dimCryostatLidSmaller_Outer_Z_mm" />

		<!-- Cryostat Lid -->
		<constant name="dimCryostatUllage_T_mm" value="271.5" />

		<!-- Cryostat Structure -->
		<constant name="dimCryostat_Outer_T_mm" value="10.0" />
		<constant name="dimCryostat_Outer_X_mm" value="6802.000" />
		<constant name="dimCryostat_Outer_Y_mm" value="7023.000" />
		<constant name="dimCryostat_Outer_Z_mm" value="8627.000" />

		<constant name="coordMembrane_at_Enclosure_X" value="0" />
		<constant name="coordMembrane_at_Enclosure_Y" value="0" />
		<constant name="coordMembrane_at_Enclosure_Z" value="-474.7" />

		<!-- Detector Enclosure = Cryostat + CRTs -->
		<constant name="dimDetEnclosure_X" value="dimDetectorHall_X_mm-_eD_" />
		<constant name="dimDetEnclosure_Y" value="33.3*_ft_" />
		<constant name="dimDetEnclosure_Z" value="dimDetectorHall_Z_mm-_eD_" />
		<constant name="dimTopCRTEnclosure_Y" value="buildingInternalSpace_Y" />


		<!-- Position of Enclosure (mm) -->
		<constant name="whereEnclosure_X" 	value="-coordMembrane_at_Enclosure_X-coordTPC_at_Membrane_X"/>
		<constant name="whereEnclosure_Y" 	value="-coordMembrane_at_Enclosure_Y-coordTPC_at_Membrane_Y"/>
		<constant name="whereEnclosure_Z" 	value="theTPC_Z/2.0-coordMembrane_at_Enclosure_Z-coordTPC_at_Membrane_Z"/>

		<!-- Position of TPC inside the Membrane (mm) -->
		<constant name="whereTPC_X" value="coordTPC_at_Membrane_X"/>
		<constant name="whereTPC_Y" value="coordTPC_at_Membrane_Y"/>
		<constant name="whereTPC_Z" value="coordTPC_at_Membrane_Z"/>


		<!-- APA Frames -->
		<constant name="dimAPAFrame_W_mm" value="2565.677"/>
		<constant name="dimAPAFrame_H_mm" value="4150.000"/>
		<constant name="dimAPAFrame_D_mm" value="150"/>
		<constant name="dimAPASpacing_mm" value="38.0"/>
		<constant name="dimAPATube_D_mm" value="dimAPAFrame_D_mm"/>
		<constant name="dimAPATube_W_mm" value="100"/>
		<constant name="dimAPATube_T_mm" value="5"/>
		<constant name="coordAPA_X_mm" value="4074.6/2.0"/>


		<!-- CPA Frames -->
		<constant name="dimCPATube_T_mm" value="2.0"/>
		<constant name="dimCPATube_R_mm" value="27.0"/>
		<constant name="dimCPAFrame_W_mm" value="2550.0"/>
		<constant name="dimCPAFrame_H_mm" value="4140.0"/>
		<constant name="dimCPAElbow_R_mm" value="75.0"/>
		<constant name="dimCPASpacing_mm" value="59.0"/>

		<constant name="dimCPAMeshFrame_H_mm" value="969.0"/>
		<constant name="dimCPAMeshFrame_L_mm" value="1209.0"/>
		<constant name="dimCPAMeshFrame_W_mm" value="28.0"/>
		<constant name="dimCPAMeshFrame_T_mm" value="9.0"/>
		<constant name="dimCPAMeshFrame_Rmin_mm" value="20.0"/>
		<constant name="dimCPAMeshFrame_Rmax_mm" value="dimCPAMeshFrame_Rmin_mm+dimCPAMeshFrame_W_mm"/>


		<constant name="LAr_Density" value="1.39" />
		<constant name="GAr_Density" value="5.7e-3" />
		<constant name="Steel_Density" value="7.9300" />
		<constant name="meshRadius" value="1" />
		<constant name="meshGap" value="5" />
		<constant name="meshWidth" value="meshGap+2*meshRadius" />
		<constant name="meshVolume" value="4*meshRadius*meshWidth*meshWidth" />
		<constant name="meshSteelVolume" value="_Pi_*meshRadius*meshRadius*meshWidth*2" />
		<constant name="meshLArVolume" value="meshVolume-meshSteelVolume" />
		<constant name="meshLArMass" value="LAr_Density*meshLArVolume" />
		<constant name="meshWiresMass" value="Steel_Density*meshSteelVolume" />
		<constant name="meshLAr_n" value="meshLArMass/(meshLArMass+meshWiresMass)" />
		<constant name="meshWires_n" value="meshWiresMass/(meshLArMass+meshWiresMass)" />
		<constant name="meshDensity" value="(meshLArMass+meshWiresMass)/(meshLArVolume+meshSteelVolume)" />


		<constant name="IPE_Beam_L" value="7779.0" />
		<constant name="IPE_Beam_W" value="450.0" />
		<constant name="IPE_Beam_T" value="45.0" />

		<constant name="structure_X" value="6406.0" />
		<constant name="structure_Y" value="6627.0" />
		<constant name="structure_Z" value="8231.0" />
		<constant name="structure_W" value="6.0" />


		<constant name="IPE_Beam_DZ" value="structure_Z/14.4" />
		<constant name="IPE_Beam_DX" value="structure_X/6.0" />
		<constant name="IPE_Beam_DY" value="(IPE_Beam_L-(structure_Y+2*structure_W))/2.0-IPE_Beam_W" />

		<constant name="topLid_W"     value="690.0" />
		<constant name="theShield_W"  value="2000.0" />
		<constant name="aCRTModule_W" value="20.0" />
		<constant name="aCRTModule_H" value="1800.0" />
		<constant name="theCRT_W"     value="2*aCRTModule_W" />

		<constant name="aCRT_Top1"    value="dimBuildingBaseWidth_mm+mezzanine_Y+dimDetectorHall_Y_mm-(IPE_Beam_W+structure_Y/2.0+structure_W)+system_DY+37.102" />
		<constant name="aCRT_Top2"  value="aCRT_Top1+1250.0" />
		<!-- used to be theShield_W+theCRT_W -->
		<!-- and is still not quite right but closer -->

		<constant name="aCRTModule_X_L" value="5*aCRTModule_H/2.0" />
		<constant name="aCRTModule_X_H" value="aCRTModule_H" />
		<constant name="aCRTModule_Y_L" value="4*aCRTModule_H/2.0" />
		<constant name="aCRTModule_Y_H" value="aCRTModule_H" />
		<constant name="theCRT_X" value="2*aCRTModule_Y_L"/>
		<constant name="theCRT_Y" value="theCRT_X"/>
		<constant name="theCRT_Z" value="2*aCRTModule_X_L"/>
		<constant name="theCRT_T" value="aCRT_Top1+aCRT_Top2" />


		<constant name="theStructure_T" value="structure_Y/2.0+structure_W+topLid_W"/>
		<constant name="theEncTower_T"  value="theStructure_T+theCRT_T"/>

		<!-- Building dimentions -->
		<constant name="dimBuildingExternal_X_mm" value="50.0*_ft_"/>
		<constant name="dimBuildingExternal_Y_mm" value="37.0*_ft_+10.0*_in_"/>
		<constant name="dimBuildingExternal_Z_mm" value="94.0*_ft_+8.0*_in_"/>
		<constant name="dimBuildingWallSpacing_W_mm" value="2.0*_ft_"/>
		<constant name="dimBuildingWallSpacing_E_mm" value="2.0*_ft_"/>
		<constant name="dimBuildingWallSpacing_S_mm" value="1.0*_ft_"/>
		<constant name="dimBuildingWallSpacing_N_mm" value="1.0*_ft_"/>
		<constant name="dimBuildingWallSpacing_Celling_mm" value="5.0*_ft_+4.0*_in_"/>
		<constant name="dimBuildingRoofHeight_mm" value="35.0*_ft_"/>
		<constant name="dimBuildingInternal_X_mm" value="dimBuildingExternal_X_mm-2*(dimBuildingWallSpacing_W_mm+dimBuildingWallSpacing_E_mm)"/>
		<constant name="dimBuildingInternal_Y_mm" value="dimBuildingExternal_Y_mm-dimBuildingWallSpacing_Celling_mm"/>
		<constant name="dimBuildingInternal_Z_mm" value="dimBuildingExternal_Z_mm-2*(dimBuildingWallSpacing_S_mm+dimBuildingWallSpacing_N_mm)"/>

		<constant name="dimBuildingWall_T_mm" value="3.0*_in_"/>
		<constant name="dimWallMetalPlate_T_mm" value="0.873"/>
		<constant name="dimWallInsulation_T_mm" value="dimBuildingWall_T_mm-2.0*dimWallMetalPlate_T_mm"/>

		<constant name="dimBuildingIBeam_Web_W_mm" value="24.*_in_"/>
		<constant name="dimBuildingIBeam_Web_T_mm" value="0.5*_in_"/>
		<constant name="dimBuildingIBeam_Flange_W_mm" value="12.75*_in_"/>
		<constant name="dimBuildingIBeam_Flange_T_mm" value="0.75*_in_"/>
		<constant name="dimBuildingIBeam_Length_1_mm" value="24.*_ft_+9.*_in_"/>
		<constant name="dimBuildingIBeam_Length_2_mm" value="93.*_ft_"/>

		<constant name="coordBuildingIB_W0_Z_mm" value="1.*_ft_+3.*_in_+4.*_in_"/>
		<constant name="coordBuildingIB_W1_Z_mm" value="26.*_ft_+coordBuildingIB_W0_Z_mm-4.5*_in_"/>
		<constant name="coordBuildingIB_W2_Z_mm" value="22.*_ft_+coordBuildingIB_W1_Z_mm"/>
		<constant name="coordBuildingIB_W3_Z_mm" value="22.*_ft_+coordBuildingIB_W2_Z_mm"/>
		<constant name="coordBuildingIB_W4_Z_mm" value="22.*_ft_+coordBuildingIB_W3_Z_mm"/>

		<constant name="coordBuildingIB_W_X_mm" value="1.*_ft_+5.*_in_"/>
		<constant name="coordBuildingIB_E_X_mm" value="1.*_ft_+11.*_in_"/>
		<constant name="coordBuildingIB_V_Y_mm" value="dimBuildingIBeam_Length_1_mm/2.0"/>
		<constant name="coordBuildingIB_H_Y_mm" value="dimBuildingIBeam_Length_1_mm+dimBuildingIBeam_Web_W_mm/2.0"/>

		<constant name="dimBuildingCeilingInsulation_T1_mm" value="5.*_in_"/>
		<constant name="dimBuildingCeilingInsulation_T2_mm" value="1.*_ft_+5.*_in_"/>

		<constant name="dimBuildingCeiling_Y_mm" value="35.*_ft_"/>
		<constant name="dimBuildingCeilingAlphalt_T_mm" value="3./8.*_in_"/>

		<constant name="dimBuildingSylight_W_mm" value="6.*_ft_+7.*_in_"/>
		<constant name="dimBuildingSylight_L_mm" value="8.*_ft_"/>
		<constant name="dimBuildingSylight_T_mm" value="0.75*_ft_"/>
		<constant name="coordBuildingSylight_Z_mm" value="16.*_ft_-dimBuildingSylight_W_mm/2.0"/>

		<constant name="dimBuldingTubeQ_W_mm" value="4.*_in_"/>
		<constant name="dimBuldingTubeQ_H_mm" value="4.*_in_"/>
		<constant name="dimBuldingTubeQ_T_mm" value="3./8.*_in_"/>
		<constant name="dimBuldingTubeQ_L_1_mm" value="dimBuildingCeiling_Y_mm"/>
		<constant name="coordBuildingTubeQ_mm" value="8.*_ft_+4.*_in_"/>

		<constant name="dimBuldingTube_W_mm" value="8.*_in_"/>
		<constant name="dimBuldingTube_H_mm" value="6.*_in_"/>
		<constant name="dimBuldingTube_T_mm" value="5./8.*_in_"/>
		<constant name="dimBuldingTube_L_1_mm" value="dimBuildingExternal_Z_mm-2.0*dimBuildingWall_T_mm-2.0*dimBuldingTubeQ_W_mm"/>
		<constant name="dimBuldingTube_L_2_mm" value="dimBuildingExternal_X_mm-2.0*dimBuildingWall_T_mm-2.0*dimBuldingTube_W_mm"/>

		<constant name="dimBuildingSteelDeck_T_mm" value="0.0359*_in_"/>

		<constant name="dimBuildingWindow_T_mm" value="0.5*_in_"/>
		<constant name="dimBuildingWindow_H_mm" value="7.*_ft_+9.*_in_"/>
		<constant name="dimBuildingTranslucentWall_H_mm" value="dimBuildingExternal_Y_mm-dimBuildingWallSpacing_Celling_mm-dimBuildingWindow_H_mm"/>

		<rotation name="rotBuldingCeilingSlopeP" unit="deg" x="0" y="0" z="1.1574"/>

		<!-- CPA -->
		<constant name="dimCPAWindow_W_mm" value="dimCPAFrame_W_mm/2.0"/>
		<constant name="dimCPAWindow_H_mm" value="dimCPAFrame_H_mm/4.0"/>

		<constant name="dimCPAJoint_X_mm" value="82"/>
		<constant name="dimCPAJoint_Y_mm" value="100"/>
		<constant name="dimCPAJoint_Z_mm" value="130"/>

		<constant name="dimCPASubtractions_mm" value="4*dimCPATube_R_mm"/>

		<constant name="dimCPAMeshFixture_L_mm" value="1060"/>
		<constant name="dimCPAMeshFixture_H_mm" value="850"/>
		<constant name="dimCPAMeshFixture_W_mm" value="32+3"/>
		<constant name="dimCPAMeshFixture_T_mm" value="12"/>

		<constant name="dimCPAMeshFixture_DY_mm" value="20"/>
		<constant name="dimCPAMeshFixture_DZ_mm" value="20"/>

		<constant name="coordCPAMeshFixture_X" value="0"/>
		<constant name="dimFC_L_mm" value="1981"/>
		<constant name="dimFC_T_mm" value="6.3"/>
		<constant name="dimFC_WH_mm" value="72.6"/>
		<constant name="dimFC_WV_mm" value="72.6"/>

		<!-- CPA Mesh and Foils -->
		<constant name="CPAMesh_T_mm" value="1.0"/>
		<constant name="CPAMesh_H_mm" value="dimCPAMeshFrame_H_mm-2*dimCPAMeshFrame_W_mm"/>
		<constant name="CPAMesh_W_mm" value="dimCPAMeshFrame_L_mm-2*dimCPAMeshFrame_W_mm"/>

		<constant name="CPAFoil_T_mm" value="0.0508"/>
		<constant name="CPAFoil_H_mm" value="932.0"/>
		<constant name="CPAFoil_W_mm" value="1172.0"/>

		<constant name="CPATPB_T_mm" value="0.000023"/>
		<constant name="CPATPB_H_mm" value="CPAFoil_H_mm"/>
		<constant name="CPATPB_W_mm" value="CPAFoil_W_mm"/>

		<!-- Undergrounds -->
		<constant name="dHX" value="dimDetectorHall_X_mm" />
		<constant name="dHY" value="dimDetectorHall_Y_mm" />
		<constant name="dHZ" value="dimDetectorHall_Z_mm" />
		<constant name="fSX" value="concreteFoundationSlab_X" />
		<constant name="fSY" value="concreteFoundationSlab_Y" />
		<constant name="fSZ" value="concreteFoundationSlab_Z" />
		<constant name="concW" value="concreteWallWidth" />
		<constant name="s_W" value="concreteVerticalSlab" />
		<constant name="mX" value="dimDetectorHall_X_mm" />
		<constant name="mY" value="mezzanine_Y" />
		<constant name="mZ" value="mezzanine_Z+dimDetectorHall_Z_mm" />
		<constant name="centerHall" value="(mZ-dHZ)/2"/>
		<constant name="uGY" value="mY+2*dHY"/>


		<!-- Field Cage -->
		<!-- I structure -->
		<constant name="dimFC_base_T_mm" value="6.3"/>
		<constant name="dimFC_base_W_mm" value="76.2"/>
		<constant name="dimFC_base_L_mm" value="3972.0"/>
		<constant name="dimFC_middle_T_mm" value="dimFC_base_T_mm"/>
		<constant name="dimFC_middle_W_mm" value="139.8"/>
		<constant name="dimFC_middle_L_mm" value="dimFC_base_L_mm"/>
		<constant name="dimFC_total_W_mm" value="dimFC_middle_W_mm+2.0*dimFC_base_T_mm"/>

		<!-- strips -->
		<constant name="FC_nstrips" value="32"/>
		<constant name="dimFC_stripHor_L_mm" value="5150"/>
		<constant name="dimFC_stripHor_W_mm" value="46.0"/>
		<constant name="dimFC_stripHor_T_mm" value="1.0*1.5"/>

		<constant name="dimFC_stripVer_L_mm" value="4150"/>
		<constant name="dimFC_stripVer_W_mm" value="dimFC_stripHor_W_mm"/>
		<constant name="dimFC_stripVer_T_mm" value="dimFC_stripHor_T_mm"/>
		<constant name="dimFCstrip_pitch_mm" value="60"/>

		<constant name="dimFC_knob_W_mm" value="dimFCstrip_pitch_mm-dimFC_stripHor_W_mm"/>

		<!-- volume created to place all the Field Cage -->
		<constant name="dimCPATube_D_mm" value="2.0*dimCPATube_R_mm"/>
		<constant name="dimFC_SurroundThickness_mm" value="500"/>

		<!-- placing I structure -->
		<constant name="placing_FC_Ihor_0" value="195.6"/>
		<constant name="placing_FC_Ihor_1" value="963.6"/>
		<constant name="placing_FC_Ihor_2" value="1731.6"/>
		<constant name="placing_FC_Ihor_3" value="2499.6"/>
		<constant name="placing_FC_Iver_4" value="659.5"/>
		<constant name="placing_FC_Iver_5" value="1989.7"/>

		<variable name="place_FC_structI" value="0"/>
		<variable name="place_FC_strip" value="0"/>
		<constant name="dimFCstrip_distCenter_mm" value="dimCPATube_R_mm+dimFC_stripHor_W_mm/2.0"/>


		<constant name="coordFC_IBeam_Y" value="2.0*dimCPAWindow_H_mm+dimFC_total_W_mm/2.0+_eD_"/>
		<constant name="coordFC_IBeam_Z" value="dimCPAFrame_W_mm+dimCPASpacing_mm/2.0+dimFC_total_W_mm/2.0+_eD_"/>

		<constant name="coordFC_Strips_Y" value="2.0*dimCPAWindow_H_mm+dimFC_base_T_mm+dimFC_stripHor_T_mm/2.0+2.0*_eD_"/>
		<constant name="coordFC_Strips_Z" value="dimCPAFrame_W_mm+dimCPASpacing_mm/2.0+dimFC_base_T_mm+dimFC_stripVer_T_mm/2.0+2.0*_eD_"/>

		<!-- The overburden dimensions, thickness is overburden dimension along the Y axis -->
		<!-- The overburden is made of 3 layers, but we implement layer 2 and 3 as a single box -->
		<!-- Thickness of layer 1: 3ft-4in = 914.4 + 101.6 mm = 1016 mm -->
		<!-- Thickness of layer 2 and 3: 3ft = 914.4 mm -->
		<!-- X dimension 33 ft = 10058.4 mm -->
		<constant name="shielding_dim_x" value="10058.4" />
		<constant name="shielding_dim_z" value="dimDetectorHall_Z_mm" />
		<constant name="shielding_layer1_thickness" value="1016" />
		<constant name="shielding_layer2_thickness" value="914.4" />
		<constant name="shielding_layer3_thickness" value="914.4" />
		<!-- Overburden derived quantities -->
		<constant name="shielding_layer2and3_thickness" value="shielding_layer2_thickness+shielding_layer3_thickness" />
		<constant name="shielding_thickness" value="shielding_layer1_thickness+shielding_layer2and3_thickness" />

		<!-- Position of the Overburden (mm) -->
		<constant name="my_dimSystem_Z_mm" value="1130"/>
		<constant name="whereShielding_X" value="0"/>
		<constant name="whereShielding_Y" value="5215+my_dimSystem_Z_mm+dimBuildingBaseWidth_mm/2+shielding_thickness/2"/>
		<constant name="whereShielding_Z" value="0"/>

		<!-- Racks -->
		<!-- Smaller (blue/yellow) racks -->
		<variable name="small_rack_i" value="0.0"/>
		<constant name="small_rack_x" value="610.0" />
		<constant name="small_rack_y" value="2120.0" />
		<constant name="small_rack_z" value="760.0" />
		<constant name="smallrack_x_offset" value="450.0" />
		<constant name="smallrack_z_offset" value="-4340.0" />
		<!-- Larger (black) racks -->
		<variable name="large_rack_i" value="0"/>
		<constant name="large_rack_x" value="570" />
		<constant name="large_rack_y" value="2100" />
		<constant name="large_rack_z" value="940" />
		<constant name="largerack_x_offset" value="2700" />
		<constant name="largerack_z_offset" value="-2300" />
		<constant name="rack_padding" value="20" />
		<constant name="box_interiors_y" value="9000" />

		<!-- Exteriors (dewars) -->
		<constant name="dewar_outer_r" value="120 * _in_ / 2" />
		<constant name="dewar_outer_thickness" value="0.288 * _in_" />
		<constant name="dewar_outer_length" value="328 * _in_" />
		<constant name="dewar_inner_r" value="102 * _in_ / 2" />
		<constant name="dewar_inner_thickness" value="0.288 * _in_" />
		<constant name="dewar_inner_length" value="225 * _in_" />
		<constant name="dewar_box_base" value="2 * dewar_outer_r + _eD_" />
		<constant name="dewar_box_h" value="dewar_outer_length + 2 * dewar_outer_thickness + 3 * _eD_" />
		<constant name="dewar_pos_x_offset" value="502.03" />
		<constant name="exterior_box_x" value="dimBuildingExternal_X_mm - 2 * dewar_pos_x_offset + dewar_box_base" />
		<constant name="exterior_box_y" value="dimBuildingExternal_Y_mm" />
		<constant name="exterior_box_z" value="9000" />
		<constant name="building_dewar_dist" value="5791.20" />

		<!-- CRT -->

		<!-- _w = width | _l = length | _t = thickness | _b = border-->

		<!-- module X -->
		<constant name="CRTmoduleX_w" value="180"/>
		<constant name="CRTmoduleX_l" value="360"/>
		<constant name="CRTmoduleX_t" value="1.8"/>
		<constant name="CRTmoduleX_b" value="0.4"/>
		<constant name="CRTstripX_w" value="11.2"/>
		<constant name="CRTstripX_l" value="359.2"/>
		<constant name="CRTstripX_t" value="1.0"/>

		<!-- module Y -->
		<constant name="CRTmoduleY_w" value="180"/>
		<constant name="CRTmoduleY_l" value="450"/>
		<constant name="CRTmoduleY_t" value="1.8"/>
		<constant name="CRTmoduleY_b" value="0.4"/>
		<constant name="CRTstripY_w" value="11.2"/>
		<constant name="CRTstripY_l" value="449.2"/>
		<constant name="CRTstripY_t" value="1.0"/>

		<!-- square module -->
		<constant name="CRTmoduleSquare_w" value="180"/>
		<constant name="CRTmoduleSquare_l" value="180"/>
		<constant name="CRTmoduleSquare_t" value="1.8"/>
		<constant name="CRTmoduleSquare_b" value="0.4"/>
		<constant name="CRTstripSquare_w" value="11.2"/>
		<constant name="CRTstripSquare_l" value="179.2"/>
		<constant name="CRTstripSquare_t" value="1.0"/>

		<!-- BERN module -->
		<constant name="CRTmoduleBERN_w" value="95.8"/>
		<constant name="CRTmoduleBERN_l" value="272.1"/>
		<constant name="CRTmoduleBERN_t" value="1.6"/>
		<constant name="CRTmoduleBERN_b" value="0.35"/>
		<constant name="CRTstripBERN_w" value="5.95"/>
		<constant name="CRTstripBERN_l" value="271.5"/>
		<constant name="CRTstripBERN_t" value="1.0"/>

		<!-- MINOS module -->
		<constant name="CRTmoduleMINOS_w" value="80.5"/>
		<constant name="CRTmoduleMINOS_l" value="272"/>
		<constant name="CRTmoduleMINOS_t" value="1.2"/>
		<constant name="CRTmoduleMINOS_b" value="0.05"/>
		<constant name="CRTstripMINOS_w" value="4.0"/>
		<constant name="CRTstripMINOS_l" value="271.9"/>
		<constant name="CRTstripMINOS_t" value="1.0"/>

		<!-- placing bottom modules -->
		<constant name="BERNmodule_DX_large" value="309.0"/>
		<constant name="BERNmodule_DX_middle" value="132.5"/>
		<constant name="BERNmodule_DX_small" value="5.0"/>
		<constant name="BERNmodule_DY_large" value="398.0"/>
		<constant name="BERNmodule_DY_small" value="190.1"/>

		<!-- variable for loops -->
		<variable name="CRT_declaring_modules" value="0"/>
		<variable name="CRT_logical_modules" value="0"/>
		<variable name="CRT_placing_modules" value="0"/>
		<variable name="CRT_module_maker" value="0"/>

		<!-- <constant name="CRT_DY_TopHigh" value="8664.2"/> -->
		<!-- <constant name="CRT_DY_TopLow" value="6624.2"/> -->
		<constant name="CRT_DY_TopHigh" value="whereShielding_Y+shielding_thickness/2+aCRTModule_W"/>
		<constant name="CRT_DY_TopLow" value="whereShielding_Y-shielding_thickness/2-aCRTModule_W"/>
		<constant name="CRT_DX_Side" value="3830"/>
		<constant name="CRT_DZ_South" value="4750"/>
		<constant name="CRT_DY_Bottom" value="3780"/>

		<constant name="G10strip_Y_width" value="BERNmodule_DX_middle-BERNmodule_DX_small-CRTmoduleBERN_w"/>
		<constant name="G10strip_X_width" value="(BERNmodule_DY_small-1.5*CRTmoduleMINOS_w)/2.0"/>

		<!-- ARAPUCA -->
		<constant name="XArapucaOut_w" value="96.0"/>
		<constant name="XArapucaOut_l" value="240.0"/>
		<constant name="XArapucaOut_t" value="20.0"/>

		<constant name="XArapucaFilter_w" value="76.0"/>
		<constant name="XArapucaFilter_l" value="206.0"/>
		<constant name="XArapucaFilter_t" value="2.0"/>

		<constant name="XArapucaFilterDepth" value="1"/>
		<constant name="distanceBetweenXArapucaFilters" value="8"/>

		<!-- PMT -->
		<constant name="PMT_rmax" value="102"/>
		<constant name="PMT_rmin" value="96.6"/>
		<constant name="PMT_base_rmax" value="101.6"/>
		<constant name="PMT_base_height" value="5."/>

		<!-- PDS Assembly -->
		<constant name="distPDS_z" value="300"/>
		<constant name="distPDS_y" value="400"/>
		<constant name="distBetweenXArapucas_z" value="56.4"/>
		<constant name="distPMT_Arapuca" value="6.5"/>
		<constant name="PDScaseDX" value="PMT_base_height+PMT_rmax+distPMT_Arapuca+XArapucaOut_t"/>

		<constant name="dimAPAShorterTube_L_mm" value="(dimAPAFrame_W_mm-3*dimAPATube_W_mm)/2.0"/>
		<constant name="dimAPAShorterFirst_Y_mm" value="(dimAPAFrame_H_mm-dimAPATube_W_mm)/2.0"/>
		<constant name="dimAPAShorterPitch_Y_mm" value="(dimAPAFrame_H_mm-dimAPATube_W_mm)/3.0"/>


		<!-- APA -->
		<position name="posAPAVertical_L" 	unit="mm" x="0" y="0" z="-(dimAPAFrame_W_mm-dimAPATube_W_mm)/2.0" />
		<position name="posAPAVertical_R" 	unit="mm" x="0" y="0" z="+(dimAPAFrame_W_mm-dimAPATube_W_mm)/2.0" />

		<position name="posAPAHorizontal_L_0" unit="mm" x="0" y="dimAPAShorterFirst_Y_mm-0*dimAPAShorterPitch_Y_mm" z="-(dimAPAShorterTube_L_mm+dimAPATube_W_mm)/2.0" />
		<position name="posAPAHorizontal_R_0" unit="mm" x="0" y="dimAPAShorterFirst_Y_mm-0*dimAPAShorterPitch_Y_mm" z="+(dimAPAShorterTube_L_mm+dimAPATube_W_mm)/2.0" />

		<position name="posAPAHorizontal_L_1" unit="mm" x="0" y="dimAPAShorterFirst_Y_mm-1.0*dimAPAShorterPitch_Y_mm" z="-(dimAPAShorterTube_L_mm+dimAPATube_W_mm)/2.0" />
		<position name="posAPAHorizontal_R_1" unit="mm" x="0" y="dimAPAShorterFirst_Y_mm-1.0*dimAPAShorterPitch_Y_mm" z="+(dimAPAShorterTube_L_mm+dimAPATube_W_mm)/2.0" />

		<position name="posAPAHorizontal_L_2" unit="mm" x="0" y="dimAPAShorterFirst_Y_mm-2.0*dimAPAShorterPitch_Y_mm" z="-(dimAPAShorterTube_L_mm+dimAPATube_W_mm)/2.0" />
		<position name="posAPAHorizontal_R_2" unit="mm" x="0" y="dimAPAShorterFirst_Y_mm-2.0*dimAPAShorterPitch_Y_mm" z="+(dimAPAShorterTube_L_mm+dimAPATube_W_mm)/2.0" />

		<position name="posAPAHorizontal_L_3" unit="mm" x="0" y="dimAPAShorterFirst_Y_mm-3.0*dimAPAShorterPitch_Y_mm" z="-(dimAPAShorterTube_L_mm+dimAPATube_W_mm)/2.0" />
		<position name="posAPAHorizontal_R_3" unit="mm" x="0" y="dimAPAShorterFirst_Y_mm-3.0*dimAPAShorterPitch_Y_mm" z="+(dimAPAShorterTube_L_mm+dimAPATube_W_mm)/2.0" />

		<position name="centerAtBorder" unit="mm" x="0" y="0" z="0" />

		<!-- Cryostat External Support Structure -->
		<constant name="dimCryoExt_X_mm" value="6802.0" />
		<constant name="dimCryoExt_Y_mm" value="7023.0" />
		<constant name="dimCryoExt_Z_mm" value="8627.0" />
		<constant name="dimCryoExt_T_mm" value="10.0" />

		<constant name="dimCryoExt_L_mm" value="dimCryoExt_Z_mm+dimCryoExt_T_mm" />
		<constant name="dimCryoExt_H_mm" value="dimCryoExt_Y_mm+dimCryoExt_T_mm" />
		<constant name="dimCryoExt_W_mm" value="dimCryoExt_X_mm+dimCryoExt_T_mm" />

		<constant name="dimCryoExt_IBeam_W_mm" value="300.0" />
		<constant name="dimCryoExt_IBeam_H_mm" value="360.0" />
		<constant name="dimCryoExt_IBeam_T1_mm" value="22.5" />
		<constant name="dimCryoExt_IBeam_T2_mm" value="12.5" />

		<constant name="dimCryoExt_IBeam_Hor_XY_L_mm" value="6825.0" />
		<constant name="dimCryoExt_IBeam_Hor_ZY_L_mm" value="9410.0" />
		<constant name="dimCryoExt_IBeam_Ver_L_mm" value="7021.0" />

		<constant name="dimCryoExt_IBeam_Top_W_mm" value="226.0" />
		<constant name="dimCryoExt_IBeam_Top_H_mm" value="238.9" />
		<constant name="dimCryoExt_IBeam_Top_T1_mm" value="26.0" />
		<constant name="dimCryoExt_IBeam_Top_T2_mm" value="16.6" />

		<constant name="dimCryoExt_IBeam_Top_X_L_mm" value="7538.0" />
		<constant name="dimCryoExt_IBeam_Top_Z_L_mm" value="9405.0" />

		<constant name="coordCryoExt_IBeam_Hor_DY1_mm" value="1107.0" />
		<constant name="coordCryoExt_IBeam_Hor_DY2_mm" value="3246.5" />
		<constant name="coordCryoExt_IBeam_Ver_DX_mm" value="2340.0" />
		<constant name="coordCryoExt_IBeam_Ver_DZ_mm" value="1170.5" />

		<!-- Cryostat Insulation -->
		<constant name="dimInsulation_Inner_X_mm" value="dimMembrane_Inner_X_mm+dimMembrane_Inner_T_mm" />
		<constant name="dimInsulation_Inner_Y_mm" value="dimMembrane_Inner_Y_mm+dimMembrane_Inner_T_mm" />
		<constant name="dimInsulation_Inner_Z_mm" value="dimMembrane_Inner_Z_mm+dimMembrane_Inner_T_mm" />


		<!-- Wire Planes (see sbn-docdb 5526) -->
		<constant name="numberChannelsY" value="1664"/>
		<constant name="numberChannelsV" value="1984"/>
		<constant name="numberChannelsU" value="1984"/>

		<constant name="channels_Lower"  value="1"/>
		<constant name="channels_Middle" value="833"/>
		<constant name="channels_Higher" value="1153"/>

		<constant name="dimWirePitch_mm" value="3.0" />
		<constant name="dimWirePitch_Z_mm" value="dimWirePitch_mm/Sin30" />
		<constant name="dimWirePitch_Y_mm" value="dimWirePitch_mm/Sin60" />

		<constant name="dimWirePlane_Z_mm" value="(numberChannelsY+1)*dimWirePitch_mm" />
		<constant name="commonWire_L" value="dimWirePlane_Z_mm/Cos30" />

		<constant name="dimWirePitch_Y1" value="dimWirePitch_Z_mm * Tan30" />
		<constant name="dimWirePitch_Y2" value="dimWirePitch_Z_mm / Cos30" />

		<constant name="dimWirePlaneDeadBoarder" value="(theTPC_Z-dimWirePlane_Z_mm)/2.0" />
		<constant name="dimWirePlane_Y_mm" value="4000.0" />
		<constant name="dimWirePlane_X_mm" value="theTPCPlane_W" />


		<constant name="dimYWire_L_mm" value="dimWirePlane_Y_mm" />

		<constant name="visibleWires" value="1" />
		<rotation name="rPlusUVAngleAboutX" unit="deg" x="30.0" y="0" z="0"/>
        <constant name="dimCommonWire_D_mm" value="0.006*25.4" />
        <constant name="commonWire_R" value="0.5*dimCommonWire_D_mm*visibleWires" />

		<constant name="originWires_Z"  value="-dimWirePlane_Z_mm/2.0+dimWirePitch_Z_mm/2.0"/>
		<constant name="originWires_Y1" value="dimWirePlane_Y_mm/2.0" />
		<constant name="originWires_Y2" value="originWires_Y1 - (dimWirePlane_Z_mm/2.0 * Tan30) + 1.2" />
		<constant name="originWires_Y3" value="(dimWirePlane_Z_mm - dimWirePlane_Y_mm)*Tan30/2.0" />

		<variable name="iWire_Y" value="1"/>

		<variable name="iWireSizes_0" 	value="channels_Lower"/>
		<variable name="iWireSizes_2" 	value="channels_Higher"/>

		<variable name="iWireVolumes_U_1" value="channels_Lower"/>
		<variable name="iWireVolumes_U_2" value="channels_Middle"/>
		<variable name="iWireVolumes_U_3" value="channels_Higher"/>

		<variable name="iWire_U1" value="channels_Lower"/>
		<variable name="iWire_U2" value="channels_Middle"/>
		<variable name="iWire_U3" value="channels_Higher"/>

		<variable name="iWireSizes_V_0" 	value="0"/>
		<variable name="iWireSizes_V_2" 	value="1153"/>

		<variable name="iWireVolumes_V_1" value="channels_Lower"/>
		<variable name="iWireVolumes_V_2" value="channels_Middle"/>
		<variable name="iWireVolumes_V_3" value="channels_Higher"/>

		<variable name="iWire_V1" value="channels_Lower"/>
		<variable name="iWire_V2" value="channels_Middle"/>
		<variable name="iWire_V3" value="channels_Higher"/>

		<!-- TPC -->
		<constant name="gapTPC_X" value="0" />

		<!-- Position of TPC inside the Membrane (mm) -->
		<position name="posTPC_East" unit="mm" x="-theTPC_X/2.0-gapTPC_X/2.0+whereTPC_X" y="whereTPC_Y" z="whereTPC_Z"/>
		<position name="posTPC_West" unit="mm" x="+theTPC_X/2.0+gapTPC_X/2.0+whereTPC_X" y="whereTPC_Y" z="whereTPC_Z"/>

		<!-- Inside each TPC the Active Volume and Wire planes are positioned w.r.t. the TPC System -->
		<constant name="coordPlaneU_X" value="(theTPCActive_W+1*theTPCPlane_W)/2.0" />
		<constant name="coordPlaneV_X" value="(theTPCActive_W+3*theTPCPlane_W)/2.0" />
		<constant name="coordPlaneY_X" value="(theTPCActive_W+5*theTPCPlane_W)/2.0" />


		<position name="posYPlane_E" unit="mm" x="-coordPlaneY_X+1.5*theTPCPlane_W" y="0" z="0"/>
		<position name="posVPlane_E" unit="mm" x="-coordPlaneV_X+1.5*theTPCPlane_W" y="0" z="0"/>
		<position name="posUPlane_E" unit="mm" x="-coordPlaneU_X+1.5*theTPCPlane_W" y="0" z="0"/>

		<position name="posYPlane_W" unit="mm" x="+coordPlaneY_X-1.5*theTPCPlane_W" y="0" z="0"/>
		<position name="posVPlane_W" unit="mm" x="+coordPlaneV_X-1.5*theTPCPlane_W" y="0" z="0"/>
		<position name="posUPlane_W" unit="mm" x="+coordPlaneU_X-1.5*theTPCPlane_W" y="0" z="0"/>

		<constant name="coordAPA_DX" value="coordAPA_X_mm+dimAPAFrame_D_mm/2.0" />
		<constant name="coordAPA_DY" value="0" />
		<constant name="coordAPA_DZ" value="dimAPAFrame_W_mm/2.0+dimAPASpacing_mm/2.0" />

		<!-- Mass Buffer -->
		<!-- This is a solid as large as the cryostat top and as thich its lid.
			Its mass is supposed to correspond to everything that will be installed
			above the cryostat.
			See "matMassBuffer" in the materials section
		-->
		<constant name="massBuffer_kg" value="5854.0" />
		<constant name="dimMassBuffer_X_mm" value="dimCryoExt_X_mm" />
		<constant name="dimMassBuffer_Z_mm" value="dimCryoExt_Z_mm" />
		<constant name="dimMassBuffer_Y_mm" value="dimCryostatLid_Outer_Y_mm" />
		<constant name="volumeMassBuffer_cm3" value="45771066.12"/>
		<!-- "dimMassBuffer_X_mm*dimMassBuffer_Y_mm*dimMassBuffer_Z_mm/1000.0"-->
		<constant name="densityMassBuffer_g_cm3" value="massBuffer_kg/volumeMassBuffer_cm3*1000.0"/>


	</define>


<!--
	======================================================================
	       "MATERIALS" section
	======================================================================
-->

	<materials>
		<element name="hydrogen"    formula="H"  Z="1">  	<atom value="1.00794"/>		</element>
		<element name="carbon"      formula="C"  Z="6">  	<atom value="12.0107"/>		</element>
		<element name="nitrogen"    formula="N"  Z="7">  	<atom value="14.0067"/>		</element>
		<element name="oxygen"      formula="O"  Z="8">  	<atom value="15.9994"/>		</element>
		<element name="sodium"      formula="Na" Z="11"> 	<atom value="22.989769"/>	</element>
		<element name="magnesium"   formula="Mg" Z="12"> 	<atom value="24.305"/>		</element>
		<element name="aluminum"    formula="Al" Z="13"> 	<atom value="26.981539"/>	</element>
		<element name="silicon"     formula="Si" Z="14"> 	<atom value="28.0855"/>		</element>
		<element name="phosphorous" formula="P"  Z="15"> 	<atom value="30.974"/>		</element>
		<element name="sulfur"      formula="S"  Z="16"> 	<atom value="32.06"/>		</element>
		<element name="argon"       formula="Ar" Z="18"> 	<atom value="39.948"/>		</element>
		<element name="potassium"   formula="K"  Z="19"> 	<atom value="39.0983"/>		</element>
		<element name="calcium"     formula="Ca" Z="20"> 	<atom value="40.078"/>		</element>
		<element name="titanium"    formula="Ti" Z="22"> 	<atom value="47.867"/>		</element>
		<element name="vanadium"    formula="V"  Z="23"> 	<atom value="50.9415"/>		</element>
		<element name="chromium"    formula="Cr" Z="24"> 	<atom value="51.9961"/>		</element>
		<element name="manganese"   formula="Mn" Z="25"> 	<atom value="54.938"/>		</element>
		<element name="iron"        formula="Fe" Z="26"> 	<atom value="55.845"/>		</element>
		<element name="nickel"      formula="Ni" Z="28"> 	<atom value="58.6934"/>		</element>
		<element name="copper"      formula="Cu" Z="29"> 	<atom value="63.546"/>		</element>
		<element name="bromine"     formula="Br" Z="35"> 	<atom value="79.904"/>		</element>
		<element name="beryllium"   formula="Be" Z="4">		<atom value="9.0121831"/>	</element>

		<material name="matVacuum" formula="vacuum" >
			<D value="1.e-25" unit="g/cm3"/>
			<fraction n="1.0" ref="hydrogen"/>
		</material>

		<material name="matAir" formula="air" >
			<D value="0.001205" unit="g/cm3"/>
			<fraction n="0.781154" ref="nitrogen"/>
			<fraction n="0.209476" ref="oxygen"/>
			<fraction n="0.00937"  ref="argon"/>
		</material>

		<material name="matWater" formula="H2O" >
			<D value="1.0" unit="g/cm3"/>
			<fraction n="0.1119" ref="hydrogen"/>
			<fraction n="0.8881" ref="oxygen"/>
		</material>

		<material name="matGranite" formula=" " >
			<D value="2.7" unit="g/cm3"/>
			<fraction n="0.438" ref="oxygen"/>
			<fraction n="0.257" ref="silicon"/>
			<fraction n="0.222" ref="sodium"/>
			<fraction n="0.049" ref="aluminum"/>
			<fraction n="0.019" ref="iron"/>
			<fraction n="0.015" ref="potassium"/>
		</material>

		<material name="matShotRock" formula=" " >
			<D value="2.7*0.6" unit="g/cm3"/>
			<fraction n="0.438" ref="oxygen"/>
			<fraction n="0.257" ref="silicon"/>
			<fraction n="0.222" ref="sodium"/>
			<fraction n="0.049" ref="aluminum"/>
			<fraction n="0.019" ref="iron"/>
			<fraction n="0.015" ref="potassium"/>
		</material>

		<material name="matDirt" formula=" ">
			<D value="1.7" unit="g/cm3"/>
			<fraction n="0.438" ref="oxygen"/>
			<fraction n="0.257" ref="silicon"/>
			<fraction n="0.222" ref="sodium"/>
			<fraction n="0.049" ref="aluminum"/>
			<fraction n="0.019" ref="iron"/>
			<fraction n="0.015" ref="potassium"/>
		</material>

		<material name="Concrete" formula=" " >
			<D value="2.3" unit="g/cm3"/>
			<fraction n="0.530" ref="oxygen"/>
			<fraction n="0.335" ref="silicon"/>
			<fraction n="0.060" ref="calcium"/>
			<fraction n="0.015" ref="sodium"/>
			<fraction n="0.020" ref="iron"/>
			<fraction n="0.040" ref="aluminum"/>
		</material>

		<material name="ALUMINUM_Al" formula="Al">
			<D value="2.6990" unit="g/cm3"/>
			<fraction n="1.0000" ref="aluminum"/>
		</material>

		<material name="matSilicon" formula="Si">
			<D value="2.3300" unit="g/cm3"/>
			<fraction n="1.0000" ref="silicon"/>
		</material>

		<material name="matEpoxyResin" formula="C38H40O6Br4">
			<D value="1.1250" unit="g/cm3"/>
			<composite n="38" ref="carbon"/>
			<composite n="40" ref="hydrogen"/>
			<composite n="6" ref="oxygen"/>
			<composite n="4" ref="bromine"/>
		</material>

		<material name="matPUFoam_Cryostat" formula="Polyurethane">
			<D value="0.073" unit="g/cm3"/>
			<composite n="25" ref="carbon"/>
			<composite n="42" ref="hydrogen"/>
			<composite n="2" ref="nitrogen"/>
			<composite n="6" ref="oxygen"/>
		</material>

		<material name="matPUFoam_walls" formula="Polyurethane">
			<D value="0.0240" unit="g/cm3"/>
			<composite n="25" ref="carbon"/>
			<composite n="42" ref="hydrogen"/>
			<composite n="2" ref="nitrogen"/>
			<composite n="6" ref="oxygen"/>
		</material>


		<material name="matPIRALU_Cryostat" formula="Polyurethane">
			<D value="0.035" unit="g/cm3"/>
			<composite n="25" ref="carbon"/>
			<composite n="42" ref="hydrogen"/>
			<composite n="2" ref="nitrogen"/>
			<composite n="6" ref="oxygen"/>
		</material>

		<material name="matPIRFoam" formula="Polyisocyanurate">
			<D value="0.128" unit="g/cm3"/>
			<composite n="3" ref="carbon"/>
			<composite n="42" ref="hydrogen"/>
			<composite n="3" ref="nitrogen"/>
			<composite n="3" ref="oxygen"/>
		</material>

		<material name="matAsphalt" formula="Asphalt">
			<D value="2.32" unit="g/cm3"/>
			<fraction n="0.8677" ref="carbon"/>
			<fraction n="0.1094" ref="hydrogen"/>
			<fraction n="0.0110" ref="nitrogen"/>
			<fraction n="0.0099" ref="sulfur"/>
			<fraction n="0.0020" ref="oxygen"/>
		</material>

		<material name="SiO2" formula="SiO2">
			<D value="2.2" unit="g/cm3"/>
			<composite n="1" ref="silicon"/>
			<composite n="2" ref="oxygen"/>
		</material>

		<material name="Al2O3" formula="Al2O3">
			<D value="3.97" unit="g/cm3"/>
			<composite n="2" ref="aluminum"/>
			<composite n="3" ref="oxygen"/>
		</material>

		<material name="Fe2O3" formula="Fe2O3">
			<D value="5.24" unit="g/cm3"/>
			<composite n="2" ref="iron"/>
			<composite n="3" ref="oxygen"/>
		</material>

		<material name="CaO" formula="CaO">
			<D value="3.35" unit="g/cm3"/>
			<composite n="1" ref="calcium"/>
			<composite n="1" ref="oxygen"/>
		</material>

		<material name="MgO" formula="MgO">
			<D value="3.58" unit="g/cm3"/>
			<composite n="1" ref="magnesium"/>
			<composite n="1" ref="oxygen"/>
		</material>

		<material name="Na2O" formula="Na2O">
			<D value="2.27" unit="g/cm3"/>
			<composite n="2" ref="sodium"/>
			<composite n="1" ref="oxygen"/>
		</material>

		<material name="TiO2" formula="TiO2">
			<D value="4.23" unit="g/cm3"/>
			<composite n="1" ref="titanium"/>
			<composite n="2" ref="oxygen"/>
		</material>

		<material name="P2O5" formula="P2O5">
			<D value="1.562" unit="g/cm3"/>
			<composite n="2" ref="phosphorous"/>
			<composite n="5" ref="oxygen"/>
		</material>

		<material name="SO3" formula="SO3">
			<D value="1.92" unit="g/cm3"/>
			<composite n="1" ref="sulfur"/>
			<composite n="3" ref="oxygen"/>
		</material>

		<material name="K2O" formula="K2O">
			<D value="2.35" unit="g/cm3"/>
			<composite n="1" ref="hydrogen"/>
			<composite n="1" ref="oxygen"/>
			<composite n="2" ref="potassium"/>
		</material>

		<material name="MnO" formula="MnO">
			<D value="5.37" unit="g/cm3"/>
			<composite n="1" ref="manganese"/>
			<composite n="1" ref="oxygen"/>
		</material>

		<material name="V2O5" formula="V2O5">
			<D value="3.36" unit="g/cm3"/>
			<composite n="1" ref="vanadium"/>
			<composite n="5" ref="oxygen"/>
		</material>

		<material name="fibrous_glass">
			<D value="2.74351" unit="g/cm3"/>
			<fraction n="0.600" ref="SiO2"/>
			<fraction n="0.118" ref="Al2O3"/>
			<fraction n="0.001" ref="Fe2O3"/>
			<fraction n="0.224" ref="CaO"/>
			<fraction n="0.034" ref="MgO"/>
			<fraction n="0.010" ref="Na2O"/>
			<fraction n="0.013" ref="TiO2"/>
		</material>

		<material name="matCA6" formula=" " >
			<D value="1.698" unit="g/cm3"/>
			<fraction n="0.0030" ref="Na2O"/>
			<fraction n="0.1084" ref="MgO"/>
			<fraction n="0.0757" ref="Al2O3"/>
			<fraction n="0.3707" ref="SiO2"/>
			<fraction n="0.0010" ref="P2O5"/>
			<fraction n="0.0248" ref="SO3"/>
			<fraction n="0.0034" ref="K2O"/>
			<fraction n="0.3865" ref="CaO"/>
			<fraction n="0.0044" ref="TiO2"/>
			<fraction n="0.0066" ref="MnO"/>
			<fraction n="0.0056" ref="Fe2O3"/>
			<fraction n="0.0001" ref="V2O5"/>
			<fraction n="0.0102" ref="sulfur"/>
		</material>

		<material name="matFR4">
			<D value="1.98281" unit="g/cm3"/>
			<fraction n="0.47" ref="matEpoxyResin"/>
			<fraction n="0.53" ref="fibrous_glass"/>
		</material>

		<material name="STEEL_STAINLESS_Fe7Cr2Ni" formula="Fe7Cr2Ni">
			<D value="7.85" unit="g/cm3"/>
			<fraction n="0.0010" ref="carbon"/>
			<fraction n="0.1792" ref="chromium"/>
			<fraction n="0.7298" ref="iron"/>
			<fraction n="0.0900" ref="nickel"/>
		</material>

		<material name="matStructuralSteel" formula="S460L">
			<D value="7.85" unit="g/cm3"/>
			<fraction n="0.95630" ref="iron"/>
			<fraction n="0.01700" ref="manganese"/>
			<fraction n="0.00800" ref="nickel"/>
			<fraction n="0.00600" ref="silicon"/>
			<fraction n="0.00550" ref="copper"/>
			<fraction n="0.00300" ref="chromium"/>
			<fraction n="0.00160" ref="carbon"/>
			<fraction n="0.00120" ref="vanadium"/>
			<fraction n="0.00050" ref="titanium"/>
			<fraction n="0.00025" ref="phosphorous"/>
			<fraction n="0.00025" ref="nitrogen"/>
			<fraction n="0.00020" ref="sulfur"/>
			<fraction n="0.00020" ref="aluminum"/>
		</material>

		<material name="matGalvanizedSteel" formula="GSteel">
			<D value="2.323" unit="g/cm3"/>
			<fraction n="0.95630" ref="iron"/>
			<fraction n="0.01700" ref="manganese"/>
			<fraction n="0.00800" ref="nickel"/>
			<fraction n="0.00600" ref="silicon"/>
			<fraction n="0.00550" ref="copper"/>
			<fraction n="0.00300" ref="chromium"/>
			<fraction n="0.00160" ref="carbon"/>
			<fraction n="0.00120" ref="vanadium"/>
			<fraction n="0.00050" ref="titanium"/>
			<fraction n="0.00025" ref="phosphorous"/>
			<fraction n="0.00025" ref="nitrogen"/>
			<fraction n="0.00020" ref="sulfur"/>
			<fraction n="0.00020" ref="aluminum"/>
		</material>

		<material name="matRackSteel" formula="RackSteel"> <!-- Reduced Density!!! 0.18 (~200 kg rack) -->
			<D value="0.18" unit="g/cm3"/>
			<fraction n="0.95630" ref="iron"/>
			<fraction n="0.01700" ref="manganese"/>
			<fraction n="0.00800" ref="nickel"/>
			<fraction n="0.00600" ref="silicon"/>
			<fraction n="0.00550" ref="copper"/>
			<fraction n="0.00300" ref="chromium"/>
			<fraction n="0.00160" ref="carbon"/>
			<fraction n="0.00120" ref="vanadium"/>
			<fraction n="0.00050" ref="titanium"/>
			<fraction n="0.00025" ref="phosphorous"/>
			<fraction n="0.00025" ref="nitrogen"/>
			<fraction n="0.00020" ref="sulfur"/>
			<fraction n="0.00020" ref="aluminum"/>
		</material>

		<material name="matGratingSteel" formula="RackSteel"> <!-- Reduced Density!!! 7.85*0.16 -->
			<D value="1.256" unit="g/cm3"/>
			<fraction n="0.95630" ref="iron"/>
			<fraction n="0.01700" ref="manganese"/>
			<fraction n="0.00800" ref="nickel"/>
			<fraction n="0.00600" ref="silicon"/>
			<fraction n="0.00550" ref="copper"/>
			<fraction n="0.00300" ref="chromium"/>
			<fraction n="0.00160" ref="carbon"/>
			<fraction n="0.00120" ref="vanadium"/>
			<fraction n="0.00050" ref="titanium"/>
			<fraction n="0.00025" ref="phosphorous"/>
			<fraction n="0.00025" ref="nitrogen"/>
			<fraction n="0.00020" ref="sulfur"/>
			<fraction n="0.00020" ref="aluminum"/>
		</material>

		<material name="LAr" formula="LAr">
			<D value="LAr_Density" unit="g/cm3"/>
			<fraction n="1.0000" ref="argon"/>
		</material>

		<material name="GAr" formula="GAr">
			<D value="GAr_Density" unit="g/cm3"/>
			<fraction n="1.0000" ref="argon"/>
		</material>

		<material name="LN2" formula="LN2">
			<D value="0.804" unit="g/cm3"/>
			<fraction n="1.0000" ref="nitrogen"/>
		</material>

		<material name="G10 " >
			<D value="1.7" unit="g/cm3"/>
			<fraction n="0.2805" ref="silicon"/>
			<fraction n="0.3954" ref="oxygen"/>
			<fraction n="0.2990" ref="carbon"/>
			<fraction n="0.0251" ref="hydrogen"/>
		</material>


		<material name="matTitanium" >
			<D value="4.506" unit="g/cm3"/>
			<fraction n="1." ref="titanium"/>
		</material>

		<material name="TPB" formula="TPB">
			<D value="1.40" unit="g/cm3"/>
			<fraction n="1.0000" ref="argon"/>
		</material>

		<material name="matGlass">
			<D value="2.5790" unit="g/cm3"/>
			<fraction n="0.600" ref="SiO2"/>
			<fraction n="0.118" ref="Al2O3"/>
			<fraction n="0.001" ref="Fe2O3"/>
			<fraction n="0.224" ref="CaO"/>
			<fraction n="0.034" ref="MgO"/>
			<fraction n="0.010" ref="Na2O"/>
			<fraction n="0.013" ref="TiO2"/>
		</material>

		<material name="matAcrylic">
			<D value="1.19" unit="g/cm3"/>
			<fraction n="0.600" ref="carbon"/>
			<fraction n="0.320" ref="oxygen"/>
			<fraction n="0.080" ref="hydrogen"/>
		</material>

		<material name="matPolystyrene">
			<D value="1.06" unit="g/cm3"/>
			<fraction n="0.077418" ref="hydrogen"/>
			<fraction n="0.922582" ref="carbon"/>
		</material>

		<material name="matSteelMesh">
			<D value="meshDensity" unit="g/cm3"/>
			<fraction n="meshWires_n" ref="STEEL_STAINLESS_Fe7Cr2Ni"/>
			<fraction n="meshLAr_n" ref="LAr"/>
		</material>

		<material name="vm2000" formula="VM2000">
			<D value="1.2" unit="g/cm3"/>
			<composite n="2" ref="carbon"/>
			<composite n="4" ref="hydrogen"/>
		</material>

		<material name="Copper_Beryllium_alloy25" formula="Copper Beryllium Alloy">
			<D value="8.26" unit="g/cm3"/>
			<fraction n="0.981" ref="copper"/>
			<fraction n="0.019" ref="beryllium"/>
		</material>

		<material name="matPlywood" formula="wood">
			<D value="0.67" unit="g/cm3"/>
			<fraction n="0.495" ref="carbon"/>
			<fraction n="0.063" ref="hydrogen"/>
			<fraction n="0.442" ref="oxygen"/>
		</material>

		<material name="matMassBuffer" formula="">
			<D value="densityMassBuffer_g_cm3" unit="g/cm3"/>
			<fraction n="0.7298" ref="iron"/>
			<fraction n="0.1792" ref="chromium"/>
			<fraction n="0.0900" ref="nickel"/>
			<fraction n="0.0010" ref="carbon"/>
		</material>

	</materials>


	<!-- ====================================================================== -->
	<!-- Interior Items                                                         -->
	<!-- ====================================================================== -->

	<!-- Racks -->
	<solids>
		<box name="boxRackSmall"  lunit="mm" x="small_rack_x" y="small_rack_y" z="small_rack_z" />
        <box name="boxRackLarge"  lunit="mm" x="large_rack_x" y="large_rack_y" z="large_rack_z" />
	</solids>

	<structure>
		<volume name="volRackSmall">
			<materialref ref="matRackSteel"/>
			<solidref ref="boxRackSmall"/>
		</volume>
		<volume name="volRackLarge">
			<materialref ref="matRackSteel"/>
			<solidref ref="boxRackLarge"/>
		</volume>
	</structure>

	<!-- Cryogenics TODO -->

	<!-- ====================================================================== -->
	<!-- Building                                                               -->
	<!-- ====================================================================== -->

	<solids>

		<box name="boxBuldingOutter" lunit="mm" x="dimBuildingExternal_X_mm" y="dimBuildingExternal_Y_mm" z="dimBuildingExternal_Z_mm" />
		<box name="boxBuldingInner"  lunit="mm" x="dimBuildingInternal_X_mm" y="dimBuildingInternal_Y_mm" z="dimBuildingInternal_Z_mm" />
		<subtraction name="solidBuilding">
			<first  ref="boxBuldingOutter"/>
			<second ref="boxBuldingInner"/>
			<position name="posBuldingSubtraction" unit="mm" x="2*(dimBuildingWallSpacing_E_mm-dimBuildingWallSpacing_W_mm)" y="-dimBuildingWallSpacing_Celling_mm/2.0-_eD_" z="0"/>
		</subtraction>

		<box name="boxWall_NorthSouth" lunit="mm" x="dimBuildingExternal_X_mm" y="dimBuildingExternal_Y_mm" z="dimBuildingWall_T_mm" />
		<box name="boxWallMetalPlate_NorthSouth" lunit="mm" x="dimBuildingExternal_X_mm" y="dimBuildingExternal_Y_mm" z="dimWallMetalPlate_T_mm" />
		<box name="boxWallInsulation_NorthSouth" lunit="mm" x="dimBuildingExternal_X_mm" y="dimBuildingExternal_Y_mm" z="dimWallInsulation_T_mm" />

		<box name="boxWall_West" lunit="mm" x="dimBuildingWall_T_mm" y="dimBuildingExternal_Y_mm" z="dimBuildingExternal_Z_mm-2.0*dimBuildingWall_T_mm" />
		<box name="boxWallMetalPlate_West" lunit="mm" x="dimWallMetalPlate_T_mm" y="dimBuildingExternal_Y_mm" z="dimBuildingExternal_Z_mm-2.0*dimBuildingWall_T_mm" />
		<box name="boxWallInsulation_West" lunit="mm" x="dimWallInsulation_T_mm" y="dimBuildingExternal_Y_mm" z="dimBuildingExternal_Z_mm-2.0*dimBuildingWall_T_mm" />

		<box name="boxWall_East" lunit="mm" x="dimBuildingWall_T_mm" y="dimBuildingWallSpacing_Celling_mm" z="dimBuildingExternal_Z_mm" />
		<box name="boxWallMetalPlate_East" lunit="mm" x="dimWallMetalPlate_T_mm" y="dimBuildingWallSpacing_Celling_mm" z="dimBuildingExternal_Z_mm-2.0*dimBuildingWall_T_mm" />
		<box name="boxWallInsulation_East" lunit="mm" x="dimWallInsulation_T_mm" y="dimBuildingWallSpacing_Celling_mm" z="dimBuildingExternal_Z_mm-2.0*dimBuildingWall_T_mm" />

		<box name="boxBuldingTranslucentWall" lunit="mm" x="dimBuildingWindow_T_mm" y="dimBuildingTranslucentWall_H_mm" z="dimBuildingExternal_Z_mm-2.0*dimBuildingWall_T_mm" />
		<box name="boxBuldingWindow" lunit="mm" x="dimBuildingWindow_T_mm" y="dimBuildingWindow_H_mm" z="dimBuildingExternal_Z_mm-2.0*dimBuildingWall_T_mm" />

		<box name="boxBuildingIBeam_V_Flange" lunit="mm" x="dimBuildingIBeam_Flange_T_mm" y="dimBuildingIBeam_Length_1_mm" z="dimBuildingIBeam_Flange_W_mm" />
		<box name="boxBuildingIBeam_V_Web"    lunit="mm" x="dimBuildingIBeam_Web_W_mm" y="dimBuildingIBeam_Length_1_mm" z="dimBuildingIBeam_Web_T_mm" />

		<union name="solidBuildingIBeam_V_1">
			<first  ref="boxBuildingIBeam_V_Web"/>
			<second ref="boxBuildingIBeam_V_Flange"/>
			<position name="posBuldingIBUnion_1" unit="mm" x="+(dimBuildingIBeam_Web_W_mm-dimBuildingIBeam_Flange_T_mm+_eD_)/2.0" y="0" z="0"/>
		</union>

		<union name="solidBuildingIBeam_V">
			<first  ref="solidBuildingIBeam_V_1"/>
			<second ref="boxBuildingIBeam_V_Flange"/>
			<position name="posBuldingIBUnion_2" unit="mm" x="-(dimBuildingIBeam_Web_W_mm-dimBuildingIBeam_Flange_T_mm+_eD_)/2.0" y="0" z="0"/>
		</union>

		<box name="boxBuildingIBeam_H_Flange" lunit="mm" y="dimBuildingIBeam_Flange_T_mm" z="dimBuildingIBeam_Length_2_mm" x="dimBuildingIBeam_Flange_W_mm" />
		<box name="boxBuildingIBeam_H_Web"    lunit="mm" y="dimBuildingIBeam_Web_W_mm" z="dimBuildingIBeam_Length_2_mm" x="dimBuildingIBeam_Web_T_mm" />

		<union name="solidBuildingIBeam_H_1">
			<first  ref="boxBuildingIBeam_H_Web"/>
			<second ref="boxBuildingIBeam_H_Flange"/>
			<position name="posBuldingIBUnion_3" unit="mm" x="0" y="+(dimBuildingIBeam_Web_W_mm-dimBuildingIBeam_Flange_T_mm+_eD_)/2.0" z="0"/>
		</union>

		<union name="solidBuildingIBeam_H">
			<first  ref="solidBuildingIBeam_H_1"/>
			<second ref="boxBuildingIBeam_H_Flange"/>
			<position name="posBuldingIBUnion_4" unit="mm" x="0" y="-(dimBuildingIBeam_Web_W_mm-dimBuildingIBeam_Flange_T_mm+_eD_)/2.0" z="0"/>
		</union>

		<box name="boxBuldingTubeOutter_1" lunit="mm" x="dimBuldingTube_W_mm" y="dimBuldingTube_H_mm" z="dimBuldingTube_L_1_mm" />
		<box name="boxBuldingTubeInner_1"  lunit="mm" x="dimBuldingTube_W_mm-dimBuldingTube_T_mm" y="dimBuldingTube_H_mm-dimBuldingTube_T_mm" z="dimBuldingTube_L_1_mm+_eD_" />
		<subtraction name="solidBuldingTube_1">
			<first  ref="boxBuldingTubeOutter_1"/>
			<second ref="boxBuldingTubeInner_1"/>
		</subtraction>

		<box name="boxBuldingTubeOutter_2" lunit="mm" z="dimBuldingTube_W_mm" y="dimBuldingTube_H_mm" x="dimBuldingTube_L_2_mm" />
		<box name="boxBuldingTubeInner_2"  lunit="mm" z="dimBuldingTube_W_mm-dimBuldingTube_T_mm" y="dimBuldingTube_H_mm-dimBuldingTube_T_mm" x="dimBuldingTube_L_1_mm+_eD_" />
		<subtraction name="solidBuldingTube_2">
			<first  ref="boxBuldingTubeOutter_2"/>
			<second ref="boxBuldingTubeInner_2"/>
		</subtraction>

		<box name="boxBuldingTubeOutter_3" lunit="mm" x="dimBuldingTube_W_mm" z="dimBuldingTube_H_mm" y="dimBuldingTube_L_1_mm" />
		<box name="boxBuldingTubeInner_3"  lunit="mm" x="dimBuldingTube_W_mm-dimBuldingTube_T_mm" z="dimBuldingTube_H_mm-dimBuldingTube_T_mm" y="dimBuldingTubeQ_L_1_mm+_eD_" />
		<subtraction name="solidBuldingTube_3">
			<first  ref="boxBuldingTubeOutter_3"/>
			<second ref="boxBuldingTubeInner_3"/>
		</subtraction>

		<box name="boxBuldingTubeOutter_Q" lunit="mm" x="dimBuldingTubeQ_W_mm" z="dimBuldingTubeQ_H_mm" y="dimBuldingTubeQ_L_1_mm" />
		<box name="boxBuldingTubeInner_Q"  lunit="mm" x="dimBuldingTubeQ_W_mm-dimBuldingTubeQ_T_mm" z="dimBuldingTubeQ_H_mm-dimBuldingTubeQ_T_mm" y="dimBuldingTubeQ_L_1_mm+_eD_" />
		<subtraction name="solidBuldingTube_Q">
			<first  ref="boxBuldingTubeOutter_Q"/>
			<second ref="boxBuldingTubeInner_Q"/>
		</subtraction>

		<box name="boxCeilingInsulation_Sloped" lunit="mm" x="dimBuildingExternal_X_mm-3.0*dimBuildingWall_T_mm" y="dimBuildingCeilingInsulation_T2_mm" z="dimBuildingExternal_Z_mm-2.0*dimBuildingWall_T_mm" />
		<box name="boxCeilingInsulation_Base" lunit="mm" x="dimBuildingExternal_X_mm" y="dimBuildingCeilingInsulation_T2_mm" z="dimBuildingExternal_Z_mm" />
		<box name="boxCeilingSkylightHole" lunit="mm" x="dimBuildingSylight_L_mm" y="3.0*dimBuildingCeilingInsulation_T2_mm" z="dimBuildingSylight_W_mm" />
		<subtraction name="solidCeilingInsulation_Sloped_1">
			<first  ref="boxCeilingInsulation_Sloped"/>
			<second ref="boxCeilingInsulation_Base"/>
			<position name="posBuldingSubtraction_1" unit="mm" x="0" y="-dimBuildingCeilingInsulation_T2_mm/2.0" z="0"/>
			<rotationref ref="rotBuldingCeilingSlopeP"/>
		</subtraction>

		<subtraction name="solidCeilingInsulation_Sloped">
			<first  ref="solidCeilingInsulation_Sloped_1"/>
			<second ref="boxCeilingSkylightHole"/>
			<position name="posBuldingSubtraction_2" unit="mm" x="0" y="0" z="-coordBuildingSylight_Z_mm"/>
		</subtraction>

		<box name="boxCeilingInsulation_External" lunit="mm" x="dimBuildingExternal_X_mm-3.0*dimBuildingWall_T_mm" y="dimBuildingCeilingAlphalt_T_mm" z="dimBuildingExternal_Z_mm-2.0*dimBuildingWall_T_mm" />
		<subtraction name="solidCeilingInsulation_External">
			<first  ref="boxCeilingInsulation_External"/>
			<second ref="boxCeilingSkylightHole"/>
			<position name="posBuldingSubtraction_3" unit="mm" x="0" y="0" z="-coordBuildingSylight_Z_mm"/>
			<rotationref ref="rotBuldingCeilingSlopeP"/>
		</subtraction>

		<box name="boxCeilingSteelDeck" lunit="mm" x="dimBuildingExternal_X_mm-2.0*dimBuildingWall_T_mm" y="dimBuildingSteelDeck_T_mm" z="dimBuildingExternal_Z_mm-2.0*dimBuildingWall_T_mm" />
		<subtraction name="solidCeilingSteelDeck">
			<first  ref="boxCeilingSteelDeck"/>
			<second ref="boxCeilingSkylightHole"/>
			<position name="posBuldingSubtraction_4" unit="mm" x="0" y="0" z="-coordBuildingSylight_Z_mm"/>
		</subtraction>

		<box name="boxCeilingSkylightCover" lunit="mm" x="dimBuildingSylight_L_mm" y="0.74*_in_" z="dimBuildingSylight_W_mm" />

		<!-- A container for the interiors-->
		<box name="boxInteriors"  lunit="mm" x="dimDetectorHall_X_mm" y="box_interiors_y" z="mezzanine_Z" />

	</solids>

	<structure>

		<volume name="volCeilingInsulation">
			<materialref ref="matPIRFoam"/>
			<solidref ref="solidCeilingInsulation_Sloped"/>
		</volume>

		<volume name="volCeilingInsulation_External">
			<materialref ref="matAsphalt"/>
			<solidref ref="solidCeilingInsulation_External"/>
		</volume>

		<volume name="volCeilingSteelDeck">
			<materialref ref="matGalvanizedSteel"/>
			<solidref ref="solidCeilingSteelDeck"/>
		</volume>

		<volume name="volCeilingSkylightCover">
			<materialref ref="fibrous_glass"/>
			<solidref ref="boxCeilingSkylightCover"/>
		</volume>

		<volume name="volBuldingTube_H_1">
			<materialref ref="STEEL_STAINLESS_Fe7Cr2Ni"/>
			<solidref ref="solidBuldingTube_1"/>
		</volume>

		<volume name="volBuldingTube_H_2">
			<materialref ref="STEEL_STAINLESS_Fe7Cr2Ni"/>
			<solidref ref="solidBuldingTube_2"/>
		</volume>

		<volume name="volBuldingTube_V_1">
			<materialref ref="STEEL_STAINLESS_Fe7Cr2Ni"/>
			<solidref ref="solidBuldingTube_Q"/>
		</volume>

		<volume name="volWallMetalPlate_NorthSouth">
			<materialref ref="STEEL_STAINLESS_Fe7Cr2Ni"/>
			<solidref ref="boxWallMetalPlate_NorthSouth"/>
		</volume>

		<volume name="volWallInsulation_NorthSouth">
			<materialref ref="matPUFoam_walls"/>
			<solidref ref="boxWallInsulation_NorthSouth"/>
		</volume>

		<volume name="volBuildingWall_NorthSouth">
			<materialref ref="matAir"/>
			<solidref ref="boxWall_NorthSouth"/>
			<physvol>
				<volumeref ref="volWallMetalPlate_NorthSouth"/>
				<position name="posWallMP_NS_1" unit="mm" x="0" y="0" z="+(dimBuildingWall_T_mm-dimWallMetalPlate_T_mm)/2.0"/>
			</physvol>
			<physvol>
				<volumeref ref="volWallInsulation_NorthSouth"/>

			</physvol>
			<physvol>
				<volumeref ref="volWallMetalPlate_NorthSouth"/>
				<position name="posWallMP_NS_2" unit="mm" x="0" y="0" z="-(dimBuildingWall_T_mm-dimWallMetalPlate_T_mm)/2.0"/>
			</physvol>
		</volume>

		<volume name="volWallMetalPlate_West">
			<materialref ref="STEEL_STAINLESS_Fe7Cr2Ni"/>
			<solidref ref="boxWallMetalPlate_West"/>
		</volume>

		<volume name="volWallInsulation_West">
			<materialref ref="matPUFoam_walls"/>
			<solidref ref="boxWallInsulation_West"/>
		</volume>

		<volume name="volBuildingWall_West">
			<materialref ref="matAir"/>
			<solidref ref="boxWall_West"/>
			<physvol>
				<volumeref ref="volWallMetalPlate_West"/>
				<position name="posWallMP_W_1" unit="mm" x="+(dimBuildingWall_T_mm-dimWallMetalPlate_T_mm)/2.0" y="0" z="0"/>
			</physvol>
			<physvol>
				<volumeref ref="volWallInsulation_West"/>

			</physvol>
			<physvol>
				<volumeref ref="volWallMetalPlate_West"/>
				<position name="posWallMP_W_2" unit="mm" x="-(dimBuildingWall_T_mm-dimWallMetalPlate_T_mm)/2.0" y="0" z="0"/>
			</physvol>
		</volume>

		<volume name="volWallMetalPlate_East">
			<materialref ref="STEEL_STAINLESS_Fe7Cr2Ni"/>
			<solidref ref="boxWallMetalPlate_East"/>
		</volume>

		<volume name="volWallInsulation_East">
			<materialref ref="matPUFoam_walls"/>
			<solidref ref="boxWallInsulation_East"/>
		</volume>

		<volume name="volBuildingWall_East">
			<materialref ref="matAir"/>
			<solidref ref="boxWall_East"/>
			<physvol>
				<volumeref ref="volWallMetalPlate_East"/>
				<position name="posWallMP_S_1" unit="mm" x="+(dimBuildingWall_T_mm-dimWallMetalPlate_T_mm)/2.0" y="0" z="0"/>
			</physvol>
			<physvol>
				<volumeref ref="volWallInsulation_East"/>

			</physvol>
			<physvol>
				<volumeref ref="volWallMetalPlate_East"/>
				<position name="posWallMP_S_2" unit="mm" x="-(dimBuildingWall_T_mm-dimWallMetalPlate_T_mm)/2.0" y="0" z="0"/>
			</physvol>
		</volume>

		<volume name="volBuildingIBeam_V">
			<materialref ref="matStructuralSteel"/>
			<solidref ref="solidBuildingIBeam_V"/>
		</volume>

		<volume name="volBuildingIBeam_H">
			<materialref ref="matStructuralSteel"/>
			<solidref ref="solidBuildingIBeam_H"/>
		</volume>

		<volume name="volBuildingWindow">
			<materialref ref="matGlass"/>
			<solidref ref="boxBuldingWindow"/>
		</volume>

		<volume name="volBuildingTranslucentWall">
			<materialref ref="fibrous_glass"/>
			<solidref ref="boxBuldingTranslucentWall"/>
		</volume>

		<volume name="volInteriors">
			<materialref ref="matAir"/>
			<solidref ref="boxInteriors"/>
			<!-- LCS1 Rack -->
			<physvol>
				<volumeref ref="volRackLarge"/>
				<position name="posBuildingRackLarge_0" unit="mm"
							x="(-dimDetectorHall_X_mm/2+large_rack_z/2)"
							y="(-box_interiors_y/2+large_rack_y/2)"
							z="(-mezzanine_Z+large_rack_x)/2" />
				<rotationref ref="rotateP90Y"/>
			</physvol>
			<!-- LCS2 Rack -->
			<physvol>
				<volumeref ref="volRackLarge"/>
				<position name="posBuildingRackLarge_1" unit="mm"
							x="(-dimDetectorHall_X_mm/2+large_rack_z/2)"
							y="(-box_interiors_y/2+large_rack_y/2)"
							z="(-mezzanine_Z+large_rack_x)/2 + 1 * (large_rack_x + rack_padding)" />
				<rotationref ref="rotateP90Y"/>
			</physvol>
			<!-- CRT-UTIL Rack -->
			<physvol>
				<volumeref ref="volRackLarge"/>
				<position name="posBuildingRackLarge_2" unit="mm"
							x="(-dimDetectorHall_X_mm/2+large_rack_z/2)"
							y="(-box_interiors_y/2+large_rack_y/2)"
							z="(-mezzanine_Z+large_rack_x)/2 + 2 * (large_rack_x + rack_padding)" />
				<rotationref ref="rotateP90Y"/>
			</physvol>

			<!-- PM1 Rack -->
			<physvol>
				<volumeref ref="volRackSmall"/>
				<position name="posBuildingRackSmall_0" unit="mm"
							x="(-dimDetectorHall_X_mm/2+small_rack_x/2) + 5000"
							y="(-box_interiors_y/2+small_rack_y/2)"
							z="(-mezzanine_Z+small_rack_z)/2" />
			</physvol>
			<!-- PM2 Rack -->
			<physvol>
				<volumeref ref="volRackSmall"/>
				<position name="posBuildingRackSmall_1" unit="mm"
							x="(-dimDetectorHall_X_mm/2+small_rack_x/2) + 5000"
							y="(-box_interiors_y/2+small_rack_y/2)"
							z="(-mezzanine_Z+small_rack_z)/2 + 1500" />
			</physvol>
			<!-- HV1 Rack -->
			<physvol>
				<volumeref ref="volRackSmall"/>
				<position name="posBuildingRackSmall_2" unit="mm"
							x="(-dimDetectorHall_X_mm/2+small_rack_x/2) + 5000 + 1 * (small_rack_x + rack_padding)"
							y="(-box_interiors_y/2+small_rack_y/2)"
							z="(-mezzanine_Z+small_rack_z)/2" />
			</physvol>

			<!-- GA2 Rack -->
			<physvol>
				<volumeref ref="volRackLarge"/>
				<position name="posBuildingRackSmall_3" unit="mm"
							x="(-dimDetectorHall_X_mm/2+large_rack_x/2) + 7000"
							y="(-box_interiors_y/2+large_rack_y/2)"
							z="(-mezzanine_Z+large_rack_z)/2 + 3500" />
			</physvol>
			<!-- GA1 Rack -->
			<physvol>
				<volumeref ref="volRackLarge"/>
				<position name="posBuildingRackSmall_4" unit="mm"
							x="(-dimDetectorHall_X_mm/2+large_rack_x/2) + 7000 + 1 * (large_rack_x + rack_padding)"
							y="(-box_interiors_y/2+large_rack_y/2)"
							z="(-mezzanine_Z+large_rack_z)/2 + 3500" />
			</physvol>
		</volume>

		<volume name="volBuilding">
			<materialref ref="matAir"/>
			<solidref ref="solidBuilding"/>

			<physvol>
				<volumeref ref="volCeilingInsulation"/>
				<position name="posCeiling" unit="mm" x="0" y="dimBuildingCeiling_Y_mm-dimBuildingExternal_Y_mm/2.0" z="0"/>
				<rotationref ref="rotBuldingCeilingSlopeP"/>
			</physvol>
			<physvol>
				<volumeref ref="volCeilingInsulation_External"/>
				<position name="posCeiling_External" unit="mm" x="0" y="dimBuildingCeilingAlphalt_T_mm+dimBuildingCeilingInsulation_T2_mm/2.0+dimBuildingCeiling_Y_mm-dimBuildingExternal_Y_mm/2.0" z="0"/>
				<rotationref ref="rotBuldingCeilingSlopeP"/>
			</physvol>
			<physvol>
				<volumeref ref="volCeilingSteelDeck"/>
				<position name="posCeiling_SteelDeck" unit="mm" x="0" y="-dimBuildingSteelDeck_T_mm/2.0+dimBuildingCeiling_Y_mm-dimBuildingExternal_Y_mm/2.0" z="0"/>
			</physvol>
			<physvol>
				<volumeref ref="volCeilingSkylightCover"/>
				<position name="posCeiling_Skylight" unit="mm" x="0" y="dimBuildingCeilingAlphalt_T_mm+dimBuildingCeilingInsulation_T2_mm/2.0+dimBuildingCeiling_Y_mm-dimBuildingExternal_Y_mm/2.0" z="-coordBuildingSylight_Z_mm"/>
				<rotationref ref="rotBuldingCeilingSlopeP"/>
			</physvol>
			<physvol>
				<volumeref ref="volBuildingWall_NorthSouth"/>
				<position name="posWall_S" unit="mm" x="0" y="0" z="-(dimBuildingExternal_Z_mm-dimBuildingWall_T_mm)/2.0"/>
			</physvol>

			<physvol>
				<volumeref ref="volBuildingWall_NorthSouth"/>
				<position name="posWall_N" unit="mm" x="0" y="0" z="+(dimBuildingExternal_Z_mm-dimBuildingWall_T_mm)/2.0"/>
			</physvol>

			<physvol>
				<volumeref ref="volBuildingWall_West"/>
				<position name="posWall_W" unit="mm" x="+(dimBuildingExternal_X_mm-dimBuildingWall_T_mm)/2.0" y="0" z="0"/>
			</physvol>

			<physvol>
				<volumeref ref="volBuildingWall_East"/>
				<position name="posWall_E" unit="mm" x="-(dimBuildingExternal_X_mm-dimBuildingWall_T_mm)/2.0" y="(dimBuildingExternal_Y_mm-dimBuildingWallSpacing_Celling_mm)/2.0" z="0"/>
			</physvol>

			<physvol>
				<volumeref ref="volBuildingWindow"/>
				<position name="posWindow_1" unit="mm" x="-(dimBuildingExternal_X_mm-dimBuildingWindow_T_mm)/2.0" y="(dimBuildingWindow_H_mm-dimBuildingExternal_Y_mm)/2.0" z="0"/>
			</physvol>

			<physvol>
				<volumeref ref="volBuildingTranslucentWall"/>
				<position name="posWindow_2" unit="mm" x="-(dimBuildingExternal_X_mm-dimBuildingWindow_T_mm)/2.0" y="dimBuildingWindow_H_mm+(dimBuildingTranslucentWall_H_mm-dimBuildingExternal_Y_mm)/2.0" z="0"/>
			</physvol>

			<physvol>
				<volumeref ref="volBuildingIBeam_V"/>
				<position name="posBeam_0" unit="mm" x="coordBuildingIB_W_X_mm-dimBuildingExternal_X_mm/2.0" y="coordBuildingIB_V_Y_mm-dimBuildingExternal_Y_mm/2.0" z="coordBuildingIB_W0_Z_mm-dimBuildingExternal_Z_mm/2.0"/>
			</physvol>
			<physvol>
				<volumeref ref="volBuildingIBeam_V"/>
				<position name="posBeam_1" unit="mm" x="coordBuildingIB_W_X_mm-dimBuildingExternal_X_mm/2.0" y="coordBuildingIB_V_Y_mm-dimBuildingExternal_Y_mm/2.0" z="coordBuildingIB_W1_Z_mm-dimBuildingExternal_Z_mm/2.0"/>
			</physvol>
			<physvol>
				<volumeref ref="volBuildingIBeam_V"/>
				<position name="posBeam_2" unit="mm" x="coordBuildingIB_W_X_mm-dimBuildingExternal_X_mm/2.0" y="coordBuildingIB_V_Y_mm-dimBuildingExternal_Y_mm/2.0" z="coordBuildingIB_W2_Z_mm-dimBuildingExternal_Z_mm/2.0"/>
			</physvol>
			<physvol>
				<volumeref ref="volBuildingIBeam_V"/>
				<position name="posBeam_3" unit="mm" x="coordBuildingIB_W_X_mm-dimBuildingExternal_X_mm/2.0" y="coordBuildingIB_V_Y_mm-dimBuildingExternal_Y_mm/2.0" z="coordBuildingIB_W3_Z_mm-dimBuildingExternal_Z_mm/2.0"/>
			</physvol>
			<physvol>
				<volumeref ref="volBuildingIBeam_V"/>
				<position name="posBeam_4" unit="mm" x="coordBuildingIB_W_X_mm-dimBuildingExternal_X_mm/2.0" y="coordBuildingIB_V_Y_mm-dimBuildingExternal_Y_mm/2.0" z="coordBuildingIB_W4_Z_mm-dimBuildingExternal_Z_mm/2.0"/>
			</physvol>
			<physvol>
				<volumeref ref="volBuildingIBeam_V"/>
				<position name="posBeam_5" unit="mm" x="-coordBuildingIB_E_X_mm+dimBuildingExternal_X_mm/2.0" y="coordBuildingIB_V_Y_mm-dimBuildingExternal_Y_mm/2.0" z="coordBuildingIB_W0_Z_mm-dimBuildingExternal_Z_mm/2.0"/>
			</physvol>
			<physvol>
				<volumeref ref="volBuildingIBeam_V"/>
				<position name="posBeam_6" unit="mm" x="-coordBuildingIB_E_X_mm+dimBuildingExternal_X_mm/2.0" y="coordBuildingIB_V_Y_mm-dimBuildingExternal_Y_mm/2.0" z="coordBuildingIB_W1_Z_mm-dimBuildingExternal_Z_mm/2.0"/>
			</physvol>
			<physvol>
				<volumeref ref="volBuildingIBeam_V"/>
				<position name="posBeam_7" unit="mm" x="-coordBuildingIB_E_X_mm+dimBuildingExternal_X_mm/2.0" y="coordBuildingIB_V_Y_mm-dimBuildingExternal_Y_mm/2.0" z="coordBuildingIB_W2_Z_mm-dimBuildingExternal_Z_mm/2.0"/>
			</physvol>
			<physvol>
				<volumeref ref="volBuildingIBeam_V"/>
				<position name="posBeam_8" unit="mm" x="-coordBuildingIB_E_X_mm+dimBuildingExternal_X_mm/2.0" y="coordBuildingIB_V_Y_mm-dimBuildingExternal_Y_mm/2.0" z="coordBuildingIB_W3_Z_mm-dimBuildingExternal_Z_mm/2.0"/>
			</physvol>
			<physvol>
				<volumeref ref="volBuildingIBeam_V"/>
				<position name="posBeam_9" unit="mm" x="-coordBuildingIB_E_X_mm+dimBuildingExternal_X_mm/2.0" y="coordBuildingIB_V_Y_mm-dimBuildingExternal_Y_mm/2.0" z="coordBuildingIB_W4_Z_mm-dimBuildingExternal_Z_mm/2.0"/>
			</physvol>

			<physvol>
				<volumeref ref="volBuildingIBeam_H"/>
				<position name="posBeam_10" unit="mm" x="coordBuildingIB_W_X_mm-dimBuildingExternal_X_mm/2.0" y="coordBuildingIB_H_Y_mm-dimBuildingExternal_Y_mm/2.0" z="0"/>
			</physvol>
			<physvol>
				<volumeref ref="volBuildingIBeam_H"/>
				<position name="posBeam_11" unit="mm" x="-coordBuildingIB_E_X_mm+dimBuildingExternal_X_mm/2.0" y="coordBuildingIB_H_Y_mm-dimBuildingExternal_Y_mm/2.0" z="0"/>
			</physvol>

			<physvol>
				<volumeref ref="volBuldingTube_H_1"/>
				<position name="posTube_1" unit="mm" x="(dimBuildingExternal_X_mm-dimBuldingTube_W_mm)/2.0-dimBuildingWall_T_mm-_eD_" y="8.*_ft_-dimBuildingExternal_Y_mm/2.0" z="0"/>
			</physvol>

			<physvol>
				<volumeref ref="volBuldingTube_H_1"/>
				<position name="posTube_2" unit="mm" x="(dimBuildingExternal_X_mm-dimBuldingTube_W_mm)/2.0-dimBuildingWall_T_mm-_eD_" y="2*8.*_ft_-dimBuildingExternal_Y_mm/2.0" z="0"/>
			</physvol>

			<physvol>
				<volumeref ref="volBuldingTube_H_1"/>
				<position name="posTube_3" unit="mm" x="(dimBuildingExternal_X_mm-dimBuldingTube_W_mm)/2.0-dimBuildingWall_T_mm-_eD_" y="3*8.*_ft_-dimBuildingExternal_Y_mm/2.0" z="0"/>
			</physvol>

			<physvol>
				<volumeref ref="volBuldingTube_H_1"/>
				<position name="posTube_4" unit="mm" x="(dimBuildingExternal_X_mm-dimBuldingTube_W_mm)/2.0-dimBuildingWall_T_mm-_eD_" y="4*8.*_ft_-dimBuildingExternal_Y_mm/2.0" z="0"/>
			</physvol>

			<physvol>
				<volumeref ref="volBuldingTube_H_2"/>
				<position name="posTube_5" unit="mm" z="(dimBuildingExternal_Z_mm-dimBuldingTube_W_mm)/2.0-dimBuildingWall_T_mm-_eD_" y="8.*_ft_-dimBuildingExternal_Y_mm/2.0" x="0"/>
			</physvol>

			<physvol>
				<volumeref ref="volBuldingTube_H_2"/>
				<position name="posTube_6" unit="mm" z="(dimBuildingExternal_Z_mm-dimBuldingTube_W_mm)/2.0-dimBuildingWall_T_mm-_eD_" y="2*8.*_ft_-dimBuildingExternal_Y_mm/2.0" x="0"/>
			</physvol>

			<physvol>
				<volumeref ref="volBuldingTube_H_2"/>
				<position name="posTube_7" unit="mm" z="(dimBuildingExternal_Z_mm-dimBuldingTube_W_mm)/2.0-dimBuildingWall_T_mm-_eD_" y="3*8.*_ft_-dimBuildingExternal_Y_mm/2.0" x="0"/>
			</physvol>

			<physvol>
				<volumeref ref="volBuldingTube_H_2"/>
				<position name="posTube_8" unit="mm" z="(dimBuildingExternal_Z_mm-dimBuldingTube_W_mm)/2.0-dimBuildingWall_T_mm-_eD_" y="4*8.*_ft_-dimBuildingExternal_Y_mm/2.0" x="0"/>
			</physvol>

			<physvol>
				<volumeref ref="volBuldingTube_H_2"/>
				<position name="posTube_9" unit="mm" z="-((dimBuildingExternal_Z_mm-dimBuldingTube_W_mm)/2.0-dimBuildingWall_T_mm-_eD_)" y="8.*_ft_-dimBuildingExternal_Y_mm/2.0" x="0"/>
			</physvol>

			<physvol>
				<volumeref ref="volBuldingTube_H_2"/>
				<position name="posTube_10" unit="mm" z="-((dimBuildingExternal_Z_mm-dimBuldingTube_W_mm)/2.0-dimBuildingWall_T_mm-_eD_)" y="2*8.*_ft_-dimBuildingExternal_Y_mm/2.0" x="0"/>
			</physvol>

			<physvol>
				<volumeref ref="volBuldingTube_H_2"/>
				<position name="posTube_11" unit="mm" z="-((dimBuildingExternal_Z_mm-dimBuldingTube_W_mm)/2.0-dimBuildingWall_T_mm-_eD_)" y="3*8.*_ft_-dimBuildingExternal_Y_mm/2.0" x="0"/>
			</physvol>

			<physvol>
				<volumeref ref="volBuldingTube_H_2"/>
				<position name="posTube_12" unit="mm" z="-((dimBuildingExternal_Z_mm-dimBuldingTube_W_mm)/2.0-dimBuildingWall_T_mm-_eD_)" y="4*8.*_ft_-dimBuildingExternal_Y_mm/2.0" x="0"/>
			</physvol>

			<physvol>
				<volumeref ref="volBuldingTube_V_1"/>
				<position name="posTube_13" unit="mm"  x="-((dimBuildingExternal_X_mm-dimBuldingTubeQ_W_mm)/2.0-dimBuildingWall_T_mm-_eD_)" y="(dimBuldingTubeQ_L_1_mm-dimBuildingExternal_Y_mm)/2.0" z="-((dimBuildingExternal_Z_mm-dimBuldingTubeQ_W_mm)/2.0-dimBuildingWall_T_mm-_eD_)"/>
			</physvol>

			<physvol>
				<volumeref ref="volBuldingTube_V_1"/>
				<position name="posTube_14" unit="mm"  x="+((dimBuildingExternal_X_mm-dimBuldingTubeQ_W_mm)/2.0-dimBuildingWall_T_mm-_eD_)" y="(dimBuldingTubeQ_L_1_mm-dimBuildingExternal_Y_mm)/2.0" z="-((dimBuildingExternal_Z_mm-dimBuldingTubeQ_W_mm)/2.0-dimBuildingWall_T_mm-_eD_)"/>
			</physvol>

			<physvol>
				<volumeref ref="volBuldingTube_V_1"/>
				<position name="posTube_13_2" unit="mm"  x="-coordBuildingTubeQ_mm" y="(dimBuldingTubeQ_L_1_mm-dimBuildingExternal_Y_mm)/2.0" z="-((dimBuildingExternal_Z_mm-dimBuldingTubeQ_W_mm)/2.0-dimBuildingWall_T_mm-dimBuldingTube_W_mm-_eD_)"/>
			</physvol>

			<physvol>
				<volumeref ref="volBuldingTube_V_1"/>
				<position name="posTube_14_2" unit="mm"  x="+coordBuildingTubeQ_mm" y="(dimBuldingTubeQ_L_1_mm-dimBuildingExternal_Y_mm)/2.0" z="-((dimBuildingExternal_Z_mm-dimBuldingTubeQ_W_mm)/2.0-dimBuildingWall_T_mm-dimBuldingTube_W_mm-_eD_)"/>
			</physvol>

			<physvol>
				<volumeref ref="volBuldingTube_V_1"/>
				<position name="posTube_15" unit="mm"  x="-((dimBuildingExternal_X_mm-dimBuldingTubeQ_W_mm)/2.0-dimBuildingWall_T_mm-_eD_)" y="(dimBuldingTubeQ_L_1_mm-dimBuildingExternal_Y_mm)/2.0" z="((dimBuildingExternal_Z_mm-dimBuldingTubeQ_W_mm)/2.0-dimBuildingWall_T_mm-_eD_)"/>
			</physvol>

			<physvol>
				<volumeref ref="volBuldingTube_V_1"/>
				<position name="posTube_16" unit="mm"  x="+((dimBuildingExternal_X_mm-dimBuldingTubeQ_W_mm)/2.0-dimBuildingWall_T_mm-_eD_)" y="(dimBuldingTubeQ_L_1_mm-dimBuildingExternal_Y_mm)/2.0" z="((dimBuildingExternal_Z_mm-dimBuldingTubeQ_W_mm)/2.0-dimBuildingWall_T_mm-_eD_)"/>
			</physvol>

			<physvol>
				<volumeref ref="volBuldingTube_V_1"/>
				<position name="posTube_15_2" unit="mm"  x="-coordBuildingTubeQ_mm" y="(dimBuldingTubeQ_L_1_mm-dimBuildingExternal_Y_mm)/2.0" z="((dimBuildingExternal_Z_mm-dimBuldingTubeQ_W_mm)/2.0-dimBuildingWall_T_mm-dimBuildingWall_T_mm-_eD_)"/>
			</physvol>

			<physvol>
				<volumeref ref="volBuldingTube_V_1"/>
				<position name="posTube_16_2" unit="mm"  x="+coordBuildingTubeQ_mm" y="(dimBuldingTubeQ_L_1_mm-dimBuildingExternal_Y_mm)/2.0" z="((dimBuildingExternal_Z_mm-dimBuldingTubeQ_W_mm)/2.0-dimBuildingWall_T_mm-dimBuildingWall_T_mm-_eD_)"/>
			</physvol>

			<physvol>
				<volumeref ref="volBuldingTube_H_2"/>
				<position name="posTube_17" unit="mm" z="coordBuildingIB_W0_Z_mm-dimBuildingExternal_Z_mm/2.0" y="-dimBuldingTube_H_mm/2.0+dimBuildingCeiling_Y_mm-dimBuildingExternal_Y_mm/2.0" x="0"/>
			</physvol>

			<physvol>
				<volumeref ref="volBuldingTube_H_2"/>
				<position name="posTube_18" unit="mm" z="coordBuildingIB_W1_Z_mm-dimBuildingExternal_Z_mm/2.0" y="-dimBuldingTube_H_mm/2.0+dimBuildingCeiling_Y_mm-dimBuildingExternal_Y_mm/2.0" x="0"/>
			</physvol>

			<physvol>
				<volumeref ref="volBuldingTube_H_2"/>
				<position name="posTube_19" unit="mm" z="coordBuildingIB_W2_Z_mm-dimBuildingExternal_Z_mm/2.0" y="-dimBuldingTube_H_mm/2.0+dimBuildingCeiling_Y_mm-dimBuildingExternal_Y_mm/2.0" x="0"/>
			</physvol>

			<physvol>
				<volumeref ref="volBuldingTube_H_2"/>
				<position name="posTube_20" unit="mm" z="coordBuildingIB_W3_Z_mm-dimBuildingExternal_Z_mm/2.0" y="-dimBuldingTube_H_mm/2.0+dimBuildingCeiling_Y_mm-dimBuildingExternal_Y_mm/2.0" x="0"/>
			</physvol>

			<physvol>
				<volumeref ref="volBuldingTube_H_2"/>
				<position name="posTube_21" unit="mm" z="coordBuildingIB_W4_Z_mm-dimBuildingExternal_Z_mm/2.0" y="-dimBuldingTube_H_mm/2.0+dimBuildingCeiling_Y_mm-dimBuildingExternal_Y_mm/2.0" x="0"/>
			</physvol>

		</volume>

	</structure>
	<!-- end of Building -->

	<!-- ========================================= -->
	<!-- Ground                                    -->
	<!-- ========================================= -->

	<solids>
		<box name="boxBuildingBase"  lunit="mm" x="dimBuildingExternal_X_mm" y="dimBuildingBaseWidth_mm" z="dimBuildingExternal_Z_mm" />
		<box name="boxMezzanineEntrance"  lunit="mm" x="dimDetectorHall_X_mm" y="dimBuildingBaseWidth_mm+_eD_" z="mezzanine_Z+dimDetectorHall_Z_mm" />
		<box name="boxMezzanineRoof"  lunit="mm" x="dimDetectorHall_X_mm" y="mezzanine_roof_thickness" z="mezzanine_Z" />

		<subtraction name="solidBuildingBase">
			<first  ref="boxBuildingBase"/>
			<second ref="boxMezzanineEntrance"/>
			<position name="posBuildingBaseEntrance" unit="mm" x="0" y="0" z="-3.*_ft_+(dimBuildingExternal_Z_mm-(mezzanine_Z+dimDetectorHall_Z_mm))/2.0"/>
		</subtraction>
	</solids>

	<structure>
		<volume name="volBuildingFloor">
			<materialref ref="Concrete"/>
			<solidref ref="solidBuildingBase"/>
		</volume>
		<volume name="volBuildingRoofMezzanine">
			<materialref ref="matGratingSteel"/>
			<solidref ref="boxMezzanineRoof"/>
		</volume>
		<volume name="volBuildingBase">
			<materialref ref="matAir"/>
			<solidref ref="boxBuildingBase"/>
			<physvol>
				<volumeref ref="volBuildingFloor"/>
				<position name="posBuildingFloor" unit="mm" x="0" y="0" z="0" />
			</physvol>
			<physvol>
				<volumeref ref="volBuildingRoofMezzanine"/>
				<position name="posBuildingRoofMezzanine" unit="mm" x="0" y="(dimBuildingBaseWidth_mm-mezzanine_roof_thickness)/2" z="-3.*_ft_+(dimBuildingExternal_Z_mm)/2.0 - (mezzanine_Z)/2" />
			</physvol>
		</volume>
	</structure>
	<!-- end of Ground -->


	<!-- ========================================= -->
	<!--  Overburden                               -->
	<!-- ========================================= -->
	<solids>
		<box name="boxShielding" lunit="mm" x="shielding_dim_x" y="shielding_thickness" z="shielding_dim_z"/>
		<box name="boxShieldingLayer1" lunit="mm" x="shielding_dim_x" y="shielding_layer1_thickness" z="shielding_dim_z"/>
		<box name="boxShieldingLayer2And3" lunit="mm" x="shielding_dim_x" y="shielding_layer2and3_thickness" z="shielding_dim_z"/>
	</solids>

	<structure>
		<!-- Overburden Volume - Layer 1 -->
		<volume name="volShieldingLayer1">
			<materialref ref="Concrete"/>
			<solidref ref="boxShieldingLayer1"/>
		</volume>

		<!-- Overburden Volume - Layer 2 and 3 -->
		<volume name="volShieldingLayer2And3">
			<materialref ref="Concrete"/>
			<solidref ref="boxShieldingLayer2And3"/>
		</volume>

		<!-- Full Overburden Volume - Layer 1, 2, and 3 -->
		<volume name="volShielding">
			<materialref ref="Concrete"/>
			<solidref ref="boxShielding"/>

			<physvol>
				<volumeref ref="volShieldingLayer1"/>
				<position name="posShieldingLayer1" unit="mm" x="0" y="-shielding_thickness/2+shielding_layer1_thickness/2" z="0"/>
			</physvol>

			<physvol>
				<volumeref ref="volShieldingLayer2And3"/>
				<position name="posShieldingLayer2And3" unit="mm" x="0" y="-shielding_thickness/2+shielding_layer1_thickness+shielding_layer2and3_thickness/2" z="0"/>
			</physvol>
		</volume>
	</structure>
	<!-- end of Overburden -->


	<!-- ========================================= -->
	<!-- Exteriors                                 -->
	<!-- ========================================= -->
	<!-- This part contains the 2 LAr and LN2 dewars that are outside the building -->
	<solids>
		<!-- A box that will contain the objects outside the building, on the north side of it -->
		<box name="boxExterior" lunit="mm" x="exterior_box_x" y="exterior_box_y" z="exterior_box_z" />

		<!-- A box that will contain a single dewar-->
		<box name="boxDewar" lunit="mm"
			x="dewar_box_base" y="dewar_box_base" z="dewar_box_h" />

		<!-- Dewar Construction: a dewar is made of two vessels one inside the other -->
		<!-- Dewar: Outer vessel -->
		<tube aunit="deg" deltaphi="360" lunit="mm" name="DewarOuterBody"
			rmax="dewar_outer_r"
			rmin="dewar_outer_r - dewar_outer_thickness"
			z="dewar_outer_length"/>
		<tube aunit="deg" deltaphi="360" lunit="mm" name="DewarOuterCap"
			rmax="dewar_outer_r"
			z="dewar_outer_thickness"/>

		<union name="DewarOuterTemp">
			<first  ref="DewarOuterBody"/>
			<second ref="DewarOuterCap"/>
			<position name="posDewarUnion1" unit="mm" x="0" y="0" z="-dewar_outer_length/2 - dewar_outer_thickness/2 - _eD_"/>
		</union>
		<union name="DewarOuter">
			<first  ref="DewarOuterTemp"/>
			<second ref="DewarOuterCap"/>
			<position name="posDewarUnion2" unit="mm" x="0" y="0" z="+dewar_outer_length/2 + dewar_outer_thickness/2 + _eD_"/>
		</union>

		<!-- Dewar: Inner vessel -->
		<tube aunit="deg" deltaphi="360" lunit="mm" name="DewarInnerBody"
			rmax="dewar_inner_r"
			rmin="dewar_inner_r - dewar_inner_thickness"
			z="dewar_inner_length"/>
		<tube aunit="deg" deltaphi="360" lunit="mm" name="DewarInnerCap"
			rmax="dewar_inner_r"
			z="dewar_inner_thickness"/>

		<union name="DewarInnerTemp">
			<first  ref="DewarInnerBody"/>
			<second ref="DewarInnerCap"/>
			<position name="posDewarUnion3" unit="mm" x="0" y="0"
				z="-dewar_inner_length/2 - dewar_inner_thickness/2 - _eD_"/>
		</union>
		<union name="DewarInner">
			<first  ref="DewarInnerTemp"/>
			<second ref="DewarInnerCap"/>
			<position name="posDewarUnion4" unit="mm" x="0" y="0"
				z="+dewar_inner_length/2 + dewar_inner_thickness/2 + _eD_"/>
		</union>

		<!-- Dewar: Insulation between the two vessels -->
		<tube aunit="deg" deltaphi="360" lunit="mm" name="DewarInsulationBody"
			rmax="dewar_outer_r - dewar_outer_thickness - _eD_"
			rmin="dewar_inner_r + 2*dewar_outer_thickness + _eD_"
			z="dewar_outer_length - _eD_"/>

		<subtraction name="DewarInsulation">
			<first  ref="DewarInsulationBody"/>
			<second ref="DewarInner"/>
			<position name="posDewarUnion5" unit="mm" x="0" y="0" z="0"/>
		</subtraction>

		<!-- Dewar: Fluid (LAr/LN2) -->
		<tube aunit="deg" deltaphi="360" lunit="mm" name="DewarFluid"
			rmax="dewar_inner_r - dewar_inner_thickness - _eD_"
			z="dewar_inner_length / 2"/>

	</solids>

	<structure>

		<!-- The outer vessel -->
		<volume name="volDewarOuter">
			<materialref ref="STEEL_STAINLESS_Fe7Cr2Ni"/>
			<solidref ref="DewarOuter"/>
		</volume>
		<!-- The inner vessel -->
		<volume name="volDewarInner">
			<materialref ref="STEEL_STAINLESS_Fe7Cr2Ni"/>
			<solidref ref="DewarInner"/>
		</volume>
		<!-- The insulation between vessels -->
		<volume name="volDewarInsulation">
			<materialref ref="matVacuum"/>
			<solidref ref="DewarInsulation"/>
		</volume>
		<!-- The fluid inside the vessel -->
		<volume name="volDewarFluidLN2">
			<materialref ref="LN2"/>
			<solidref ref="DewarFluid"/>
		</volume>
		<volume name="volDewarFluidLAr">
			<materialref ref="LAr"/>
			<solidref ref="DewarFluid"/>
		</volume>

		<!-- The entire LN2 dewar -->
		<volume name="volDewarLN2">
			<materialref ref="matAir"/>
			<solidref ref="boxDewar"/>
			<physvol>
				<volumeref ref="volDewarInner"/>
				<position name="posvolDewar1" unit="mm" x="0" y="0" z="0"/>
			</physvol>
			<physvol>
				<volumeref ref="volDewarOuter"/>
				<position name="posvolDewar2" unit="mm" x="0" y="0" z="0"/>
			</physvol>
			<physvol>
				<volumeref ref="volDewarInsulation"/>
				<position name="posvolDewar3" unit="mm" x="0" y="0" z="0"/>
			</physvol>
			<physvol>
				<volumeref ref="volDewarFluidLN2"/>
				<position name="posvolDewar4" unit="mm" x="0" y="0" z="dewar_outer_length/2 - dewar_inner_length+150"/>
			</physvol>
		</volume>

		<!-- The entire LAr dewar -->
		<volume name="volDewarLAr">
			<materialref ref="matAir"/>
			<solidref ref="boxDewar"/>
			<physvol>
				<volumeref ref="volDewarInner"/>
				<position name="posvolDewar5" unit="mm" x="0" y="0" z="0"/>
			</physvol>
			<physvol>
				<volumeref ref="volDewarOuter"/>
				<position name="posvolDewar6" unit="mm" x="0" y="0" z="0"/>
			</physvol>
			<physvol>
				<volumeref ref="volDewarInsulation"/>
				<position name="posvolDewar7" unit="mm" x="0" y="0" z="0"/>
			</physvol>
			<physvol>
				<volumeref ref="volDewarFluidLAr"/>
				<position name="posvolDewar8" unit="mm" x="0" y="0" z="0"/>
			</physvol>
		</volume>

		<volume name="volExteriors">
			<materialref ref="matAir"/>
			<solidref ref="boxExterior"/>
			<physvol>
				<volumeref ref="volDewarLN2"/>
				<position name="posvolDewarLN2" unit="mm"
					x="(-exterior_box_x + dewar_box_base)/2"
					y="(-exterior_box_y + dewar_box_h)/2 + 400"
					z="-exterior_box_z/2 + building_dewar_dist"/>
				<rotationref ref="rotateP90X"/>
			</physvol>

			<physvol>
				<volumeref ref="volDewarLAr"/>
				<position name="posvolDewarLAr" unit="mm"
					x="(-exterior_box_x + dewar_box_base)/2 + 8000"
					y="(-exterior_box_y + dewar_box_h)/2 - dewar_box_h/2 + dewar_outer_r + 400"
					z="-exterior_box_z/2 + building_dewar_dist"/>
				<rotationref ref="rotateP90Y"/>
			</physvol>
		</volume>
	</structure>


<!--
	======================================================================
		Undergrounounds
	======================================================================
-->

    <solids>
        <box name="boxGroundExterior" lunit="mm" x="dimGround_X_mm" y="uGY" z="dimGround_Z_mm" />

        <box name="boxFoundationSlab" 		lunit="mm" x="fSX" y="fSY" z="fSZ" />
        <box name="boxDetectorHall"  		lunit="mm" x="dHX" y="dHY+_eD_" z="dHZ" />
        <box name="boxDetectorHallExterior"  	lunit="mm" x="dHX+2*concW" y="dHY" z="dHZ+2*concW" />
        <box name="boxVerticalSlab"  		lunit="mm" x="s_W" y="dHY+_eD_" z="concW" />
        <box name="boxPumpHall" 		lunit="mm" x="pumpHall_X" y="pumpHall_Y" z="pumpHall_Z"/>
        <box name="boxPumpHallExterior" 	lunit="mm" x="pumpHall_X+concW/2" y="pumpHall_Y+concW" z="pumpHall_Z+2*concW"/>

        <subtraction name="boxGround_1">
            <first  ref="boxGroundExterior"/>
            <second ref="boxDetectorHall"/>
            <position name="posAirHall1" unit="mm" x="0" y="3*dHY/2-uGY/2" z="0"/>
        </subtraction>

        <subtraction name="boxGround">
            <first  ref="boxGround_1"/>
            <second ref="boxDetectorHall"/>
            <position name="posAirHall2" unit="mm" x="0" y="2*dHY+mY-mezzanineFloorSlab_Y-uGY/2" z="0"/>
        </subtraction>

        <subtraction name="detectorHallWalls">
            <first  ref="boxDetectorHallExterior"/>
            <second ref="boxDetectorHall"/>

        </subtraction>

        <union name="detectorPumpHall">
            <first  ref="detectorHallWalls"/>
            <second ref="boxPumpHallExterior"/>
            <position name="posPumpHallExt" unit="mm" x="(dHX+pumpHall_X)/2+concW/4" y="-(dHY-pumpHall_Y-concW)/2" z="(dHZ+concW)/3"/>

        </union>

        <subtraction name="detectorPumpHallWalls">
            <first  ref="detectorPumpHall"/>
            <second ref="boxPumpHall"/>
            <position name="posPumpHall" unit="mm" x="(dHX+pumpHall_X)/2-_eD_" y="-(dHY-pumpHall_Y)/2" z="(dHZ+concW)/3"/>

        </subtraction>

        <union name="build0">
            <first  ref="detectorPumpHallWalls"/>
            <second ref="boxFoundationSlab"/>
            <position name="posFoundationSlab" unit="mm" x="0" y="-(dHY+fSY)/2-_eD_" z="0"/>

        </union>

        <union name="build1">
            <first  ref="build0"/>
            <second ref="boxVerticalSlab"/>
            <position name="posVS1" unit="mm" x="(dHX+s_W)/2+concW" y="-_eD_" z="(dHZ+concW)/6"/>

        </union>

        <union name="build2">
            <first  ref="build1"/>
            <second ref="boxVerticalSlab"/>
            <position name="posVS2" unit="mm" x="(dHX+s_W)/2+concW" y="-_eD_" z="-(dHZ+concW)/6"/>

        </union>

        <union name="build3">
            <first  ref="build2"/>
            <second ref="boxVerticalSlab"/>
            <position name="posVS3" unit="mm" x="-((dHX+s_W)/2+concW)" y="-_eD_" z="(dHZ+concW)/6"/>

        </union>

        <union name="build4">
            <first  ref="build3"/>
            <second ref="boxVerticalSlab"/>
            <position name="posVS4" unit="mm" x="-((dHX+s_W)/2+concW)" y="-_eD_" z="-(dHZ+concW)/6"/>

        </union>

        <union name="build5">
            <first  ref="build4"/>
            <second ref="boxVerticalSlab"/>
            <position name="posVS5" unit="mm" x="0" y="-_eD_" z="-((dHZ+s_W)/2+concW)"/>
            <rotationref ref="rotateP90Y"/>
        </union>

        <union name="build6">
            <first  ref="build5"/>
            <second ref="boxVerticalSlab"/>
            <position name="posVS6" unit="mm" x="0" y="-_eD_" z="((dHZ+s_W)/2+concW)"/>
            <rotationref ref="rotateP90Y"/>
        </union>

        <box name="boxMezzanine"  lunit="mm" x="mX" y="mY+_eD_" z="mZ" />
        <box name="boxMezzanineExterior"  lunit="mm" x="mX+2*concW" y="mY" z="mZ+2*concW" />
        <box name="boxMezzanineFloor"  lunit="mm" x="mX+_eD_" y="mezzanineFloorSlab_Y" z="(mZ-dHZ)" />
        <box name="boxVerticalSlab_2"  lunit="mm" x="s_W/2" y="mY" z="concW" />
        <!-- boxMezzanineItems is for hosting all the objects in the mezzanine -->
        <box name="boxMezzanineItems"  lunit="mm" x="mX-_eD_" y="mY-mezzanineFloorSlab_Y-1" z="(mZ-dHZ)" />

        <subtraction name="mezzanineBuild1">
            <first  ref="boxMezzanineExterior"/>
            <second ref="boxMezzanine"/>

        </subtraction>

        <union name="mezzanineBuild2">
            <first  ref="mezzanineBuild1"/>
            <second ref="boxMezzanineFloor"/>
            <position name="posMezzanineFloor" unit="mm" x="0" y="-(mY-mezzanineFloorSlab_Y)/2" z="(dHZ)/2"/>
        </union>

        <union name="mezzanineBuild3">
            <first  ref="mezzanineBuild2"/>
            <second ref="boxVerticalSlab_2"/>
            <position name="posVS21" unit="mm" x="(dHX+s_W/2)/2+concW" y="0" z="(dHZ+concW)/6-centerHall"/>

        </union>

        <union name="mezzanineBuild4">
            <first  ref="mezzanineBuild3"/>
            <second ref="boxVerticalSlab_2"/>
            <position name="posVS22" unit="mm" x="(dHX+s_W/2)/2+concW" y="0" z="-(dHZ+concW)/6-centerHall"/>

        </union>

        <union name="mezzanineBuild5">
            <first  ref="mezzanineBuild4"/>
            <second ref="boxVerticalSlab_2"/>
            <position name="posVS23" unit="mm" x="-(dHX+s_W/2)/2-concW" y="0" z="(dHZ+concW)/6-centerHall"/>

        </union>

        <union name="mezzanineBuild6">
            <first  ref="mezzanineBuild5"/>
            <second ref="boxVerticalSlab_2"/>
            <position name="posVS24" unit="mm" x="-(dHX+s_W/2)/2-concW" y="0" z="-(dHZ+concW)/6-centerHall"/>

        </union>

        <union name="mezzanineBuild7">
            <first  ref="mezzanineBuild6"/>
            <second ref="boxVerticalSlab_2"/>
            <position name="posVS25" unit="mm" x="0" y="0" z="-centerHall-dHZ/2-s_W/2+concW"/>
            <rotationref ref="rotateP90Y"/>
        </union>

        <box name="boxGroundLevel0" lunit="mm" x="dimGround_X_mm" y="dHY-2*_eD_" z="dimGround_Z_mm" />
        <box name="boxGroundLevel2" lunit="mm" x="dimGround_X_mm" y="mY-2*_eD_" z="dimGround_Z_mm" />

        <subtraction name="groundLevel0">
            <first  ref="boxGroundLevel0"/>
            <second ref="boxFoundationSlab"/>
            <position name="posGL0" unit="mm" x="0" y="(dHY-fSY)/2-_eD_" z="0"/>
        </subtraction>

        <subtraction name="groundBuild1">
            <first  ref="boxGroundLevel0"/>
            <second ref="boxDetectorHallExterior"/>

        </subtraction>

        <subtraction name="groundBuild2">
            <first  ref="groundBuild1"/>
            <second ref="boxPumpHallExterior"/>
            <position name="posGL1" unit="mm" x="(dHX+pumpHall_X)/2+concW/4" y="-(dHY-pumpHall_Y-concW)/2" z="(dHZ+concW)/3"/>
        </subtraction>

        <subtraction name="groundLevel1">
            <first  ref="groundBuild2"/>
            <second ref="build6"/>
        </subtraction>

        <subtraction name="groundBuild3">
            <first  ref="boxGroundLevel2"/>
            <second ref="boxMezzanineExterior"/>
            <position name="posGL2" unit="mm" x="0" y="0" z="centerHall"/>
        </subtraction>

        <subtraction name="groundLevel2">
            <first  ref="groundBuild3"/>
            <second ref="mezzanineBuild7"/>
            <position name="posGL2bis" unit="mm" x="0" y="0" z="centerHall"/>
        </subtraction>

    </solids>

    <structure>
        <volume name="volDetectorHall">
            <materialref ref="Concrete"/>
            <solidref ref="build6"/>
        </volume>
        <volume name="volMezzanine">
            <materialref ref="Concrete"/>
            <solidref ref="mezzanineBuild7"/>
        </volume>
        <volume name="volMezzanineItems">
            <materialref ref="matAir"/>
            <solidref ref="boxMezzanineItems"/>
            <loop for="large_rack_i" to="5" step="1">
                <physvol>
                    <volumeref ref="volRackLarge"/>
                    <position name="posRackLarge_large_rack_i" unit="mm"
                              x="(-(mX+_eD_)+large_rack_x)/2 + largerack_x_offset + large_rack_i * (large_rack_x + rack_padding)"
                              y="(-(mY-mezzanineFloorSlab_Y-1)+large_rack_y)/2+_eD_"
                              z="((mZ-dHZ) - large_rack_z)/2 + largerack_z_offset + large_rack_z/2" />
                </physvol>
            </loop>
            <loop for="small_rack_i" to="8" step="1">
                <physvol>
                    <volumeref ref="volRackSmall"/>
                    <position name="posRackSmall_small_rack_i" unit="mm"
                              x="(-(mX+_eD_)+small_rack_x)/2 + smallrack_x_offset + small_rack_i * (small_rack_x + rack_padding)"
                              y="(-(mY-mezzanineFloorSlab_Y-1)+small_rack_y)/2+_eD_"
                              z="((mZ-dHZ)-small_rack_z)/2 + smallrack_z_offset + small_rack_z/2" />
                </physvol>
            </loop>
            <physvol>
                <volumeref ref="volRackLarge"/>
                <position name="posRackLarge_6" unit="mm"
                          x="(-(mX+_eD_)+small_rack_x)/2 + smallrack_x_offset + small_rack_i * (small_rack_x + rack_padding) + large_rack_x/2 + rack_padding"
                          y="(-(mY-mezzanineFloorSlab_Y-1)+small_rack_y)/2+_eD_"
                          z="((mZ-dHZ)-small_rack_z)/2 + smallrack_z_offset + small_rack_z/2" />
            </physvol>
        </volume>
        <volume name="volGroundLevel0">
            <materialref ref="matDirt"/>
            <solidref ref="groundLevel0"/>
        </volume>
        <volume name="volGroundLevel1">
            <materialref ref="matCA6"/>
            <solidref ref="groundLevel1"/>
        </volume>
        <volume name="volGroundLevel2">
            <materialref ref="matCA6"/>
            <solidref ref="groundLevel2"/>
        </volume>
        <volume name="volUndergrounds" >
            <materialref ref="matAir"/>
            <solidref ref="boxGround"/>
            <physvol>
                <volumeref ref="volDetectorHall"/>
                <position name="posDetectorHall" unit="mm" x="0" y="3*dHY/2-uGY/2" z="0" />
            </physvol>
            <physvol>
                <volumeref ref="volMezzanine"/>
                <position name="posMezzanine" unit="mm" x="0" y="mY/2+2*dHY-uGY/2" z="centerHall" />
            </physvol>
            <physvol>
                <volumeref ref="volMezzanineItems"/>
                <position name="posMezzanineItems" unit="mm" x="0" y="mY/2+2*dHY-uGY/2+mezzanineFloorSlab_Y/2 + _eD_" z="mZ/2" />
                <!-- <positionref ref="posMezzanine" /> -->
            </physvol>
            <physvol>
                <volumeref ref="volGroundLevel0"/>
                <position name="posGroundLevel0" unit="mm" x="0" y="dHY/2-uGY/2" z="0" />
            </physvol>
            <physvol>
                <volumeref ref="volGroundLevel1"/>
                <position name="posGroundLevel1" unit="mm" x="0" y="3*dHY/2-uGY/2" z="0" />
            </physvol>
            <physvol>
                <volumeref ref="volGroundLevel2"/>
                <position name="posGroundLevel2" unit="mm" x="0" y="mY/2+2*dHY-uGY/2" z="0" />
            </physvol>
        </volume>

    </structure>
    <!-- end of Undergrounds -->

	<!-- CPA (Maybe going to a CPA File?) -->

	<solids>
		<tube name="tubeCPA_Center"  rmax="dimCPATube_R_mm" rmin="dimCPATube_R_mm-dimCPATube_T_mm" z="dimCPAFrame_H_mm"   deltaphi="360"  aunit="deg"  lunit="mm"/>
		<tube name="tubeCPA_Middle_H" rmax="dimCPATube_R_mm" rmin="dimCPATube_R_mm-dimCPATube_T_mm" z="dimCPAFrame_W_mm"   deltaphi="360"  aunit="deg"  lunit="mm"/>
		<tube name="tubeCPA_Lateral_V" rmax="dimCPATube_R_mm" rmin="dimCPATube_R_mm-dimCPATube_T_mm" z="dimCPAFrame_H_mm-2*dimCPAElbow_R_mm"   deltaphi="360"  aunit="deg"  lunit="mm"/>
		<tube name="tubeCPA_Lateral_H" rmax="dimCPATube_R_mm" rmin="dimCPATube_R_mm-dimCPATube_T_mm" z="dimCPAFrame_W_mm-2*dimCPAElbow_R_mm"   deltaphi="360"  aunit="deg"  lunit="mm"/>
		<torus name="tubeCPA_Elbow" rmax="dimCPATube_R_mm" rmin="dimCPATube_R_mm-dimCPATube_T_mm" rtor="dimCPAElbow_R_mm"  startphi="0" deltaphi="90"  aunit="deg"  lunit="mm"/>
		<box name="boxCPAJoint"  lunit="mm" x="dimCPAJoint_X_mm"   y="dimCPAJoint_Y_mm"   z="dimCPAJoint_Z_mm"/>
		<box name="boxCPACenter"  lunit="mm" x="dimCPATube_R_mm"   y="dimCPATube_R_mm"   z="dimCPASpacing_mm"/>

		<box name="boxCPASubtractTPC_Plus_eD"  lunit="mm" x="dimCPASubtractions_mm"   y="theTPC_Y+_eD_"   z="theTPC_Z+_eD_"/>
		<box name="boxCPASubtractTPC_Minus_eD"  lunit="mm" x="dimCPASubtractions_mm"   y="theTPC_Y-_eD_"   z="theTPC_Z-_eD_"/>
		<box name="boxCPADivideTPC"  lunit="mm" x="dimCPASubtractions_mm"   y="theTPC_Y+_eD_"   z="theTPC_Z+_eD_"/>
		<box name="boxCPALeaveTPC"     lunit="mm" x="dimCPASubtractions_mm-_eD_"   y="theTPC_Y+2*dimCPASubtractions_mm"   z="theTPC_Z+2*dimCPASubtractions_mm"/>
		<box name="boxCPASubtractFrame_H"  lunit="mm" x="dimCPASubtractions_mm"   y="dimCPASubtractions_mm"   z="theTPC_Z+2*dimCPAElbow_R_mm+dimCPASubtractions_mm"/>
		<box name="boxCPASubtractFrame_V"  lunit="mm" x="dimCPASubtractions_mm"   y="theTPC_Y+2*dimCPAElbow_R_mm+dimCPASubtractions_mm" z="dimCPASubtractions_mm"   />


		<!-- One CPA Panel -->
		<union name="unionCPA_Center">
			<first  ref="tubeCPA_Middle_H"/>
			<second ref="tubeCPA_Center"/>
			<rotationref ref="rotateP90X"/>

		</union>

		<union name="unionCPA_H_0">
			<first  ref="unionCPA_Center"/>
			<second ref="tubeCPA_Lateral_H"/>
			<position name="posCPATube_H_0" unit="mm" x="0" y="+2.0*dimCPAWindow_H_mm" z="0"/>
		</union>

		<union name="unionCPA_H_1">
			<first  ref="unionCPA_H_0"/>
			<second ref="tubeCPA_Middle_H"/>
			<position name="posCPATube_H_1" unit="mm" x="0" y="+1.0*dimCPAWindow_H_mm" z="0"/>
		</union>

		<union name="unionCPA_H_2">
			<first  ref="unionCPA_H_1"/>
			<second ref="tubeCPA_Middle_H"/>
			<position name="posCPATube_H_2" unit="mm" x="0" y="-1.0*dimCPAWindow_H_mm" z="0"/>
		</union>

		<union name="unionCPA_H_3">
			<first  ref="unionCPA_H_2"/>
			<second ref="tubeCPA_Lateral_H"/>
			<position name="posCPATube_H_3" unit="mm" x="0" y="-2.0*dimCPAWindow_H_mm" z="0"/>
		</union>

		<union name="unionCPA_V_0">
			<first  ref="unionCPA_H_3"/>
			<second ref="tubeCPA_Lateral_V"/>
			<position name="posCPATube_H_4" unit="mm" x="0" y="0" z="-dimCPAWindow_W_mm"/>
			<rotationref ref="rotateP90X"/>
		</union>

		<union name="unionCPA_V_1">
			<first  ref="unionCPA_V_0"/>
			<second ref="tubeCPA_Lateral_V"/>
			<position name="posCPATube_H_5" unit="mm" x="0" y="0" z="+dimCPAWindow_W_mm"/>
			<rotationref ref="rotateP90X"/>
		</union>

		<union name="unionCPA_Elbow_0">
			<first  ref="unionCPA_V_1"/>
			<second ref="tubeCPA_Elbow"/>
			<position name="posCPATube_Elbow_0" unit="mm" x="0" y="+(2*dimCPAWindow_H_mm-dimCPAElbow_R_mm)" z="-(dimCPAWindow_W_mm-dimCPAElbow_R_mm)"/>
			<rotationref ref="rotateP90Y"/>
		</union>

		<union name="unionCPA_Elbow_1">
			<first  ref="unionCPA_Elbow_0"/>
			<second ref="tubeCPA_Elbow"/>
			<position name="posCPATube_Elbow_1" unit="mm" x="0" y="+(2*dimCPAWindow_H_mm-dimCPAElbow_R_mm)" z="+(dimCPAWindow_W_mm-dimCPAElbow_R_mm)"/>
			<rotationref ref="rotateN90Y"/>
		</union>

		<union name="unionCPA_Elbow_2">
			<first  ref="unionCPA_Elbow_1"/>
			<second ref="tubeCPA_Elbow"/>
			<position name="posCPATube_Elbow_2" unit="mm" x="0" y="-(2*dimCPAWindow_H_mm-dimCPAElbow_R_mm)" z="-(dimCPAWindow_W_mm-dimCPAElbow_R_mm)"/>
			<rotation name="rotateP90X_P90Y_N90Z" unit="deg" x="90" y="90" z="-90"/>
		</union>

		<union name="unionCPA_Elbow_3">
			<first  ref="unionCPA_Elbow_2"/>
			<second ref="tubeCPA_Elbow"/>
			<position name="posCPATube_Elbow_3" unit="mm" x="0" y="-(2*dimCPAWindow_H_mm-dimCPAElbow_R_mm)" z="+(dimCPAWindow_W_mm-dimCPAElbow_R_mm)"/>
			<rotation name="rotateP90X_N90Y_P90Z" unit="deg" x="90" y="-90" z="90"/>
		</union>
		<!-- End of ONE CPA Panel -->


		<!-- Mesh Frame and Fixtures -->
		<box name="boxCPAMeshFrame_Inner"  lunit="mm" x="dimCPAMeshFrame_T_mm+_eD_"  y="dimCPAMeshFrame_H_mm-2*dimCPAMeshFrame_W_mm" z="dimCPAMeshFrame_L_mm-2*dimCPAMeshFrame_W_mm"   />
		<box name="boxCPAMeshFrame_Outter" lunit="mm" x="dimCPAMeshFrame_T_mm"  y="dimCPAMeshFrame_H_mm" z="dimCPAMeshFrame_L_mm"   />
		<subtraction name="solidCPAMeshFrame_noFixture">
			<first  ref="boxCPAMeshFrame_Outter"/>
			<second ref="boxCPAMeshFrame_Inner"/>
		</subtraction>

		<box name="boxCPAMeshFrameSupport_H"  lunit="mm" x="dimCPAMeshFixture_T_mm"   y="dimCPAMeshFixture_W_mm" z="dimCPAMeshFixture_L_mm"/>
		<box name="boxCPAMeshFrameSupport_V"  lunit="mm" x="dimCPAMeshFixture_T_mm"   y="dimCPAMeshFixture_H_mm" z="dimCPAMeshFixture_W_mm"/>

		<union name="solidCPAMeshFrame_wFixture_1">
			<first  ref="solidCPAMeshFrame_noFixture"/>
			<second ref="boxCPAMeshFrameSupport_H"/>
			<position name="posCPAMeshFrame_wFixture_1" unit="mm" x="0" y="(-dimCPAMeshFixture_W_mm+dimCPAMeshFrame_H_mm)/2.0+dimCPAMeshFixture_DY_mm" z="0"/>
		</union>

		<union name="solidCPAMeshFrame_wFixture_2">
			<first  ref="solidCPAMeshFrame_wFixture_1"/>
			<second ref="boxCPAMeshFrameSupport_H"/>
			<position name="posCPAMeshFrame_wFixture_2" unit="mm" x="0" y="-(-dimCPAMeshFixture_W_mm+dimCPAMeshFrame_H_mm)/2.0-dimCPAMeshFixture_DY_mm" z="0"/>
		</union>

		<union name="solidCPAMeshFrame_wFixture_3">
			<first  ref="solidCPAMeshFrame_wFixture_2"/>
			<second ref="boxCPAMeshFrameSupport_V"/>
			<position name="posCPAMeshFrame_wFixture_3" unit="mm" x="0" y="0" z="(-dimCPAMeshFixture_W_mm+dimCPAMeshFrame_L_mm)/2.0+dimCPAMeshFixture_DZ_mm"/>
		</union>

		<union name="solidCPAMeshFrame">
			<first  ref="solidCPAMeshFrame_wFixture_3"/>
			<second ref="boxCPAMeshFrameSupport_V"/>
			<position name="posCPAMeshFrame_wFixture_4" unit="mm" x="0" y="0" z="-(-dimCPAMeshFixture_W_mm+dimCPAMeshFrame_L_mm)/2.0-dimCPAMeshFixture_DZ_mm"/>
		</union>

		<!-- Future Loop -->
		<union name="unionCPA_WithMeshFrame_0">
			<first  ref="unionCPA_Elbow_3"/>
			<second ref="solidCPAMeshFrame"/>
			<position name="posCPA_WithMeshFrame_0" unit="mm" x="0" y="1.5*dimCPAWindow_H_mm" z="-dimCPAFrame_W_mm/4."/>
		</union>

		<union name="unionCPA_WithMeshFrame_1">
			<first  ref="unionCPA_WithMeshFrame_0"/>
			<second ref="solidCPAMeshFrame"/>
			<position name="posCPA_WithMeshFrame_1" unit="mm" x="0" y="0.5*dimCPAWindow_H_mm" z="-dimCPAFrame_W_mm/4."/>
		</union>

		<union name="unionCPA_WithMeshFrame_2">
			<first  ref="unionCPA_WithMeshFrame_1"/>
			<second ref="solidCPAMeshFrame"/>
			<position name="posCPA_WithMeshFrame_2" unit="mm" x="0" y="-0.5*dimCPAWindow_H_mm" z="-dimCPAFrame_W_mm/4."/>
		</union>

		<union name="unionCPA_WithMeshFrame_3">
			<first  ref="unionCPA_WithMeshFrame_2"/>
			<second ref="solidCPAMeshFrame"/>
			<position name="posCPA_WithMeshFrame_3" unit="mm" x="0" y="-1.5*dimCPAWindow_H_mm" z="-dimCPAFrame_W_mm/4."/>
		</union>

		<union name="unionCPA_WithMeshFrame_4">
			<first  ref="unionCPA_WithMeshFrame_3"/>
			<second ref="solidCPAMeshFrame"/>
			<position name="posCPA_WithMeshFrame_4" unit="mm" x="0" y="1.5*dimCPAWindow_H_mm" z="+dimCPAFrame_W_mm/4.0"/>
		</union>

		<union name="unionCPA_WithMeshFrame_5">
			<first  ref="unionCPA_WithMeshFrame_4"/>
			<second ref="solidCPAMeshFrame"/>
			<position name="posCPA_WithMeshFrame_5" unit="mm" x="0" y="0.5*dimCPAWindow_H_mm" z="+dimCPAFrame_W_mm/4.0"/>
		</union>

		<union name="unionCPA_WithMeshFrame_6">
			<first  ref="unionCPA_WithMeshFrame_5"/>
			<second ref="solidCPAMeshFrame"/>
			<position name="posCPA_WithMeshFrame_6" unit="mm" x="0" y="-0.5*dimCPAWindow_H_mm" z="+dimCPAFrame_W_mm/4.0"/>
		</union>

		<union name="unionCPA_WithMeshFrame_7">
			<first  ref="unionCPA_WithMeshFrame_6"/>
			<second ref="solidCPAMeshFrame"/>
			<position name="posCPA_WithMeshFrame_7" unit="mm" x="0" y="-1.5*dimCPAWindow_H_mm" z="+dimCPAFrame_W_mm/4.0"/>
		</union>


		<!-- Merging Two CPA Panels -->
		<union name="unionCPA_Structure_0">
			<first  ref="boxCPACenter"/>
			<second ref="unionCPA_WithMeshFrame_7"/>
			<position name="posCPAStruct_0" unit="mm" x="0" y="0" z="-dimCPAFrame_W_mm/2.0-dimCPASpacing_mm/2.0"/>
		</union>

		<union name="unionCPA_Structure_1">
			<first  ref="unionCPA_Structure_0"/>
			<second ref="unionCPA_WithMeshFrame_7"/>
			<position name="posCPAStruct_1" unit="mm" x="0" y="0" z="+dimCPAFrame_W_mm/2.0+dimCPASpacing_mm/2.0"/>
		</union>

		<union name="unionCPA_Joint_0">
			<first  ref="unionCPA_Structure_1"/>
			<second ref="boxCPAJoint"/>
			<position name="posCPAJoint_0" unit="mm" x="0" y="-3*dimCPAWindow_H_mm/2.0" z="0"/>
		</union>

		<union name="unionCPA_Joint_1">
			<first  ref="unionCPA_Joint_0"/>
			<second ref="boxCPAJoint"/>
			<position name="posCPAJoint_1" unit="mm" x="0" y="-1*dimCPAWindow_H_mm/2.0" z="0"/>
		</union>

		<union name="unionCPA_Joint_2">
			<first  ref="unionCPA_Joint_1"/>
			<second ref="boxCPAJoint"/>
			<position name="posCPAJoint_2" unit="mm" x="0" y="+1*dimCPAWindow_H_mm/2.0" z="0"/>
		</union>

		<union name="unionCPA_Joint_3">
			<first  ref="unionCPA_Joint_2"/>
			<second ref="boxCPAJoint"/>
			<position name="posCPAJoint_3" unit="mm" x="0" y="+3*dimCPAWindow_H_mm/2.0" z="0"/>
		</union>


                <!-- The CPA Frame has to be divided in three volumes 	-->
                <!-- 	* a frame around the TPC active volumes 		-->
                <!-- 	* a frame inside each TPC active volumes 		-->

		<subtraction name="solidCPAFrame_Around">
			<first  ref="unionCPA_Joint_3"/>
			<second ref="boxCPASubtractTPC_Plus_eD"/>
		</subtraction>

		<subtraction name="subLeaveTPCSpace">
			<first  ref="boxCPALeaveTPC"/>
			<second ref="boxCPASubtractTPC_Minus_eD"/>
		</subtraction>

		<subtraction name="solidCPAInner">
			<first  ref="unionCPA_Joint_3"/>
			<second ref="subLeaveTPCSpace"/>

		</subtraction>

		<subtraction name="solidCPAInner_East">
			<first  ref="solidCPAInner"/>
			<second ref="boxCPADivideTPC"/>
			<position name="posCPASubtract_0" unit="mm" x="+dimCPASubtractions_mm/2.0" y="0" z="0"/>
		</subtraction>

		<subtraction name="solidCPAInner_West">
			<first  ref="solidCPAInner"/>
			<second ref="boxCPADivideTPC"/>
			<position name="posCPASubtract_1" unit="mm" x="-dimCPASubtractions_mm/2.0" y="0" z="0"/>
		</subtraction>

	</solids>

	<structure>

		<volume name="volCPA_Around">
			<materialref ref="STEEL_STAINLESS_Fe7Cr2Ni"/>
			<solidref ref="solidCPAFrame_Around"/>
		</volume>

		<volume name="volCPA_East">
			<materialref ref="STEEL_STAINLESS_Fe7Cr2Ni"/>
			<solidref ref="solidCPAInner_East"/>
		</volume>

		<volume name="volCPA_West">
			<materialref ref="STEEL_STAINLESS_Fe7Cr2Ni"/>
			<solidref ref="solidCPAInner_West"/>
		</volume>

	</structure>

	<!-- end of CPA -->

        <!-- CPA mesh and reflective foils -->


        <solids>
                <box name="boxCPAMesh"  lunit="mm" x="CPAMesh_T_mm/2.0"  y="CPAMesh_H_mm" z="CPAMesh_W_mm"/>
                <box name="boxCPAFoil" lunit="mm" x="CPAFoil_T_mm" y="CPAFoil_H_mm" z="CPAFoil_W_mm"/>
                <box name="boxCPATPB" lunit="mm" x="CPATPB_T_mm" y="CPATPB_H_mm" z="CPATPB_W_mm"/>
                <box name="boxCPA_FoilTPB" lunit="mm" x="CPAFoil_T_mm+CPATPB_T_mm" y="CPAFoil_H_mm" z="CPAFoil_W_mm"/>
        </solids>

        <structure>
                <volume name="volCPAMesh">
                        <materialref ref="matSteelMesh"/>
                        <solidref ref="boxCPAMesh"/>
                </volume>

                <volume name="volCPAFoil">
                        <materialref ref="vm2000"/>
                        <solidref ref="boxCPAFoil"/>
                </volume>

                <volume name="volCPATPB">
                        <materialref ref="TPB"/>
                        <solidref ref="boxCPATPB"/>
                </volume>

                <!-- mounting foil+tpb -->
                <volume name="volCPA_FoilTPB">
                        <materialref ref="LAr"/>
                        <solidref ref="boxCPA_FoilTPB"/>
                        <physvol>
                                <volumeref ref="volCPAFoil"/>
                                <position name="pos_CPAFoil" unit="mm" x="-(CPAFoil_T_mm+CPATPB_T_mm)/2.0+CPAFoil_T_mm/2.0" y="0" z="0"/>
                        </physvol>
                        <physvol>
                                <volumeref ref="volCPATPB"/>
                                <position name="pos_CPATPB" unit="mm" x="(CPAFoil_T_mm+CPATPB_T_mm)/2.0-CPATPB_T_mm/2.0" y="0" z="0"/>
                        </physvol>
                </volume>
        </structure>
        <!-- end of CPA mesh and reflective foils -->

	<solids>

		<!-- volume that contains all the Field Cage -->
		<box name="boxFieldCage_In" lunit="mm" x="dimDetector_X+_eD_" y="dimDetector_Y" z="dimDetector_Z"/>
		<box name="boxFieldCage_Out" lunit="mm" x="dimDetector_X" y="dimDetector_Y+2.0*dimFC_SurroundThickness_mm+2.0*dimFC_stripHor_T_mm" z="dimDetector_Z+2.0*dimFC_SurroundThickness_mm+2.0*dimFC_stripVer_T_mm"/>
		<subtraction name="solidFieldCage">
			<first ref="boxFieldCage_Out"/>
			<second ref="boxFieldCage_In"/>

		</subtraction>

		<!-- I structure -->
		<box name="boxFieldCage_I_base" lunit="mm" x="dimFC_base_L_mm" y="dimFC_base_T_mm" z="dimFC_base_W_mm"/>
		<box name="boxFieldCage_I_middle" lunit="mm" x="dimFC_middle_L_mm" y="dimFC_middle_W_mm" z="dimFC_middle_T_mm"/>
		<box name="boxFieldCage_I_slot" lunit="mm" x="dimFC_base_L_mm/2.0+_eD_" y="dimFC_stripHor_T_mm" z="dimFC_base_W_mm"/>
		<tube name="tubeFieldCage_I_hole"  rmin="0.0" rmax="dimCPATube_R_mm+_eD_" z="2.0*dimFC_base_W_mm"   deltaphi="360"  aunit="deg"  lunit="mm"/>

		<subtraction name="unionFC_I_0">
			<first ref="boxFieldCage_I_middle"/>
			<second ref="boxFieldCage_I_slot"/>
			<position name="posFC_I_0" unit="mm" x="+(dimFC_base_L_mm/4.0+dimFCstrip_distCenter_mm-dimFC_stripHor_W_mm/2.0-_eD_)" y="-(dimFC_middle_W_mm-dimFC_stripHor_T_mm)/2.0" z="0"/>
		</subtraction>

		<subtraction name="unionFC_I_1">
			<first ref="unionFC_I_0"/>
			<second ref="boxFieldCage_I_slot"/>
			<position name="posFC_I_1" unit="mm" x="-(dimFC_base_L_mm/4.0+dimFCstrip_distCenter_mm-dimFC_stripHor_W_mm/2.0-_eD_)" y="-(dimFC_middle_W_mm-dimFC_stripHor_T_mm)/2.0" z="0"/>
		</subtraction>

		<union name="unionFC_I_2">
			<first ref="unionFC_I_1"/>
			<second ref="boxFieldCage_I_base"/>
			<position name="posFC_I_2" unit="mm" x="0" y="+(dimFC_middle_W_mm+dimFC_base_T_mm-_eD_)/2.0" z="0"/>
		</union>


		<union name="unionFC_I_3">
			<first ref="unionFC_I_2"/>
			<second ref="boxFieldCage_I_base"/>
			<position name="posFC_I_3" unit="mm" x="0" y="-(dimFC_middle_W_mm+dimFC_base_T_mm-_eD_)/2.0" z="0"/>
		</union>

		<subtraction name="unionFC_I_4">
			<first ref="unionFC_I_3"/>
			<second ref="tubeFieldCage_I_hole"/>
			<position name="posFC_I_4" unit="mm" x="0" y="-dimFC_total_W_mm/2.0" z="0"/>
		</subtraction>

		<!-- strips -->
		<box name="boxFieldCage_strip_hor" lunit="mm" x="dimFC_stripHor_W_mm" y="dimFC_stripHor_T_mm" z="dimFC_stripHor_L_mm"/>
		<box name="boxFieldCage_strip_ver" lunit="mm" x="dimFC_stripVer_W_mm" y="dimFC_stripVer_L_mm" z="dimFC_stripVer_T_mm"/>

	</solids>

	<structure>

		<!-- materials -->
		<volume name="volFC_IStructure">
			<materialref ref="STEEL_STAINLESS_Fe7Cr2Ni"/>
			<solidref ref="unionFC_I_4"/>
		</volume>

		<volume name="volFC_strip_hor">
			<materialref ref="STEEL_STAINLESS_Fe7Cr2Ni"/>
			<solidref ref="boxFieldCage_strip_hor"/>
		</volume>

		<volume name="volFC_strip_ver">
			<materialref ref="STEEL_STAINLESS_Fe7Cr2Ni"/>
			<solidref ref="boxFieldCage_strip_ver"/>
		</volume>

		<!-- placing everything -->
		<volume name="volFieldCage">
			<materialref ref="LAr"/>
			<solidref ref="solidFieldCage"/>
			<auxiliary auxtype="SensDet" auxvalue="SimEnergyDeposit"/>
			<auxiliary auxtype="StepLimit" auxvalue="0.01" unit="mm"/>
			<auxiliary auxtype="Efield" auxvalue="0."/>

			<physvol>
				<volumeref ref="volCPA_Around"/>
			</physvol>
			<!-- strips -->

			<loop for="place_FC_strip" to="32" step="1">
				<physvol>
					<volumeref ref="volFC_strip_hor"/>
					<position name="posFC_poshorTop_strip_place_FC_strip" unit="mm" x="(dimFCstrip_distCenter_mm+place_FC_strip*(dimFCstrip_pitch_mm))" y="coordFC_Strips_Y" z="0"/>
				</physvol>
				<physvol>
					<volumeref ref="volFC_strip_hor"/>
					<position name="posFC_poshorBottom_strip_place_FC_strip" unit="mm" x="(dimFCstrip_distCenter_mm+place_FC_strip*(dimFCstrip_pitch_mm))" y="-coordFC_Strips_Y" z="0"/>
				</physvol>
				<physvol>
					<volumeref ref="volFC_strip_ver"/>
					<position name="posFC_posverFront_strip_place_FC_strip" unit="mm" x="(dimFCstrip_distCenter_mm+place_FC_strip*(dimFCstrip_pitch_mm))" y="0" z="coordFC_Strips_Z"/>
				</physvol>
				<physvol>
					<volumeref ref="volFC_strip_ver"/>
					<position name="posFC_posverBack_strip_place_FC_strip" unit="mm" x="(dimFCstrip_distCenter_mm+place_FC_strip*(dimFCstrip_pitch_mm))" y="0" z="-coordFC_Strips_Z"/>
				</physvol>
				<physvol>
					<volumeref ref="volFC_strip_hor"/>
					<position name="posFC_neghorTop_strip_place_FC_strip" unit="mm" x="(-1)*(dimFCstrip_distCenter_mm+place_FC_strip*(dimFCstrip_pitch_mm))" y="coordFC_Strips_Y" z="0"/>
				</physvol>
				<physvol>
					<volumeref ref="volFC_strip_hor"/>
					<position name="posFC_neghorBottom_strip_place_FC_strip" unit="mm" x="(-1)*(dimFCstrip_distCenter_mm+place_FC_strip*(dimFCstrip_pitch_mm))" y="-coordFC_Strips_Y" z="0"/>
				</physvol>
				<physvol>
					<volumeref ref="volFC_strip_ver"/>
					<position name="posFC_negverFront_strip_place_FC_strip" unit="mm" x="(-1)*(dimFCstrip_distCenter_mm+place_FC_strip*(dimFCstrip_pitch_mm))" y="0" z="coordFC_Strips_Z"/>
				</physvol>
				<physvol>
					<volumeref ref="volFC_strip_ver"/>
					<position name="posFC_negverBack_strip_place_FC_strip" unit="mm" x="(-1)*(dimFCstrip_distCenter_mm+place_FC_strip*(dimFCstrip_pitch_mm))" y="0" z="-coordFC_Strips_Z"/>
				</physvol>
			</loop>


			<!-- I structures -->
			<loop for="place_FC_structI" to="3" step="1">
				<physvol>
					<volumeref ref="volFC_IStructure"/>
					<position name="posFC_posHorTopI_place_FC_structI" unit="mm" x="0" y="+coordFC_IBeam_Y" z="placing_FC_Ihor_place_FC_structI"/>
				</physvol>
				<physvol>
					<volumeref ref="volFC_IStructure"/>
					<position name="posFC_negHorTopI_place_FC_structI" unit="mm" x="0" y="+coordFC_IBeam_Y" z="-placing_FC_Ihor_place_FC_structI"/>
				</physvol>
				<physvol>
					<volumeref ref="volFC_IStructure"/>
					<position name="posFC_posHorBottomI_place_FC_structI" unit="mm" x="0" y="-coordFC_IBeam_Y" z="placing_FC_Ihor_place_FC_structI"/>
					<rotationref ref="rotateP180X"/>
				</physvol>
				<physvol>
					<volumeref ref="volFC_IStructure"/>
					<position name="posFC_negHorBottomI_place_FC_structI" unit="mm" x="0" y="-coordFC_IBeam_Y" z="-placing_FC_Ihor_place_FC_structI"/>
					<rotationref ref="rotateP180X"/>
				</physvol>
			</loop>

			<loop for="place_FC_structI" to="5" step="1">
				<physvol>
					<volumeref ref="volFC_IStructure"/>
					<position name="posFC_posVerFrontI_place_FC_structI" unit="mm" x="0" y="placing_FC_Iver_place_FC_structI" z="+coordFC_IBeam_Z"/>
					<rotationref ref="rotateN90X"/>
				</physvol>
				<physvol>
					<volumeref ref="volFC_IStructure"/>
					<position name="posFC_negVerFrontI_place_FC_structI" unit="mm" x="0" y="-placing_FC_Iver_place_FC_structI" z="+coordFC_IBeam_Z"/>
					<rotationref ref="rotateN90X"/>
				</physvol>
				<physvol>
					<volumeref ref="volFC_IStructure"/>
					<position name="posFC_posVerBackI_place_FC_structI" unit="mm" x="0" y="placing_FC_Iver_place_FC_structI" z="-coordFC_IBeam_Z"/>
					<rotationref ref="rotateP90X"/>
				</physvol>
				<physvol>
					<volumeref ref="volFC_IStructure"/>
					<position name="posFC_negVerBackI_place_FC_structI" unit="mm" x="0" y="-placing_FC_Iver_place_FC_structI" z="-coordFC_IBeam_Z"/>
					<rotationref ref="rotateP90X"/>
				</physvol>
			</loop>

		</volume>

	</structure>

	<!-- End of Field Cage -->


        <solids>

                <!-- modules -->

                <box lunit="cm" name="CRTmoduleX" x="CRTmoduleX_l" y="CRTmoduleX_w" z="CRTmoduleX_t"/>
                <box lunit="cm" name="CRTstripXArray" x="CRTstripX_l" y="CRTstripX_w*16.0" z="CRTstripX_t"/>
                <box lunit="cm" name="CRTstripX" x="CRTstripX_l" y="CRTstripX_w" z="CRTstripX_t"/>
                <subtraction name="CRTmoduleXCover">
              		<first ref="CRTmoduleX"/>
              		<second ref="CRTstripXArray"/>
                </subtraction>

                <box lunit="cm" name="CRTmoduleY" x="CRTmoduleY_l" y="CRTmoduleY_w" z="CRTmoduleY_t"/>
                <box lunit="cm" name="CRTstripYArray" x="CRTstripY_l" y="CRTstripY_w*16.0" z="CRTstripY_t"/>
                <box lunit="cm" name="CRTstripY" x="CRTstripY_l" y="CRTstripY_w" z="CRTstripY_t"/>
                <subtraction name="CRTmoduleYCover">
                  <first ref="CRTmoduleY"/>
                  <second ref="CRTstripYArray"/>
                </subtraction>


                <box lunit="cm" name="CRTmoduleSquare" x="CRTmoduleSquare_l" y="CRTmoduleSquare_w" z="CRTmoduleSquare_t"/>
                <box lunit="cm" name="CRTstripSquareArray" x="CRTstripSquare_l" y="CRTstripSquare_w*16.0" z="CRTstripSquare_t"/>
                <box lunit="cm" name="CRTstripSquare" x="CRTstripSquare_l" y="CRTstripSquare_w" z="CRTstripSquare_t"/>
                <subtraction name="CRTmoduleSquareCover">
              		<first ref="CRTmoduleSquare"/>
              		<second ref="CRTstripSquareArray"/>
                </subtraction>

                <box lunit="cm" name="CRTmoduleBERN" x="CRTmoduleBERN_l" y="CRTmoduleBERN_w" z="CRTmoduleBERN_t"/>
                <box lunit="cm" name="CRTstripBERNArray" x="CRTstripBERN_l" y="CRTstripBERN_w*16.0" z="CRTstripBERN_t"/>
                <box lunit="cm" name="CRTstripBERN" x="CRTstripBERN_l" y="CRTstripBERN_w" z="CRTstripBERN_t"/>
                <subtraction name="CRTmoduleBERNCover">
                  <first ref="CRTmoduleBERN"/>
                  <second ref="CRTstripBERNArray"/>
                </subtraction>

                <box lunit="cm" name="CRTmoduleMINOS" x="CRTmoduleMINOS_l" y="CRTmoduleMINOS_w" z="CRTmoduleMINOS_t"/>
                <box lunit="cm" name="CRTstripMINOSArray" x="CRTstripMINOS_l" y="CRTstripMINOS_w*20.0" z="CRTstripMINOS_t"/>
                <box lunit="cm" name="CRTstripMINOS" x="CRTstripMINOS_l" y="CRTstripMINOS_w" z="CRTstripMINOS_t"/>
                <subtraction name="CRTmoduleMINOSCover">
                  <first ref="CRTmoduleMINOS"/>
                  <second ref="CRTstripMINOSArray"/>
                </subtraction>

                <!-- volume to place the modules -->

                <box lunit="cm" name="TaggerTopHigh" x="2*CRTmoduleY_l" y="5*CRTmoduleY_w" z="2*CRTmoduleY_t"/>
                <box lunit="cm" name="TaggerTopLow" x="2*CRTmoduleY_l" y="5*CRTmoduleY_w" z="2*CRTmoduleY_t"/>
                <box lunit="cm" name="TaggerSouth" x="2*CRTmoduleX_l" y="4*CRTmoduleY_w" z="2*CRTmoduleX_t"/>
                <box lunit="cm" name="TaggerNorth" x="2*CRTmoduleX_l" y="4*CRTmoduleY_w" z="2*CRTmoduleX_t"/>
                <box lunit="cm" name="TaggerEast" x="2*CRTmoduleY_l" y="4*CRTmoduleY_w" z="2*CRTmoduleY_t"/>
                <box lunit="cm" name="TaggerWest" x="2*CRTmoduleY_l" y="4*CRTmoduleY_w" z="2*CRTmoduleY_t"/>
                <box lunit="cm" name="TaggerBottom" x="810" y="990" z="4.0"/>

                <!-- G10  strips between bottom modules -->
                <box lunit="cm" name="BottomStrip_G10_Y" x="G10strip_Y_width" y="990" z="4.0"/>
                <box lunit="cm" name="BottomStrip_G10_X" x="810" y="G10strip_X_width" z="4.0"/>

                <union name="unionCPA_bottom_1">
                        <first ref="BottomStrip_G10_Y"/>
                        <second ref="BottomStrip_G10_X"/>
                        <position name="pos_CRT_bottom_1_G10" unit="cm" x="-BERNmodule_DX_middle+G10strip_Y_width/2.0" y="BERNmodule_DY_small-G10strip_X_width/2.0" z="0"/>
                </union>
                <union name="unionCPA_bottom_2">
                        <first ref="unionCPA_bottom_1"/>
                        <second ref="BottomStrip_G10_X"/>
                        <position name="pos_CRT_bottom_2_G10" unit="cm" x="-BERNmodule_DX_middle+G10strip_Y_width/2.0" y="BERNmodule_DY_small-1.5*G10strip_X_width-CRTmoduleMINOS_w" z="0"/>
                </union>
                <union name="unionCPA_bottom_3">
                        <first ref="unionCPA_bottom_2"/>
                        <second ref="BottomStrip_G10_X"/>
                        <position name="pos_CRT_bottom_3_G10" unit="cm" x="-BERNmodule_DX_middle+G10strip_Y_width/2.0" y="-BERNmodule_DY_small+1.5*G10strip_X_width+CRTmoduleMINOS_w" z="0"/>
                </union>
                <union name="unionCPA_bottom_4">
                        <first ref="unionCPA_bottom_3"/>
                        <second ref="BottomStrip_G10_X"/>
                        <position name="pos_CRT_bottom_4_G10" unit="cm" x="-BERNmodule_DX_middle+G10strip_Y_width/2.0" y="-BERNmodule_DY_small+G10strip_X_width/2.0" z="0"/>
                </union>
                <union name="unionCPA_bottom_final">
                        <first ref="unionCPA_bottom_4"/>
                        <second ref="BottomStrip_G10_Y"/>
                        <position name="pos_CRT_bottom_5_G10" unit="cm" x="-2.0*CRTmoduleBERN_w-2.0*BERNmodule_DX_small-G10strip_Y_width" y="0" z="0"/>
                </union>

        </solids>

        <structure>



                <!-- ============================= -->
                <!--        DECLARING STRIPS       -->
                <!-- ============================= -->

                <volume name="volAuxDetSensitiveCRTStripY">
                        <materialref ref="matPolystyrene"/>
                        <solidref ref="CRTstripY"/>
                        <auxiliary auxtype="SensDet" auxvalue="AuxDet"/>
                </volume>

                <volume name="volAuxDetSensitiveCRTStripX">
                        <materialref ref="matPolystyrene"/>
                        <solidref ref="CRTstripX"/>
                        <auxiliary auxtype="SensDet" auxvalue="AuxDet"/>
                </volume>

                <volume name="volAuxDetSensitiveCRTStripSquare">
                        <materialref ref="matPolystyrene"/>
                        <solidref ref="CRTstripSquare"/>
                        <auxiliary auxtype="SensDet" auxvalue="AuxDet"/>
                </volume>

                <volume name="volAuxDetSensitiveCRTStripBERN">
                        <materialref ref="matPolystyrene"/>
                        <solidref ref="CRTstripBERN"/>
                        <auxiliary auxtype="SensDet" auxvalue="AuxDet"/>
                </volume>

                <volume name="volAuxDetSensitiveCRTStripMINOS">
                        <materialref ref="matPolystyrene"/>
                        <solidref ref="CRTstripMINOS"/>
                        <auxiliary auxtype="SensDet" auxvalue="AuxDet"/>
                </volume>


                <!-- ============================= -->
                <!--     DECLARING G10  STRIPS      -->
                <!-- ============================= -->

                <volume name="volG10strip_Bottom">
                        <materialref ref="G10 "/>
                        <solidref ref="unionCPA_bottom_final"/>
                </volume>

                <!-- ============================= -->
                <!--   PLACING STRIPS IN MODULES   -->
                <!-- ============================= -->

                <!-- topHigh and topLow panels -->
                <!-- begin -->
                        <volume name="volAuxDetCRTStripArray0">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripYArray"/>
                                <loop for="CRT_declaring_modules" to="15" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripY"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-0*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray1">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripYArray"/>
                                <loop for="CRT_declaring_modules" to="31" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripY"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-1*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray2">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripYArray"/>
                                <loop for="CRT_declaring_modules" to="47" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripY"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-2*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray3">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripYArray"/>
                                <loop for="CRT_declaring_modules" to="63" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripY"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-3*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray4">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripYArray"/>
                                <loop for="CRT_declaring_modules" to="79" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripY"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-4*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray5">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripYArray"/>
                                <loop for="CRT_declaring_modules" to="95" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripY"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-5*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray6">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripYArray"/>
                                <loop for="CRT_declaring_modules" to="111" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripY"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-6*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray7">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripYArray"/>
                                <loop for="CRT_declaring_modules" to="127" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripY"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-7*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray8">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripYArray"/>
                                <loop for="CRT_declaring_modules" to="143" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripY"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-8*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray9">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripYArray"/>
                                <loop for="CRT_declaring_modules" to="159" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripY"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-9*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray10">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripYArray"/>
                                <loop for="CRT_declaring_modules" to="175" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripY"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-10*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray11">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripYArray"/>
                                <loop for="CRT_declaring_modules" to="191" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripY"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-11*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray12">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripYArray"/>
                                <loop for="CRT_declaring_modules" to="207" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripY"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-12*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray13">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripYArray"/>
                                <loop for="CRT_declaring_modules" to="223" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripY"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-13*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray14">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripYArray"/>
                                <loop for="CRT_declaring_modules" to="239" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripY"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-14*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray15">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripYArray"/>
                                <loop for="CRT_declaring_modules" to="255" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripY"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-15*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray16">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripYArray"/>
                                <loop for="CRT_declaring_modules" to="271" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripY"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-16*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray17">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripYArray"/>
                                <loop for="CRT_declaring_modules" to="287" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripY"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-17*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray18">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripYArray"/>
                                <loop for="CRT_declaring_modules" to="303" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripY"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-18*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray19">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripYArray"/>
                                <loop for="CRT_declaring_modules" to="319" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripY"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-19*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray20">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripYArray"/>
                                <loop for="CRT_declaring_modules" to="335" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripY"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-20*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray21">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripYArray"/>
                                <loop for="CRT_declaring_modules" to="351" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripY"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-21*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray22">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripYArray"/>
                                <loop for="CRT_declaring_modules" to="367" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripY"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-22*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray23">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripYArray"/>
                                <loop for="CRT_declaring_modules" to="383" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripY"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-23*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray24">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripYArray"/>
                                <loop for="CRT_declaring_modules" to="399" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripY"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-24*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray25">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripYArray"/>
                                <loop for="CRT_declaring_modules" to="415" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripY"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-25*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray26">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripYArray"/>
                                <loop for="CRT_declaring_modules" to="431" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripY"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-26*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray27">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripYArray"/>
                                <loop for="CRT_declaring_modules" to="447" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripY"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-27*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray28">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripYArray"/>
                                <loop for="CRT_declaring_modules" to="463" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripY"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-28*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray29">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripYArray"/>
                                <loop for="CRT_declaring_modules" to="479" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripY"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-29*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray30">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripYArray"/>
                                <loop for="CRT_declaring_modules" to="495" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripY"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-30*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray31">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripYArray"/>
                                <loop for="CRT_declaring_modules" to="511" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripY"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-31*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray32">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripYArray"/>
                                <loop for="CRT_declaring_modules" to="527" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripY"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-32*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray33">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripYArray"/>
                                <loop for="CRT_declaring_modules" to="543" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripY"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-33*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray34">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripYArray"/>
                                <loop for="CRT_declaring_modules" to="559" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripY"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-34*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray35">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripYArray"/>
                                <loop for="CRT_declaring_modules" to="575" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripY"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-35*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray36">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripYArray"/>
                                <loop for="CRT_declaring_modules" to="591" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripY"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-36*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray37">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripYArray"/>
                                <loop for="CRT_declaring_modules" to="607" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripY"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-37*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray38">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripYArray"/>
                                <loop for="CRT_declaring_modules" to="623" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripY"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-38*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray39">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripYArray"/>
                                <loop for="CRT_declaring_modules" to="639" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripY"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-39*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                <!-- end -->

                <!-- south and north panels -->
                <!-- begin -->
                        <volume name="volAuxDetCRTStripArray40">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripXArray"/>
                                <loop for="CRT_declaring_modules" to="655" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripX"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-40*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray41">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripXArray"/>
                                <loop for="CRT_declaring_modules" to="671" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripX"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-41*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray42">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripXArray"/>
                                <loop for="CRT_declaring_modules" to="687" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripX"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-42*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray43">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripXArray"/>
                                <loop for="CRT_declaring_modules" to="703" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripX"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-43*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray44">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripXArray"/>
                                <loop for="CRT_declaring_modules" to="719" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripX"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-44*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray45">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripXArray"/>
                                <loop for="CRT_declaring_modules" to="735" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripX"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-45*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray46">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripXArray"/>
                                <loop for="CRT_declaring_modules" to="751" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripX"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-46*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray47">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripXArray"/>
                                <loop for="CRT_declaring_modules" to="767" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripX"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-47*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray48">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripXArray"/>
                                <loop for="CRT_declaring_modules" to="783" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripX"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-48*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray49">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripXArray"/>
                                <loop for="CRT_declaring_modules" to="799" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripX"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-49*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray50">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripXArray"/>
                                <loop for="CRT_declaring_modules" to="815" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripX"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-50*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray51">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripXArray"/>
                                <loop for="CRT_declaring_modules" to="831" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripX"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-51*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray52">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripXArray"/>
                                <loop for="CRT_declaring_modules" to="847" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripX"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-52*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray53">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripXArray"/>
                                <loop for="CRT_declaring_modules" to="863" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripX"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-53*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray54">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripXArray"/>
                                <loop for="CRT_declaring_modules" to="879" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripX"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-54*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray55">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripXArray"/>
                                <loop for="CRT_declaring_modules" to="895" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripX"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-55*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray56">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripXArray"/>
                                <loop for="CRT_declaring_modules" to="911" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripX"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-56*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray57">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripXArray"/>
                                <loop for="CRT_declaring_modules" to="927" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripX"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-57*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray58">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripXArray"/>
                                <loop for="CRT_declaring_modules" to="943" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripX"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-58*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray59">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripXArray"/>
                                <loop for="CRT_declaring_modules" to="959" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripX"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-59*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
			
			<!-- bimble1 -->
			<!-- for square module -->

                        <volume name="volAuxDetCRTStripArray60">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripSquareArray"/>
                                <loop for="CRT_declaring_modules" to="975" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripSquare"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-60*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray61">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripXArray"/>
                                <loop for="CRT_declaring_modules" to="991" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripX"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-61*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray62">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripXArray"/>
                                <loop for="CRT_declaring_modules" to="1007" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripX"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-62*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray63">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripXArray"/>
                                <loop for="CRT_declaring_modules" to="1023" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripX"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-63*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray64">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripXArray"/>
                                <loop for="CRT_declaring_modules" to="1039" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripX"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-64*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray65">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripXArray"/>
                                <loop for="CRT_declaring_modules" to="1055" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripX"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-65*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray66">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripXArray"/>
                                <loop for="CRT_declaring_modules" to="1071" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripX"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-66*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray67">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripXArray"/>
                                <loop for="CRT_declaring_modules" to="1087" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripX"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-67*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray68">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripXArray"/>
                                <loop for="CRT_declaring_modules" to="1103" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripX"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-68*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>

			<!-- bimble 2 -->
			<!-- square -->
                        <volume name="volAuxDetCRTStripArray69">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripSquareArray"/>
                                <loop for="CRT_declaring_modules" to="1119" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripSquare"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-69*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray70">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripXArray"/>
                                <loop for="CRT_declaring_modules" to="1135" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripX"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-70*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray71">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripXArray"/>
                                <loop for="CRT_declaring_modules" to="1151" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripX"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-71*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                <!-- end -->

                <!-- side east -->
                <!-- begin -->
                        <!-- moduleY -->
                        <volume name="volAuxDetCRTStripArray72">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripYArray"/>
                                <loop for="CRT_declaring_modules" to="1167" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripY"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-72*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray73">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripYArray"/>
                                <loop for="CRT_declaring_modules" to="1183" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripY"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-73*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray74">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripYArray"/>
                                <loop for="CRT_declaring_modules" to="1199" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripY"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-74*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray75">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripYArray"/>
                                <loop for="CRT_declaring_modules" to="1215" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripY"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-75*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray76">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripYArray"/>
                                <loop for="CRT_declaring_modules" to="1231" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripY"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-76*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray77">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripYArray"/>
                                <loop for="CRT_declaring_modules" to="1247" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripY"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-77*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray78">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripYArray"/>
                                <loop for="CRT_declaring_modules" to="1263" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripY"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-78*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray79">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripYArray"/>
                                <loop for="CRT_declaring_modules" to="1279" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripY"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-79*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>

                        <!-- moduleX -->
                        <volume name="volAuxDetCRTStripArray80">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripXArray"/>
                                <loop for="CRT_declaring_modules" to="1295" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripX"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-80*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray81">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripXArray"/>
                                <loop for="CRT_declaring_modules" to="1311" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripX"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-81*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray82">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripXArray"/>
                                <loop for="CRT_declaring_modules" to="1327" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripX"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-82*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray83">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripXArray"/>
                                <loop for="CRT_declaring_modules" to="1343" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripX"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-83*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray84">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripXArray"/>
                                <loop for="CRT_declaring_modules" to="1359" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripX"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-84*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray85">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripXArray"/>
                                <loop for="CRT_declaring_modules" to="1375" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripX"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-85*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray86">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripXArray"/>
                                <loop for="CRT_declaring_modules" to="1391" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripX"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-86*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray87">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripXArray"/>
                                <loop for="CRT_declaring_modules" to="1407" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripX"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-87*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray88">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripXArray"/>
                                <loop for="CRT_declaring_modules" to="1423" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripX"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-88*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray89">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripXArray"/>
                                <loop for="CRT_declaring_modules" to="1439" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripX"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-89*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                <!-- end -->

                <!-- side west -->
                <!-- begin -->
                        <!-- moduleY -->
                        <volume name="volAuxDetCRTStripArray90">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripYArray"/>
                                <loop for="CRT_declaring_modules" to="1455" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripY"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-90*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray91">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripYArray"/>
                                <loop for="CRT_declaring_modules" to="1471" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripY"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-91*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray92">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripYArray"/>
                                <loop for="CRT_declaring_modules" to="1487" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripY"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-92*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray93">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripYArray"/>
                                <loop for="CRT_declaring_modules" to="1503" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripY"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-93*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray94">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripYArray"/>
                                <loop for="CRT_declaring_modules" to="1519" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripY"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-94*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray95">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripYArray"/>
                                <loop for="CRT_declaring_modules" to="1535" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripY"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-95*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray96">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripYArray"/>
                                <loop for="CRT_declaring_modules" to="1551" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripY"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-96*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray97">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripYArray"/>
                                <loop for="CRT_declaring_modules" to="1567" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripY"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-97*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>

                        <!-- moduleX -->
                        <volume name="volAuxDetCRTStripArray98">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripXArray"/>
                                <loop for="CRT_declaring_modules" to="1583" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripX"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-98*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray99">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripXArray"/>
                                <loop for="CRT_declaring_modules" to="1599" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripX"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-99*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray100">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripXArray"/>
                                <loop for="CRT_declaring_modules" to="1615" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripX"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-100*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray101">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripXArray"/>
                                <loop for="CRT_declaring_modules" to="1631" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripX"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-101*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray102">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripXArray"/>
                                <loop for="CRT_declaring_modules" to="1647" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripX"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-102*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray103">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripXArray"/>
                                <loop for="CRT_declaring_modules" to="1663" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripX"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-103*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray104">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripXArray"/>
                                <loop for="CRT_declaring_modules" to="1679" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripX"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-104*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray105">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripXArray"/>
                                <loop for="CRT_declaring_modules" to="1695" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripX"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-105*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray106">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripXArray"/>
                                <loop for="CRT_declaring_modules" to="1711" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripX"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-106*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray107">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripXArray"/>
                                <loop for="CRT_declaring_modules" to="1727" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripX"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleY_w/2)+(CRTmoduleY_b)+(CRTstripY_w/2)+(CRT_declaring_modules-107*16)*CRTstripY_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                <!-- end -->

                <!-- bottom -->
                <!-- begin -->
                        <volume name="volAuxDetCRTStripArray108">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripBERNArray"/>
                                <loop for="CRT_declaring_modules" to="1743" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripBERN"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleBERN_w/2)+(CRTmoduleBERN_b)+(CRTstripBERN_w/2)+(CRT_declaring_modules-108*16)*CRTstripBERN_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray109">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripBERNArray"/>
                                <loop for="CRT_declaring_modules" to="1759" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripBERN"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleBERN_w/2)+(CRTmoduleBERN_b)+(CRTstripBERN_w/2)+(CRT_declaring_modules-109*16)*CRTstripBERN_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray110">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripBERNArray"/>
                                <loop for="CRT_declaring_modules" to="1775" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripBERN"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleBERN_w/2)+(CRTmoduleBERN_b)+(CRTstripBERN_w/2)+(CRT_declaring_modules-110*16)*CRTstripBERN_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray111">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripBERNArray"/>
                                <loop for="CRT_declaring_modules" to="1791" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripBERN"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleBERN_w/2)+(CRTmoduleBERN_b)+(CRTstripBERN_w/2)+(CRT_declaring_modules-111*16)*CRTstripBERN_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray112">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripBERNArray"/>
                                <loop for="CRT_declaring_modules" to="1807" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripBERN"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleBERN_w/2)+(CRTmoduleBERN_b)+(CRTstripBERN_w/2)+(CRT_declaring_modules-112*16)*CRTstripBERN_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray113">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripBERNArray"/>
                                <loop for="CRT_declaring_modules" to="1823" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripBERN"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleBERN_w/2)+(CRTmoduleBERN_b)+(CRTstripBERN_w/2)+(CRT_declaring_modules-113*16)*CRTstripBERN_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray114">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripBERNArray"/>
                                <loop for="CRT_declaring_modules" to="1839" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripBERN"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleBERN_w/2)+(CRTmoduleBERN_b)+(CRTstripBERN_w/2)+(CRT_declaring_modules-114*16)*CRTstripBERN_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray115">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripBERNArray"/>
                                <loop for="CRT_declaring_modules" to="1855" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripBERN"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleBERN_w/2)+(CRTmoduleBERN_b)+(CRTstripBERN_w/2)+(CRT_declaring_modules-115*16)*CRTstripBERN_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray116">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripBERNArray"/>
                                <loop for="CRT_declaring_modules" to="1871" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripBERN"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleBERN_w/2)+(CRTmoduleBERN_b)+(CRTstripBERN_w/2)+(CRT_declaring_modules-116*16)*CRTstripBERN_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray117">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripBERNArray"/>
                                <loop for="CRT_declaring_modules" to="1887" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripBERN"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleBERN_w/2)+(CRTmoduleBERN_b)+(CRTstripBERN_w/2)+(CRT_declaring_modules-117*16)*CRTstripBERN_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray118">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripBERNArray"/>
                                <loop for="CRT_declaring_modules" to="1903" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripBERN"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleBERN_w/2)+(CRTmoduleBERN_b)+(CRTstripBERN_w/2)+(CRT_declaring_modules-118*16)*CRTstripBERN_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray119">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripBERNArray"/>
                                <loop for="CRT_declaring_modules" to="1919" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripBERN"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleBERN_w/2)+(CRTmoduleBERN_b)+(CRTstripBERN_w/2)+(CRT_declaring_modules-119*16)*CRTstripBERN_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray120">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripBERNArray"/>
                                <loop for="CRT_declaring_modules" to="1935" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripBERN"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleBERN_w/2)+(CRTmoduleBERN_b)+(CRTstripBERN_w/2)+(CRT_declaring_modules-120*16)*CRTstripBERN_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray121">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripBERNArray"/>
                                <loop for="CRT_declaring_modules" to="1951" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripBERN"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleBERN_w/2)+(CRTmoduleBERN_b)+(CRTstripBERN_w/2)+(CRT_declaring_modules-121*16)*CRTstripBERN_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray122">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripBERNArray"/>
                                <loop for="CRT_declaring_modules" to="1967" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripBERN"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleBERN_w/2)+(CRTmoduleBERN_b)+(CRTstripBERN_w/2)+(CRT_declaring_modules-122*16)*CRTstripBERN_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray123">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripBERNArray"/>
                                <loop for="CRT_declaring_modules" to="1983" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripBERN"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleBERN_w/2)+(CRTmoduleBERN_b)+(CRTstripBERN_w/2)+(CRT_declaring_modules-123*16)*CRTstripBERN_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray124">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripBERNArray"/>
                                <loop for="CRT_declaring_modules" to="1999" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripBERN"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleBERN_w/2)+(CRTmoduleBERN_b)+(CRTstripBERN_w/2)+(CRT_declaring_modules-124*16)*CRTstripBERN_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray125">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripBERNArray"/>
                                <loop for="CRT_declaring_modules" to="2015" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripBERN"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleBERN_w/2)+(CRTmoduleBERN_b)+(CRTstripBERN_w/2)+(CRT_declaring_modules-125*16)*CRTstripBERN_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray126">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripBERNArray"/>
                                <loop for="CRT_declaring_modules" to="2031" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripBERN"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleBERN_w/2)+(CRTmoduleBERN_b)+(CRTstripBERN_w/2)+(CRT_declaring_modules-126*16)*CRTstripBERN_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                <!-- end -->

                <!-- begin -->
                        <!-- moduleMINOS -->
                        <volume name="volAuxDetCRTStripArray127">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripMINOSArray"/>
                                <loop for="CRT_declaring_modules" to="2051" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripMINOS"/>
                                                <position name="posCRTCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleMINOS_w/2)+(CRTmoduleMINOS_b)+(CRTstripMINOS_w/2)+(CRT_declaring_modules-2032)*CRTstripMINOS_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray128">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripMINOSArray"/>
                                <loop for="CRT_declaring_modules" to="2071" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripMINOS"/>
                                                <position name="posCRTCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleMINOS_w/2)+(CRTmoduleMINOS_b)+(CRTstripMINOS_w/2)+(CRT_declaring_modules-2052)*CRTstripMINOS_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray129">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripMINOSArray"/>
                                <loop for="CRT_declaring_modules" to="2091" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripMINOS"/>
                                                <position name="posCRTCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleMINOS_w/2)+(CRTmoduleMINOS_b)+(CRTstripMINOS_w/2)+(CRT_declaring_modules-2072)*CRTstripMINOS_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray130">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripMINOSArray"/>
                                <loop for="CRT_declaring_modules" to="2111" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripMINOS"/>
                                                <position name="posCRTCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleMINOS_w/2)+(CRTmoduleMINOS_b)+(CRTstripMINOS_w/2)+(CRT_declaring_modules-2092)*CRTstripMINOS_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray131">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripMINOSArray"/>
                                <loop for="CRT_declaring_modules" to="2131" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripMINOS"/>
                                                <position name="posCRTCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleMINOS_w/2)+(CRTmoduleMINOS_b)+(CRTstripMINOS_w/2)+(CRT_declaring_modules-2112)*CRTstripMINOS_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
                        <volume name="volAuxDetCRTStripArray132">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripMINOSArray"/>
                                <loop for="CRT_declaring_modules" to="2151" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripMINOS"/>
                                                <position name="posCRTCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleMINOS_w/2)+(CRTmoduleMINOS_b)+(CRTstripMINOS_w/2)+(CRT_declaring_modules-2132)*CRTstripMINOS_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>
			<!-- Replaced BERN flat module -->
			<!-- Stuck here for minimal dif -->
                        <volume name="volAuxDetCRTStripArray133">
                                <materialref ref="matPolystyrene"/>
                                <solidref ref="CRTstripBERNArray"/>
                                <loop for="CRT_declaring_modules" to="2167" step="1">
                                        <physvol name="AuxDetSensitiveCRTStripCRT_declaring_modules" copynumber="CRT_declaring_modules">
                                                <volumeref ref="volAuxDetSensitiveCRTStripBERN"/>
                                                <position name="posCRT_declaring_modules_CRT" unit="cm" x="0" y="(-CRTmoduleBERN_w/2)+(CRTmoduleBERN_b)+(CRTstripBERN_w/2)+(CRT_declaring_modules-2152)*CRTstripBERN_w" z="0"/>
                                        </physvol>
                                </loop>
                        </volume>

                <!-- end -->


                <!-- Declaring Modules -->
                   <loop for="CRT_module_maker" to="39" step="1">
                    <volume name="CRTmoduleYCoverCRT_module_maker">
                      <materialref ref="ALUMINUM_Al"/>
                      <solidref ref="CRTmoduleYCover"/>
                    </volume>
                    <volume name="volCRTModuleCRT_module_maker">
                      <materialref ref="ALUMINUM_Al"/>
                      <solidref ref="CRTmoduleY"/>
                      <physvol>
                        <volumeref ref="CRTmoduleYCoverCRT_module_maker"/>
                        <position name="posCRTModuleCoverCRT_module_maker" unit="cm" x="0" y="0" z="0"/>
                      </physvol>
                      <physvol>
                        <volumeref ref="volAuxDetCRTStripArrayCRT_module_maker"/>
                        <position name="posvolAuxDetCRTStripArrayCRT_module_maker" unit="cm" x="0" y="0" z="0"/>
                      </physvol>
                    </volume>
                  </loop>

		  <!-- wibble --> 

                  <loop for="CRT_module_maker" to="59" step="1">
                    <volume name="CRTmoduleXCoverCRT_module_maker">
                      <materialref ref="ALUMINUM_Al"/>
                      <solidref ref="CRTmoduleXCover"/>
                    </volume>
                    <volume name="volCRTModuleCRT_module_maker">
                      <materialref ref="ALUMINUM_Al"/>
                      <solidref ref="CRTmoduleX"/>
                      <physvol>
                        <volumeref ref="CRTmoduleXCoverCRT_module_maker"/>
                        <position name="posCRTModuleCoverCRT_module_maker" unit="cm" x="0" y="0" z="0"/>
                      </physvol>
                      <physvol>
                        <volumeref ref="volAuxDetCRTStripArrayCRT_module_maker"/>
                        <position name="posvolAuxDetCRTStripArrayCRT_module_maker" unit="cm" x="0" y="0" z="0"/>
                      </physvol>
                    </volume>
                  </loop>

		  <!-- square module -->
                  <loop for="CRT_module_maker" to="60" step="1">
                    <volume name="CRTmoduleSquareCoverCRT_module_maker">
                      <materialref ref="ALUMINUM_Al"/>
                      <solidref ref="CRTmoduleSquareCover"/>
                    </volume>
                    <volume name="volCRTModuleCRT_module_maker">
                      <materialref ref="ALUMINUM_Al"/>
                      <solidref ref="CRTmoduleSquare"/>
                      <physvol>
                        <volumeref ref="CRTmoduleSquareCoverCRT_module_maker"/>
                        <position name="posCRTModuleCoverCRT_module_maker" unit="cm" x="0" y="0" z="0"/>
                      </physvol>
                      <physvol>
                        <volumeref ref="volAuxDetCRTStripArrayCRT_module_maker"/>
                        <position name="posvolAuxDetCRTStripArrayCRT_module_maker" unit="cm" x="0" y="0" z="0"/>
                      </physvol>
                    </volume>
                  </loop>

		  <loop for="CRT_module_maker" to="68" step="1">
                    <volume name="CRTmoduleXCoverCRT_module_maker">
                      <materialref ref="ALUMINUM_Al"/>
                      <solidref ref="CRTmoduleXCover"/>
                    </volume>
                    <volume name="volCRTModuleCRT_module_maker">
                      <materialref ref="ALUMINUM_Al"/>
                      <solidref ref="CRTmoduleX"/>
                      <physvol>
                        <volumeref ref="CRTmoduleXCoverCRT_module_maker"/>
                        <position name="posCRTModuleCoverCRT_module_maker" unit="cm" x="0" y="0" z="0"/>
                      </physvol>
                      <physvol>
                        <volumeref ref="volAuxDetCRTStripArrayCRT_module_maker"/>
                        <position name="posvolAuxDetCRTStripArrayCRT_module_maker" unit="cm" x="0" y="0" z="0"/>
                      </physvol>
                    </volume>
                  </loop>

		  <!-- square module -->
                  <loop for="CRT_module_maker" to="69" step="1">
                    <volume name="CRTmoduleSquareCoverCRT_module_maker">
                      <materialref ref="ALUMINUM_Al"/>
                      <solidref ref="CRTmoduleSquareCover"/>
                    </volume>
                    <volume name="volCRTModuleCRT_module_maker">
                      <materialref ref="ALUMINUM_Al"/>
                      <solidref ref="CRTmoduleSquare"/>
                      <physvol>
                        <volumeref ref="CRTmoduleSquareCoverCRT_module_maker"/>
                        <position name="posCRTModuleCoverCRT_module_maker" unit="cm" x="0" y="0" z="0"/>
                      </physvol>
                      <physvol>
                        <volumeref ref="volAuxDetCRTStripArrayCRT_module_maker"/>
                        <position name="posvolAuxDetCRTStripArrayCRT_module_maker" unit="cm" x="0" y="0" z="0"/>
                      </physvol>
                    </volume>
                  </loop>

                  <loop for="CRT_module_maker" to="71" step="1">
                    <volume name="CRTmoduleXCoverCRT_module_maker">
                      <materialref ref="ALUMINUM_Al"/>
                      <solidref ref="CRTmoduleXCover"/>
                    </volume>
                    <volume name="volCRTModuleCRT_module_maker">
                      <materialref ref="ALUMINUM_Al"/>
                      <solidref ref="CRTmoduleX"/>
                      <physvol>
                        <volumeref ref="CRTmoduleXCoverCRT_module_maker"/>
                        <position name="posCRTModuleCoverCRT_module_maker" unit="cm" x="0" y="0" z="0"/>
                      </physvol>
                      <physvol>
                        <volumeref ref="volAuxDetCRTStripArrayCRT_module_maker"/>
                        <position name="posvolAuxDetCRTStripArrayCRT_module_maker" unit="cm" x="0" y="0" z="0"/>
                      </physvol>
                    </volume>
                  </loop>

                  <loop for="CRT_module_maker" to="79" step="1">
                    <volume name="CRTmoduleYCoverCRT_module_maker">
                      <materialref ref="ALUMINUM_Al"/>
                      <solidref ref="CRTmoduleYCover"/>
                    </volume>
                    <volume name="volCRTModuleCRT_module_maker">
                      <materialref ref="ALUMINUM_Al"/>
                      <solidref ref="CRTmoduleY"/>
                      <physvol>
                        <volumeref ref="CRTmoduleYCoverCRT_module_maker"/>
                        <position name="posCRTModuleCoverCRT_module_maker" unit="cm" x="0" y="0" z="0"/>
                      </physvol>
                      <physvol>
                        <volumeref ref="volAuxDetCRTStripArrayCRT_module_maker"/>
                        <position name="posvolAuxDetCRTStripArrayCRT_module_maker" unit="cm" x="0" y="0" z="0"/>
                      </physvol>
                    </volume>
                  </loop>

                  <loop for="CRT_module_maker" to="89" step="1">
                    <volume name="CRTmoduleXCoverCRT_module_maker">
                      <materialref ref="ALUMINUM_Al"/>
                      <solidref ref="CRTmoduleXCover"/>
                    </volume>
                    <volume name="volCRTModuleCRT_module_maker">
                      <materialref ref="ALUMINUM_Al"/>
                      <solidref ref="CRTmoduleX"/>
                      <physvol>
                        <volumeref ref="CRTmoduleXCoverCRT_module_maker"/>
                        <position name="posCRTModuleCoverCRT_module_maker" unit="cm" x="0" y="0" z="0"/>
                      </physvol>
                      <physvol>
                        <volumeref ref="volAuxDetCRTStripArrayCRT_module_maker"/>
                        <position name="posvolAuxDetCRTStripArrayCRT_module_maker" unit="cm" x="0" y="0" z="0"/>
                      </physvol>
                    </volume>
                  </loop>

                  <loop for="CRT_module_maker" to="97" step="1">
                    <volume name="CRTmoduleYCoverCRT_module_maker">
                      <materialref ref="ALUMINUM_Al"/>
                      <solidref ref="CRTmoduleYCover"/>
                    </volume>
                    <volume name="volCRTModuleCRT_module_maker">
                      <materialref ref="ALUMINUM_Al"/>
                      <solidref ref="CRTmoduleY"/>
                      <physvol>
                        <volumeref ref="CRTmoduleYCoverCRT_module_maker"/>
                        <position name="posCRTModuleCoverCRT_module_maker" unit="cm" x="0" y="0" z="0"/>
                      </physvol>
                      <physvol>
                        <volumeref ref="volAuxDetCRTStripArrayCRT_module_maker"/>
                        <position name="posvolAuxDetCRTStripArrayCRT_module_maker" unit="cm" x="0" y="0" z="0"/>
                      </physvol>
                    </volume>
                  </loop>

                  <loop for="CRT_module_maker" to="107" step="1">
                    <volume name="CRTmoduleXCoverCRT_module_maker">
                      <materialref ref="ALUMINUM_Al"/>
                      <solidref ref="CRTmoduleXCover"/>
                    </volume>
                    <volume name="volCRTModuleCRT_module_maker">
                      <materialref ref="ALUMINUM_Al"/>
                      <solidref ref="CRTmoduleX"/>
                      <physvol>
                        <volumeref ref="CRTmoduleXCoverCRT_module_maker"/>
                        <position name="posCRTModuleCoverCRT_module_maker" unit="cm" x="0" y="0" z="0"/>
                      </physvol>
                      <physvol>
                        <volumeref ref="volAuxDetCRTStripArrayCRT_module_maker"/>
                        <position name="posvolAuxDetCRTStripArrayCRT_module_maker" unit="cm" x="0" y="0" z="0"/>
                      </physvol>
                    </volume>
                  </loop>

                  <loop for="CRT_module_maker" to="126" step="1">
                    <volume name="CRTmoduleBERNCoverCRT_module_maker">
                      <materialref ref="ALUMINUM_Al"/>
                      <solidref ref="CRTmoduleBERNCover"/>
                    </volume>
                    <volume name="volCRTModuleCRT_module_maker">
                      <materialref ref="ALUMINUM_Al"/>
                      <solidref ref="CRTmoduleBERN"/>
                      <physvol>
                        <volumeref ref="CRTmoduleBERNCoverCRT_module_maker"/>
                        <position name="posCRTModuleCoverCRT_module_maker" unit="cm" x="0" y="0" z="0"/>
                      </physvol>
                      <physvol>
                        <volumeref ref="volAuxDetCRTStripArrayCRT_module_maker"/>
                        <position name="posvolAuxDetCRTStripArrayCRT_module_maker" unit="cm" x="0" y="0" z="0"/>
                      </physvol>
                    </volume>
                  </loop>

                  <loop for="CRT_module_maker" to="132" step="1">
                    <volume name="CRTmoduleMINOSCoverCRT_module_maker">
                      <materialref ref="ALUMINUM_Al"/>
                      <solidref ref="CRTmoduleMINOSCover"/>
                    </volume>
                    <volume name="volCRTModuleCRT_module_maker">
                      <materialref ref="ALUMINUM_Al"/>
                      <solidref ref="CRTmoduleMINOS"/>
                      <physvol>
                        <volumeref ref="CRTmoduleMINOSCoverCRT_module_maker"/>
                        <position name="posCRTModuleCoverCRT_module_maker" unit="cm" x="0" y="0" z="0"/>
                      </physvol>
                      <physvol>
                        <volumeref ref="volAuxDetCRTStripArrayCRT_module_maker"/>
                        <position name="posvolAuxDetCRTStripArrayCRT_module_maker" unit="cm" x="0" y="0" z="0"/>
                      </physvol>
                    </volume>
                  </loop>

		  <!-- Replace BERN flat module put here -->
		  <!-- For minimal diff -->
                  <loop for="CRT_module_maker" to="133" step="1">
                    <volume name="CRTmoduleBERNCoverCRT_module_maker">
                      <materialref ref="ALUMINUM_Al"/>
                      <solidref ref="CRTmoduleBERNCover"/>
                    </volume>
                    <volume name="volCRTModuleCRT_module_maker">
                      <materialref ref="ALUMINUM_Al"/>
                      <solidref ref="CRTmoduleBERN"/>
                      <physvol>
                        <volumeref ref="CRTmoduleBERNCoverCRT_module_maker"/>
                        <position name="posCRTModuleCoverCRT_module_maker" unit="cm" x="0" y="0" z="0"/>
                      </physvol>
                      <physvol>
                        <volumeref ref="volAuxDetCRTStripArrayCRT_module_maker"/>
                        <position name="posvolAuxDetCRTStripArrayCRT_module_maker" unit="cm" x="0" y="0" z="0"/>
                      </physvol>
                    </volume>
                  </loop>


                <!-- ============================= -->
                <!--        MOUNTING PANELS        -->
                <!-- ============================= -->

                <volume name="volTaggerTopHigh">
                        <materialref ref="matAir"/>
                        <solidref ref="TaggerTopHigh"/>
                        <loop for="CRT_placing_modules" to="4" step="1">
                                <physvol copynumber="CRT_placing_modules">
                                        <volumeref ref="volCRTModuleCRT_placing_modules"/>
                                        <position name="posCRT_moduleCRT_placing_modules" unit="cm" x="CRTmoduleY_l/2" y="(-2*CRTmoduleY_w)+(CRT_placing_modules-0*5)*CRTmoduleY_w" z="CRTmoduleY_t/2"/>
                                </physvol>
                        </loop>
                        <loop for="CRT_placing_modules" to="9" step="1">
                                <physvol copynumber="CRT_placing_modules">
                                        <volumeref ref="volCRTModuleCRT_placing_modules"/>
                                        <position name="posCRT_moduleCRT_placing_modules" unit="cm" x="-CRTmoduleY_l/2" y="(-2*CRTmoduleY_w)+(CRT_placing_modules-1*5)*CRTmoduleY_w" z="CRTmoduleY_t/2"/>
                                </physvol>
                        </loop>
                        <loop for="CRT_placing_modules" to="14" step="1">
                                <physvol copynumber="CRT_placing_modules">
                                        <volumeref ref="volCRTModuleCRT_placing_modules"/>
                                        <position name="posCRT_moduleCRT_placing_modules" unit="cm" x="(-2*CRTmoduleY_w)+(CRT_placing_modules-2*5)*CRTmoduleY_w" y="CRTmoduleY_l/2" z="-CRTmoduleY_t/2"/>
                                        <rotationref ref="rotateP90Z"/>
                                </physvol>
                        </loop>
                        <loop for="CRT_placing_modules" to="19" step="1">
                                <physvol copynumber="CRT_placing_modules">
                                        <volumeref ref="volCRTModuleCRT_placing_modules"/>
                                        <position name="posCRT_moduleCRT_placing_modules" unit="cm" x="(-2*CRTmoduleY_w)+(CRT_placing_modules-3*5)*CRTmoduleY_w" y="-CRTmoduleY_l/2" z="-CRTmoduleY_t/2"/>
                                        <rotationref ref="rotateP90Z"/>
                                </physvol>
                        </loop>
                </volume>

                <volume name="volTaggerTopLow">
                        <materialref ref="matAir"/>
                        <solidref ref="TaggerTopLow"/>
                        <loop for="CRT_placing_modules" to="24" step="1">
                                <physvol copynumber="CRT_placing_modules">
                                        <volumeref ref="volCRTModuleCRT_placing_modules"/>
                                        <position name="posCRT_moduleCRT_placing_modules" unit="cm" x="CRTmoduleY_l/2" y="(-2*CRTmoduleY_w)+(CRT_placing_modules-4*5)*CRTmoduleY_w" z="CRTmoduleY_t/2"/>
                                </physvol>
                        </loop>
                        <loop for="CRT_placing_modules" to="29" step="1">
                                <physvol copynumber="CRT_placing_modules">
                                        <volumeref ref="volCRTModuleCRT_placing_modules"/>
                                        <position name="posCRT_moduleCRT_placing_modules" unit="cm" x="-CRTmoduleY_l/2" y="(-2*CRTmoduleY_w)+(CRT_placing_modules-5*5)*CRTmoduleY_w" z="CRTmoduleY_t/2"/>
                                </physvol>
                        </loop>
                        <loop for="CRT_placing_modules" to="34" step="1">
                                <physvol copynumber="CRT_placing_modules">
                                        <volumeref ref="volCRTModuleCRT_placing_modules"/>
                                        <position name="posCRT_moduleCRT_placing_modules" unit="cm" x="(-2*CRTmoduleY_w)+(CRT_placing_modules-6*5)*CRTmoduleY_w" y="CRTmoduleY_l/2" z="-CRTmoduleY_t/2"/>
                                        <rotationref ref="rotateP90Z"/>
                                </physvol>
                        </loop>
                        <loop for="CRT_placing_modules" to="39" step="1">
                                <physvol copynumber="CRT_placing_modules">
                                        <volumeref ref="volCRTModuleCRT_placing_modules"/>
                                        <position name="posCRT_moduleCRT_placing_modules" unit="cm" x="(-2*CRTmoduleY_w)+(CRT_placing_modules-7*5)*CRTmoduleY_w" y="-CRTmoduleY_l/2" z="-CRTmoduleY_t/2"/>
                                        <rotationref ref="rotateP90Z"/>
                                </physvol>
                        </loop>
                </volume>

                <volume name="volTaggerSouth">
                        <materialref ref="matAir"/>
                        <solidref ref="TaggerSouth"/>
                        <loop for="CRT_placing_modules" to="43" step="1"/>
                                <physvol copynumber="CRT_placing_modules">
                                        <volumeref ref="volCRTModuleCRT_placing_modules"/>
                                        <position name="posCRT_moduleCRT_placing_modules" unit="cm" x="CRTmoduleX_l/2" y="(-1.5*CRTmoduleX_w)+(CRT_placing_modules-40)*CRTmoduleX_w" z="CRTmoduleX_t/2"/>
                                </physvol>
                        </loop>

                        <loop for="CRT_placing_modules" to="47" step="1">
                                <physvol copynumber="CRT_placing_modules">
                                        <volumeref ref="volCRTModuleCRT_placing_modules"/>
                                        <position name="posCRT_moduleCRT_placing_modules" unit="cm" x="-CRTmoduleX_l/2" y="(-1.5*CRTmoduleX_w)+(CRT_placing_modules-44)*CRTmoduleX_w" z="CRTmoduleX_t/2"/>
                                </physvol>
                        </loop>
                        <loop for="CRT_placing_modules" to="51" step="1">
                                <physvol copynumber="CRT_placing_modules">
                                        <volumeref ref="volCRTModuleCRT_placing_modules"/>
                                        <position name="posCRT_moduleCRT_placing_modules" unit="cm" x="(-1.5*CRTmoduleX_w)+(CRT_placing_modules-48)*CRTmoduleX_w" y="CRTmoduleX_l/2" z="-CRTmoduleX_t/2"/>
                                        <rotationref ref="rotateP90Z"/>
                                </physvol>
                        </loop>
                        <loop for="CRT_placing_modules" to="55" step="1">
                                <physvol copynumber="CRT_placing_modules">
                                        <volumeref ref="volCRTModuleCRT_placing_modules"/>
                                        <position name="posCRT_moduleCRT_placing_modules" unit="cm" x="(-1.5*CRTmoduleX_w)+(CRT_placing_modules-52)*CRTmoduleX_w" y="-CRTmoduleX_l/2" z="-CRTmoduleX_t/2"/>
                                        <rotationref ref="rotateP90Z"/>
                                </physvol>
                        </loop>
                </volume>

		<!-- blah -->
                <volume name="volTaggerNorth">
                        <materialref ref="matAir"/>
                        <solidref ref="TaggerNorth"/>
			<!-- These are the horizontal modules -->
			<!-- East side -->
                        <loop for="CRT_placing_modules" to="59" step="1"/>
                                <physvol copynumber="CRT_placing_modules">
                                        <volumeref ref="volCRTModuleCRT_placing_modules"/>
                                        <position name="posCRT_moduleCRT_placing_modules" unit="cm" x="CRTmoduleX_l/2" y="(-1.5*CRTmoduleX_w)+(CRT_placing_modules-56)*CRTmoduleX_w" z="-CRTmoduleX_t/2"/>
                                </physvol>
                        </loop>
			<!-- West side square module first -->
                        <loop for="CRT_placing_modules" to="60" step="1">
                                <physvol copynumber="CRT_placing_modules">
                                        <volumeref ref="volCRTModuleCRT_placing_modules"/>
                                        <position name="posCRT_moduleCRT_placing_modules" unit="cm" x="-CRTmoduleX_l*3.0/4.0-40" y="(-1.5*CRTmoduleX_w)+(CRT_placing_modules-60)*CRTmoduleX_w" z="-CRTmoduleX_t/2"/>
                                </physvol>

                        </loop>
                        <loop for="CRT_placing_modules" to="62" step="1">
                                <physvol copynumber="CRT_placing_modules">
                                        <volumeref ref="volCRTModuleCRT_placing_modules"/>
                                        <position name="posCRT_moduleCRT_placing_modules" unit="cm" x="-CRTmoduleX_l/2" y="(-1.5*CRTmoduleX_w)+(CRT_placing_modules-60)*CRTmoduleX_w" z="-CRTmoduleX_t/2"/>
                                </physvol>
                        </loop>
                        <loop for="CRT_placing_modules" to="63" step="1">
                                <physvol copynumber="CRT_placing_modules">
                                        <volumeref ref="volCRTModuleCRT_placing_modules"/>
                                        <position name="posCRT_moduleCRT_placing_modules" unit="cm" x="-CRTmoduleX_l/2" y="(-1.5*CRTmoduleX_w)+(CRT_placing_modules-60)*CRTmoduleX_w-27" z="-CRTmoduleX_t*3.0/2.0"/>
                                </physvol>
                        </loop>
			
			<!-- vertical -->
			<loop for="CRT_placing_modules" to="64" step="1">
			  <physvol copynumber="CRT_placing_modules">
                            <volumeref ref="volCRTModuleCRT_placing_modules"/>
                            <position name="posCRT_moduleCRT_placing_modules" unit="cm" x="(-1.5*CRTmoduleX_w)+(CRT_placing_modules-64)*CRTmoduleX_w" y="CRTmoduleX_l/2-27" z="CRTmoduleX_t*3.0/2.0"/>
                            <rotationref ref="rotateP90Z"/>
                          </physvol>
                        </loop>
                        <loop for="CRT_placing_modules" to="67" step="1">
			  <physvol copynumber="CRT_placing_modules">
                            <volumeref ref="volCRTModuleCRT_placing_modules"/>
                            <position name="posCRT_moduleCRT_placing_modules" unit="cm" x="(-1.5*CRTmoduleX_w)+(CRT_placing_modules-64)*CRTmoduleX_w" y="CRTmoduleX_l/2" z="CRTmoduleX_t/2"/>
                            <rotationref ref="rotateP90Z"/>
                          </physvol>
                        </loop>
                        <loop for="CRT_placing_modules" to="68" step="1">
                                <physvol copynumber="CRT_placing_modules">
                                        <volumeref ref="volCRTModuleCRT_placing_modules"/>
                                        <position name="posCRT_moduleCRT_placing_modules" unit="cm" x="(-1.5*CRTmoduleX_w)+(CRT_placing_modules-68)*CRTmoduleX_w" y="-CRTmoduleX_l/2" z="CRTmoduleX_t/2"/>
                                        <rotationref ref="rotateP90Z"/>
                                </physvol>
                        </loop>
			 <loop for="CRT_placing_modules" to="69" step="1">
                           <physvol copynumber="CRT_placing_modules">
                             <volumeref ref="volCRTModuleCRT_placing_modules"/>
                             <position name="posCRT_moduleCRT_placing_modules" unit="cm" x="(-1.5*CRTmoduleX_w)+(CRT_placing_modules-68)*CRTmoduleX_w" y="-CRTmoduleX_l/4" z="CRTmoduleX_t/2"/>
                                        <rotationref ref="rotateP90Z"/>
                                </physvol>
                         </loop>
			 <loop for="CRT_placing_modules" to="71" step="1">
                           <physvol copynumber="CRT_placing_modules">
                             <volumeref ref="volCRTModuleCRT_placing_modules"/>
                             <position name="posCRT_moduleCRT_placing_modules" unit="cm" x="(-1.5*CRTmoduleX_w)+(CRT_placing_modules-68)*CRTmoduleX_w" y="-CRTmoduleX_l/2" z="CRTmoduleX_t/2"/>
                                        <rotationref ref="rotateP90Z"/>
                                </physvol>
 </loop>
                </volume>

				<volume name="volTaggerEast">
                        <materialref ref="matAir"/>
                        <solidref ref="TaggerEast"/>
                        <loop for="CRT_placing_modules" to="75" step="1"/>
                                <physvol copynumber="CRT_placing_modules">
                                        <volumeref ref="volCRTModuleCRT_placing_modules"/>
                                        <position name="posCRT_moduleCRT_placing_modules" unit="cm" x="CRTmoduleY_l/2" y="(-1.5*CRTmoduleY_w)+(CRT_placing_modules-72)*CRTmoduleY_w" z="CRTmoduleY_t/2"/>
                                </physvol>
                        </loop>
                        <loop for="CRT_placing_modules" to="79" step="1">
                                <physvol copynumber="CRT_placing_modules">
                                        <volumeref ref="volCRTModuleCRT_placing_modules"/>
                                        <position name="posCRT_moduleCRT_placing_modules" unit="cm" x="-CRTmoduleY_l/2" y="(-1.5*CRTmoduleY_w)+(CRT_placing_modules-76)*CRTmoduleY_w" z="CRTmoduleY_t/2"/>
                                </physvol>
                        </loop>
                        <loop for="CRT_placing_modules" to="84" step="1"/>
                                <physvol copynumber="CRT_placing_modules">
                                        <volumeref ref="volCRTModuleCRT_placing_modules"/>
                                        <position name="posCRT_moduleCRT_placing_modules" unit="cm" x="(-2*CRTmoduleX_w)+(CRT_placing_modules-80)*CRTmoduleX_w" y="CRTmoduleX_l/2" z="-CRTmoduleX_t/2"/>
                                        <rotationref ref="rotateP90Z"/>
                                </physvol>
                        </loop>
                        <loop for="CRT_placing_modules" to="89" step="1">
                                <physvol copynumber="CRT_placing_modules">
                                        <volumeref ref="volCRTModuleCRT_placing_modules"/>
                                        <position name="posCRT_moduleCRT_placing_modules" unit="cm" x="(-2*CRTmoduleX_w)+(CRT_placing_modules-85)*CRTmoduleX_w" y="-CRTmoduleX_l/2" z="-CRTmoduleX_t/2"/>
                                        <rotationref ref="rotateP90Z"/>
                                </physvol>
                        </loop>
                </volume>

                <volume name="volTaggerWest">
                        <materialref ref="matAir"/>
                        <solidref ref="TaggerWest"/>
                        <loop for="CRT_placing_modules" to="93" step="1"/>
                                <physvol copynumber="CRT_placing_modules">
                                        <volumeref ref="volCRTModuleCRT_placing_modules"/>
                                        <position name="posCRT_moduleCRT_placing_modules" unit="cm" x="CRTmoduleY_l/2" y="(-1.5*CRTmoduleY_w)+(CRT_placing_modules-90)*CRTmoduleY_w" z="CRTmoduleY_t/2"/>
                                </physvol>
                        </loop>
                        <loop for="CRT_placing_modules" to="97" step="1">
                                <physvol copynumber="CRT_placing_modules">
                                        <volumeref ref="volCRTModuleCRT_placing_modules"/>
                                        <position name="posCRT_moduleCRT_placing_modules" unit="cm" x="-CRTmoduleY_l/2" y="(-1.5*CRTmoduleY_w)+(CRT_placing_modules-94)*CRTmoduleY_w" z="CRTmoduleY_t/2"/>
                                </physvol>
                        </loop>
                        <loop for="CRT_placing_modules" to="102" step="1"/>
                                <physvol copynumber="CRT_placing_modules">
                                        <volumeref ref="volCRTModuleCRT_placing_modules"/>
                                        <position name="posCRT_moduleCRT_placing_modules" unit="cm" x="(-2*CRTmoduleX_w)+(CRT_placing_modules-98)*CRTmoduleX_w" y="CRTmoduleX_l/2" z="-CRTmoduleX_t/2"/>
                                        <rotationref ref="rotateP90Z"/>
                                </physvol>
                        </loop>
                        <loop for="CRT_placing_modules" to="107" step="1">
                                <physvol copynumber="CRT_placing_modules">
                                        <volumeref ref="volCRTModuleCRT_placing_modules"/>
                                        <position name="posCRT_moduleCRT_placing_modules" unit="cm" x="(-2*CRTmoduleX_w)+(CRT_placing_modules-103)*CRTmoduleX_w" y="-CRTmoduleX_l/2" z="-CRTmoduleX_t/2"/>
                                        <rotationref ref="rotateP90Z"/>
                                </physvol>
                        </loop>
                </volume>

                <volume name="volTaggerBot">
                        <materialref ref="matAir"/>
                        <solidref ref="TaggerBottom"/>

                        <!-- BERN -->
                        <physvol copynumber="108">
                                <volumeref ref="volCRTModule108"/>
                                <position name="posCRT_module108" unit="cm" x="-BERNmodule_DX_middle-(CRTmoduleBERN_l/2)" y="BERNmodule_DY_large+(CRTmoduleBERN_w/2)" z="-CRTmoduleBERN_t/2"/>
                        </physvol>
                        <physvol copynumber="109">
                                <volumeref ref="volCRTModule109"/>
                                <position name="posCRT_module109" unit="cm" x="-BERNmodule_DX_middle-(CRTmoduleBERN_l/2)" y="BERNmodule_DY_small+(CRTmoduleBERN_w/2)" z="-CRTmoduleBERN_t/2"/>
                        </physvol>
                        <physvol copynumber="110">
                                <volumeref ref="volCRTModule110"/>
                                <position name="posCRT_module110" unit="cm" x="-BERNmodule_DX_large-(CRTmoduleBERN_w/2)" y="BERNmodule_DY_small+(CRTmoduleBERN_l/2)" z="CRTmoduleBERN_t/2"/>
								<rotationref ref="rotateP90Z"/>
						</physvol>
                        <physvol copynumber="111">
                                <volumeref ref="volCRTModule111"/>
                                <position name="posCRT_module111" unit="cm" x="-BERNmodule_DX_middle-(CRTmoduleBERN_w/2)" y="BERNmodule_DY_small+(CRTmoduleBERN_l/2)" z="CRTmoduleBERN_t/2"/>
								<rotationref ref="rotateP90Z"/>
                        </physvol>

                        <physvol copynumber="112">
                                <volumeref ref="volCRTModule112"/>
                                <position name="posCRT_module112" unit="cm" x="-BERNmodule_DX_small-(CRTmoduleBERN_w/2)" y="BERNmodule_DY_small+(CRTmoduleBERN_l/2)" z="CRTmoduleBERN_t/2"/>
								<rotationref ref="rotateP90Z"/>
                        </physvol>
                        <physvol copynumber="113">
                                <volumeref ref="volCRTModule113"/>
                                <position name="posCRT_module113" unit="cm" x="BERNmodule_DX_small+(CRTmoduleBERN_w/2)" y="BERNmodule_DY_small+(CRTmoduleBERN_l/2)" z="CRTmoduleBERN_t/2"/>
								<rotationref ref="rotateP90Z"/>
                        </physvol>
                        <physvol copynumber="114">
                                <volumeref ref="volCRTModule114"/>
                                <position name="posCRT_module114" unit="cm" x="BERNmodule_DX_middle+(CRTmoduleBERN_w/2)" y="BERNmodule_DY_small+(CRTmoduleBERN_l/2)" z="CRTmoduleBERN_t/2"/>
								<rotationref ref="rotateP90Z"/>
                        </physvol>
                        <physvol copynumber="115">
                                <volumeref ref="volCRTModule115"/>
                                <position name="posCRT_module115" unit="cm" x="BERNmodule_DX_large+(CRTmoduleBERN_w/2)" y="BERNmodule_DY_small+(CRTmoduleBERN_l/2)" z="CRTmoduleBERN_t/2"/>
								<rotationref ref="rotateP90Z"/>
                        </physvol>
                        <physvol copynumber="116">
                                <volumeref ref="volCRTModule116"/>
                                <position name="posCRT_module116" unit="cm" x="BERNmodule_DX_middle+(CRTmoduleBERN_l/2)" y="BERNmodule_DY_small+(CRTmoduleBERN_w/2)" z="-CRTmoduleBERN_t/2"/>
                        </physvol>
			<!-- Missing flat module relaced here -->
			<!-- number out of sequence for minimal diff -->
                        <physvol copynumber="133">
                                <volumeref ref="volCRTModule133"/>
                                <position name="posCRT_module133" unit="cm" x="BERNmodule_DX_middle+(CRTmoduleBERN_l/2)" y="BERNmodule_DY_large+(CRTmoduleBERN_w/2)" z="-CRTmoduleBERN_t/2"/>
                        </physvol>

                        <physvol copynumber="117">
                                <volumeref ref="volCRTModule117"/>
                                <position name="posCRT_module117" unit="cm" x="-BERNmodule_DX_middle-(CRTmoduleBERN_l/2)" y="-BERNmodule_DY_small-(CRTmoduleBERN_w/2)" z="-CRTmoduleBERN_t/2"/>
                        </physvol>
                        <physvol copynumber="118">
                                <volumeref ref="volCRTModule118"/>
                                <position name="posCRT_module118" unit="cm" x="-BERNmodule_DX_middle-(CRTmoduleBERN_l/2)" y="-BERNmodule_DY_large-(CRTmoduleBERN_w/2)" z="-CRTmoduleBERN_t/2"/>
                        </physvol>
                        <physvol copynumber="119">
                                <volumeref ref="volCRTModule119"/>
                                <position name="posCRT_module119" unit="cm" x="-BERNmodule_DX_large-(CRTmoduleBERN_w/2)" y="-BERNmodule_DY_small-(CRTmoduleBERN_l/2)" z="CRTmoduleBERN_t/2"/>
								<rotationref ref="rotateP90Z"/>
                        </physvol>
                        <physvol copynumber="120">
                                <volumeref ref="volCRTModule120"/>
                                <position name="posCRT_module120" unit="cm" x="-BERNmodule_DX_middle-(CRTmoduleBERN_w/2)" y="-BERNmodule_DY_small-(CRTmoduleBERN_l/2)" z="CRTmoduleBERN_t/2"/>
								<rotationref ref="rotateP90Z"/>
                        </physvol>
                        <physvol copynumber="121">
                                <volumeref ref="volCRTModule121"/>
                                <position name="posCRT_module121" unit="cm" x="-BERNmodule_DX_small-(CRTmoduleBERN_w/2)" y="-BERNmodule_DY_small-(CRTmoduleBERN_l/2)" z="CRTmoduleBERN_t/2"/>
								<rotationref ref="rotateP90Z"/>
                        </physvol>
                        <physvol copynumber="122">
                                <volumeref ref="volCRTModule122"/>
                                <position name="posCRT_module122" unit="cm" x="BERNmodule_DX_small+(CRTmoduleBERN_w/2)" y="-BERNmodule_DY_small-(CRTmoduleBERN_l/2)" z="CRTmoduleBERN_t/2"/>
								<rotationref ref="rotateP90Z"/>
                        </physvol>
                        <physvol copynumber="123">
                                <volumeref ref="volCRTModule123"/>
                                <position name="posCRT_module123" unit="cm" x="BERNmodule_DX_middle+(CRTmoduleBERN_w/2)" y="-BERNmodule_DY_small-(CRTmoduleBERN_l/2)" z="CRTmoduleBERN_t/2"/>
								<rotationref ref="rotateP90Z"/>
                        </physvol>
                        <physvol copynumber="124">
                                <volumeref ref="volCRTModule124"/>
                                <position name="posCRT_module124" unit="cm" x="BERNmodule_DX_large+(CRTmoduleBERN_w/2)" y="-BERNmodule_DY_small-(CRTmoduleBERN_l/2)" z="CRTmoduleBERN_t/2"/>
								<rotationref ref="rotateP90Z"/>
                        </physvol>
                        <physvol copynumber="125">
                                <volumeref ref="volCRTModule125"/>
                                <position name="posCRT_module125" unit="cm" x="BERNmodule_DX_middle+(CRTmoduleBERN_l/2)" y="-BERNmodule_DY_small-(CRTmoduleBERN_w/2)" z="-CRTmoduleBERN_t/2"/>
                        </physvol>
                        <physvol copynumber="126">
                                <volumeref ref="volCRTModule126"/>
                                <position name="posCRT_module126" unit="cm" x="BERNmodule_DX_middle+(CRTmoduleBERN_l/2)" y="-BERNmodule_DY_large-(CRTmoduleBERN_w/2)" z="-CRTmoduleBERN_t/2"/>
                        </physvol>
                        <!-- MINOS -->
                        <physvol copynumber="127">
                                <volumeref ref="volCRTModule127"/>
                                <position name="posCRT_module127" unit="cm" x="-BERNmodule_DX_middle-(CRTmoduleMINOS_l/2)" y="BERNmodule_DY_small/2+CRTmoduleMINOS_w/4" z="CRTmoduleMINOS_t/2"/>
                        </physvol>
                        <physvol copynumber="128">
                                <volumeref ref="volCRTModule128"/>
                                <position name="posCRT_module128" unit="cm" x="-BERNmodule_DX_middle-(CRTmoduleMINOS_l/2)" y="0" z="CRTmoduleMINOS_t/2"/>
                        </physvol>
                        <physvol copynumber="129">
                                <volumeref ref="volCRTModule129"/>
                                <position name="posCRT_module129" unit="cm" x="-BERNmodule_DX_middle-(CRTmoduleMINOS_l/2)" y="-BERNmodule_DY_small/2-CRTmoduleMINOS_w/4" z="CRTmoduleMINOS_t/2"/>
                        </physvol>
                        <physvol copynumber="130">
                                <volumeref ref="volCRTModule130"/>
                                <position name="posCRT_module130" unit="cm" x="BERNmodule_DX_middle+(CRTmoduleMINOS_l/2)" y="BERNmodule_DY_small/2+CRTmoduleMINOS_w/4" z="CRTmoduleMINOS_t/2"/>
                        </physvol>
                        <physvol copynumber="131">
                                <volumeref ref="volCRTModule131"/>
                                <position name="posCRT_module131" unit="cm" x="BERNmodule_DX_middle+(CRTmoduleMINOS_l/2)" y="0" z="CRTmoduleMINOS_t/2"/>
                        </physvol>
                        <physvol copynumber="132">
                                <volumeref ref="volCRTModule132"/>
                                <position name="posCRT_module132" unit="cm" x="BERNmodule_DX_middle+(CRTmoduleMINOS_l/2)" y="-BERNmodule_DY_small/2-CRTmoduleMINOS_w/4" z="CRTmoduleMINOS_t/2"/>
                        </physvol>

                        <!-- G10  strips -->
                        <physvol>
                                <volumeref ref="volG10strip_Bottom"/>
                                <position name="pos_BottomG10strips" unit="cm" x="BERNmodule_DX_middle-G10strip_Y_width/2.0" y="0" z="0"/>
                        </physvol>

                </volume>

        </structure>
    <!-- ending CRT -->


	<!-- Photon Detection System (PDS) -->



	<solids>

		<box name="XArapucaOut" lunit="mm" x="XArapucaOut_t" y="XArapucaOut_l" z="XArapucaOut_w"/>
		<box name="XArapucaFilter" lunit="mm" x="XArapucaFilter_t" y="XArapucaFilter_l" z="XArapucaFilter_w"/>
		<box name="XArapucaHole" lunit="mm" x="XArapucaFilter_t+XArapucaFilterDepth+_eD_" y="XArapucaFilter_l" z="XArapucaFilter_w"/>
		<box name="XArapucaCover" lunit="mm" x="XArapucaFilterDepth" y="distanceBetweenXArapucaFilters" z="XArapucaFilter_w"/>

		<subtraction name="XArapucaExternalWalls">
			<first ref="XArapucaOut"/>
			<second ref="XArapucaHole"/>
			<position name="posXArapucaSub" unit="mm" x="(XArapucaOut_t/2.)-((XArapucaFilterDepth+XArapucaFilter_t)/2.)" y="0" z="0"/>
		</subtraction>

		<box name="XArapucaVolume" lunit="mm" x="XArapucaOut_t" y="XArapucaOut_l" z="XArapucaOut_w"/>

	</solids>

	<structure>

		<!-- defining materials and properties -->

		<volume name="volOpDetSensitiveXArapucaFilter">
			<materialref ref="LAr"/>
			<solidref ref="XArapucaFilter"/>
			<auxiliary auxtype="SensDet" auxvalue="PhotonDetector"/>
		</volume>

		<volume name="volWalls_XArapuca">
			<materialref ref="G10 "/>
			<solidref ref="XArapucaExternalWalls"/>
		</volume>

		<volume name="volCover_XArapuca">
			<materialref ref="G10 "/>
			<solidref ref="XArapucaCover"/>
		</volume>

		<!-- Building one X-ARAPUCA -->

		<volume name="volXArapuca">
			<materialref ref="LAr"/>
			<solidref ref="XArapucaVolume"/>
			<auxiliary auxtype="SensDet" auxvalue="SimEnergyDeposit"/>
			<auxiliary auxtype="StepLimit" auxvalue="0.01" unit="mm"/>
			<auxiliary auxtype="Efield" auxvalue="0."/>
			<physvol>
				<volumeref ref="volWalls_XArapuca"/>
				<position name="posXArapuca1" unit="mm" x="0" y="0" z="0"/>
			</physvol>
			<physvol>
				<volumeref ref="volCover_XArapuca"/>
				<position name="posXArapuca2" unit="mm" x="(XArapucaOut_t/2.)-(XArapucaFilterDepth/2.)" y="0" z="0"/>
			</physvol>
			<physvol>
				<volumeref ref="volOpDetSensitiveXArapucaFilter"/>
				<position name="posXArapuca3" unit="mm" x="(XArapucaOut_t/2.)-XArapucaFilterDepth-(XArapucaFilter_t)/2." y="0" z="0"/>
			</physvol>
		</volume>

	</structure>



	<solids>

		<tube name="PMTVolume" rmax="PMT_rmax" z="PMT_base_height+PMT_rmax" deltaphi="360" aunit="deg" lunit="mm"/>
		<sphere name="PMT_Underside" rmin="PMT_rmin" rmax="PMT_base_rmax" deltaphi="360" deltatheta="90" aunit="deg" lunit="mm" />
		<sphere name="PMT_inside" rmin="0" rmax="PMT_rmin" deltaphi="360" deltatheta="90" aunit="deg" lunit="mm" />
		<tube name="PMT_Back" rmax="PMT_base_rmax" z="PMT_base_height" deltaphi="360" aunit="deg" lunit="mm"/>

	</solids>

	<structure>

		<!-- defining materials and properties -->

		<volume name="volOpDetSensitive">
			<materialref ref="LAr"/>
			<solidref ref="PMT_Underside"/>
			<auxiliary auxtype="SensDet" auxvalue="PhotonDetector"/>
		</volume>

		<volume name="vol_PMT_in">
			<materialref ref="matVacuum"/>
			<solidref ref="PMT_inside"/>
		</volume>

		<volume name="vol_PMT_Back">
			<materialref ref="STEEL_STAINLESS_Fe7Cr2Ni"/>
			<solidref ref="PMT_Back"/>
		</volume>

		<!-- building one PMT -->

		<volume name="volPMT">
			<materialref ref="LAr"/>
			<solidref ref="PMTVolume"/>
			<auxiliary auxtype="SensDet" auxvalue="SimEnergyDeposit"/>
			<auxiliary auxtype="StepLimit" auxvalue="0.01" unit="mm"/>
			<auxiliary auxtype="Efield" auxvalue="0."/>
			<physvol>
				<volumeref ref="vol_PMT_Back"/>
				<position name="pos_PMT_Back" unit="mm" x="0" y="0" z="-PMT_rmax/2."/>
			</physvol>
			<physvol>
				<volumeref ref="volOpDetSensitive"/>
				<position name="pos_PMT_Underside" unit="mm" x="0" y="0" z="(PMT_base_height-PMT_rmax)/2."/>
			</physvol>
			<physvol>
				<volumeref ref="vol_PMT_in"/>
				<position name="pos_PMT_in" unit="mm" x="0" y="0" z="(PMT_base_height-PMT_rmax)/2."/>
			</physvol>
		</volume>

	</structure>


	<!-- PDS case -->
	<!-- building a structure that will contain all 8 XARAPUCAS and 5 PMTs
		per module of the APA -->



	<solids>

		<box name="PDS_moduleCase" lunit="mm" z="2*distPDS_z+2*XArapucaOut_w+2*distBetweenXArapucas_z" y="2*distPDS_y+XArapucaOut_l" x="PDScaseDX"/>

	</solids>

	<structure>

		<volume name="volPDSstructure">
			<materialref ref="LAr"/>
			<solidref ref="PDS_moduleCase"/>
			<auxiliary auxtype="SensDet" auxvalue="SimEnergyDeposit"/>
			<auxiliary auxtype="StepLimit" auxvalue="0.01" unit="mm"/>
			<auxiliary auxtype="Efield" auxvalue="0."/>


			<!-- placing XARAPUCAs -->
			<physvol>
				<volumeref ref="volXArapuca"/>
				<position name="posXArapuca_1_Structure" unit="mm" z="-(distBetweenXArapucas_z/2.)-(XArapucaOut_w/2.)" y="distPDS_y" x="-PDScaseDX/2.+XArapucaOut_t/2."/>
			</physvol>
			<physvol>
				<volumeref ref="volXArapuca"/>
				<position name="posXArapuca_2_Structure" unit="mm" z="(distBetweenXArapucas_z/2.)+(XArapucaOut_w/2.)" y="distPDS_y" x="-PDScaseDX/2.+XArapucaOut_t/2."/>
			</physvol>
			<physvol>
				<volumeref ref="volXArapuca"/>
				<position name="posXArapuca_3_Structure" unit="mm" z="-(distBetweenXArapucas_z/2.)-(XArapucaOut_w/2.)" y="-distPDS_y" x="-PDScaseDX/2.+XArapucaOut_t/2."/>
			</physvol>
			<physvol>
				<volumeref ref="volXArapuca"/>
				<position name="posXArapuca_4_Structure" unit="mm" z="(distBetweenXArapucas_z/2.)+(XArapucaOut_w/2.)" y="-distPDS_y" x="-PDScaseDX/2.+XArapucaOut_t/2."/>
			</physvol>
			<physvol>
				<volumeref ref="volXArapuca"/>
				<position name="posXArapuca_5_Structure" unit="mm" z="-distPDS_z-(distBetweenXArapucas_z/2.)-(XArapucaOut_w/2.)" y="0" x="-PDScaseDX/2.+XArapucaOut_t/2."/>
			</physvol>
			<physvol>
				<volumeref ref="volXArapuca"/>
				<position name="posXArapuca_6_Structure" unit="mm" z="-distPDS_z+(distBetweenXArapucas_z/2.)+(XArapucaOut_w/2.)" y="0" x="-PDScaseDX/2.+XArapucaOut_t/2."/>
			</physvol>
			<physvol>
				<volumeref ref="volXArapuca"/>
				<position name="posXArapuca_7_Structure" unit="mm" z="distPDS_z-(distBetweenXArapucas_z/2.)-(XArapucaOut_w/2.)" y="0" x="-PDScaseDX/2.+XArapucaOut_t/2."/>
			</physvol>
			<physvol>
				<volumeref ref="volXArapuca"/>
				<position name="posXArapuca_8_Structure" unit="mm" z="distPDS_z+(distBetweenXArapucas_z/2.)+(XArapucaOut_w/2.)" y="0" x="-PDScaseDX/2.+XArapucaOut_t/2."/>
			</physvol>

			<!-- placing PMTs -->
			<physvol>
				<volumeref ref="volPMT"/>
				<position name="posPMT_1_Structure" unit="mm" z="-distPDS_z" y="distPDS_y" x="-PDScaseDX/2.+XArapucaOut_t/2.+distPMT_Arapuca+(PMT_base_height+PMT_rmax)/2."/>
				<rotationref ref="rotateN90Y"/>
			</physvol>
			<physvol>
				<volumeref ref="volPMT"/>
				<position name="posPMT_2_Structure" unit="mm" z="distPDS_z" y="distPDS_y" x="-PDScaseDX/2.+XArapucaOut_t/2.+distPMT_Arapuca+(PMT_base_height+PMT_rmax)/2."/>
				<rotationref ref="rotateN90Y"/>
			</physvol>
			<physvol>
				<volumeref ref="volPMT"/>
				<position name="posPMT_3_Structure" unit="mm" z="0" y="0" x="-PDScaseDX/2.+XArapucaOut_t/2.+distPMT_Arapuca+(PMT_base_height+PMT_rmax)/2."/>
				<rotationref ref="rotateN90Y"/>
			</physvol>
			<physvol>
				<volumeref ref="volPMT"/>
				<position name="posPMT_4_Structure" unit="mm" z="-distPDS_z" y="-distPDS_y" x="-PDScaseDX/2.+XArapucaOut_t/2.+distPMT_Arapuca+(PMT_base_height+PMT_rmax)/2."/>
				<rotationref ref="rotateN90Y"/>
			</physvol>
			<physvol>
				<volumeref ref="volPMT"/>
				<position name="posPMT_5_Structure" unit="mm" z="distPDS_z" y="-distPDS_y" x="-PDScaseDX/2.+XArapucaOut_t/2.+distPMT_Arapuca+(PMT_base_height+PMT_rmax)/2."/>
				<rotationref ref="rotateN90Y"/>
			</physvol>
		</volume>

	</structure>
	<!-- end of PDS -->

	<!-- APA -->

	<solids>
		<box name="boxAPATube_Longer_Outer"  lunit="mm" x="dimAPATube_D_mm"   y="dimAPAFrame_H_mm"   z="dimAPATube_W_mm"/>
		<box name="boxAPATube_Longer_Inner"  lunit="mm" x="dimAPATube_D_mm-dimAPATube_T_mm"   y="dimAPAFrame_H_mm-dimAPATube_T_mm"   z="dimAPATube_W_mm-dimAPATube_T_mm"/>

		<subtraction name="boxAPATube_Longer">
			<first  ref="boxAPATube_Longer_Outer"/>
			<second ref="boxAPATube_Longer_Inner"/>

		</subtraction>

		<box name="boxAPATube_Shorter_Outer"  lunit="mm" x="dimAPATube_D_mm"   y="dimAPATube_W_mm"   z="dimAPAShorterTube_L_mm"/>
		<box name="boxAPATube_Shorter_Inner"  lunit="mm" x="dimAPATube_D_mm-dimAPATube_T_mm"   y="dimAPATube_W_mm-dimAPATube_T_mm"   z="dimAPAShorterTube_L_mm+2*_eD_"/>

		<subtraction name="boxAPATube_Shorter">
			<first  ref="boxAPATube_Shorter_Outer"/>
			<second ref="boxAPATube_Shorter_Inner"/>

		</subtraction>

		<union name="unionAPA_L_0">
			<first  ref="boxAPATube_Longer"/>
			<second ref="boxAPATube_Shorter"/>
			<positionref ref="posAPAHorizontal_L_0"/>
		</union>

		<union name="unionAPA_L_1">
			<first  ref="unionAPA_L_0"/>
			<second ref="boxAPATube_Shorter"/>
			<positionref ref="posAPAHorizontal_L_1"/>
		</union>

		<union name="unionAPA_L_2">
			<first  ref="unionAPA_L_1"/>
			<second ref="boxAPATube_Shorter"/>
			<positionref ref="posAPAHorizontal_L_2"/>
		</union>

		<union name="unionAPA_L_3">
			<first  ref="unionAPA_L_2"/>
			<second ref="boxAPATube_Shorter"/>
			<positionref ref="posAPAHorizontal_L_3"/>
		</union>

		<union name="unionAPA_R_0">
			<first  ref="unionAPA_L_3"/>
			<second ref="boxAPATube_Shorter"/>
			<positionref ref="posAPAHorizontal_R_0"/>
		</union>

		<union name="unionAPA_R_1">
			<first  ref="unionAPA_R_0"/>
			<second ref="boxAPATube_Shorter"/>
			<positionref ref="posAPAHorizontal_R_1"/>
		</union>

		<union name="unionAPA_R_2">
			<first  ref="unionAPA_R_1"/>
			<second ref="boxAPATube_Shorter"/>
			<positionref ref="posAPAHorizontal_R_2"/>
		</union>

		<union name="unionAPA_R_3">
			<first  ref="unionAPA_R_2"/>
			<second ref="boxAPATube_Shorter"/>
			<positionref ref="posAPAHorizontal_R_3"/>
		</union>

		<union name="unionAPA_L">
			<first  ref="unionAPA_R_3"/>
			<second ref="boxAPATube_Longer"/>
			<positionref ref="posAPAVertical_L"/>
		</union>

		<union name="unionAPA">
			<first  ref="unionAPA_L"/>
			<second ref="boxAPATube_Longer"/>
			<positionref ref="posAPAVertical_R"/>
		</union>

	</solids>

	<!-- APA Frame (metal structure) -->
	<structure>
		<volume name="volOneAPAFrame">
			<materialref ref="STEEL_STAINLESS_Fe7Cr2Ni"/>
			<solidref ref="unionAPA"/>
		</volume>
	</structure>
	<!-- end of APA Frame -->

	<!-- Cryostat External Structure -->

    <solids>
        <box name="boxCryoExt_inner" lunit="mm" x="dimCryoExt_X_mm" 	y="dimCryoExt_Y_mm"	z="dimCryoExt_Z_mm"/>
        <box name="boxCryoExt_outter" lunit="mm" x="dimCryoExt_W_mm" 	y="dimCryoExt_H_mm"	z="dimCryoExt_L_mm"/>

		<!-- Solid External Walls -->
		<subtraction name="solidCryoExt_Walls">
			<first ref="boxCryoExt_outter"/>
			<second ref="boxCryoExt_inner"/>
		</subtraction>

		<!-- I-Beams structural supports -->

		<!-- Horizontals, used on the XY Plane (HXY) -->
		<box name="boxCryoExt_IBeam_HXY_middle" lunit="mm" x="dimCryoExt_IBeam_Hor_XY_L_mm" 	y="dimCryoExt_IBeam_T1_mm"	z="dimCryoExt_IBeam_H_mm-2.0*dimCryoExt_IBeam_T2_mm"/>
		<box name="boxCryoExt_IBeam_HXY_base" lunit="mm" x="dimCryoExt_IBeam_Hor_XY_L_mm" 	y="dimCryoExt_IBeam_W_mm"	z="dimCryoExt_IBeam_T2_mm"/>
		<union name="solid_IBeam_HXY_0">
			<first ref="boxCryoExt_IBeam_HXY_middle"/>
			<second ref="boxCryoExt_IBeam_HXY_base"/>
			<position name="pos_Cryo_IB_HXY_0" unit="mm" x="0" y="0" z="(dimCryoExt_IBeam_H_mm-dimCryoExt_IBeam_T2_mm)/2.0"/>
		</union>

		<union name="solid_IBeam_HXY">
			<first ref="solid_IBeam_HXY_0"/>
			<second ref="boxCryoExt_IBeam_HXY_base"/>
			<position name="pos_Cryo_IB_HXY_1" unit="mm" x="0" y="0" z="-(dimCryoExt_IBeam_H_mm-dimCryoExt_IBeam_T2_mm)/2.0"/>
		</union>

		<!-- Horizontals, used on the ZY Plane (HZY) -->
		<box name="boxCryoExt_IBeam_HZY_middle" lunit="mm" z="dimCryoExt_IBeam_Hor_ZY_L_mm" 	y="dimCryoExt_IBeam_T1_mm"	x="dimCryoExt_IBeam_H_mm-2.0*dimCryoExt_IBeam_T2_mm"/>
		<box name="boxCryoExt_IBeam_HZY_base" lunit="mm" z="dimCryoExt_IBeam_Hor_ZY_L_mm" 	y="dimCryoExt_IBeam_W_mm"	x="dimCryoExt_IBeam_T2_mm"/>

		<union name="solid_IBeam_HZY_0">
			<first ref="boxCryoExt_IBeam_HZY_middle"/>
			<second ref="boxCryoExt_IBeam_HZY_base"/>
			<position name="pos_Cryo_IB_HZY_0" unit="mm" x="+(dimCryoExt_IBeam_H_mm-dimCryoExt_IBeam_T2_mm)/2.0" y="0" z="0"/>
		</union>

		<union name="solid_IBeam_HZY">
			<first ref="solid_IBeam_HZY_0"/>
			<second ref="boxCryoExt_IBeam_HZY_base"/>
			<position name="pos_Cryo_IB_HZY_1" unit="mm" x="-(dimCryoExt_IBeam_H_mm-dimCryoExt_IBeam_T2_mm)/2.0" y="0" z="0"/>
		</union>

		<!-- Verticals, used on both XY and ZY Planes (V) -->
		<box name="boxCryoExt_IBeam_VXY_middle" lunit="mm" y="dimCryoExt_IBeam_Ver_L_mm" 	x="dimCryoExt_IBeam_T1_mm"	z="dimCryoExt_IBeam_H_mm-2.0*dimCryoExt_IBeam_T2_mm"/>
		<box name="boxCryoExt_IBeam_VXY_base" lunit="mm" y="dimCryoExt_IBeam_Ver_L_mm" 	x="dimCryoExt_IBeam_W_mm"	z="dimCryoExt_IBeam_T2_mm"/>

		<union name="solid_IBeam_V_0">
			<first ref="boxCryoExt_IBeam_VXY_middle"/>
			<second ref="boxCryoExt_IBeam_VXY_base"/>
			<position name="pos_Cryo_IB_VXY_0" unit="mm" z="+(dimCryoExt_IBeam_H_mm-dimCryoExt_IBeam_T2_mm)/2.0" y="0" x="0"/>
		</union>

		<union name="solid_IBeam_V">
			<first ref="solid_IBeam_V_0"/>
			<second ref="boxCryoExt_IBeam_VXY_base"/>
			<position name="pos_Cryo_IB_VXY_1" unit="mm" z="-(dimCryoExt_IBeam_H_mm-dimCryoExt_IBeam_T2_mm)/2.0" y="0" x="0"/>
		</union>


		<!-- Top plane (smaller), used on X direction -->
		<box name="boxCryoExt_IBeam_Top_X_middle" lunit="mm" x="dimCryoExt_IBeam_Top_X_L_mm" 	z="dimCryoExt_IBeam_Top_T1_mm"	y="dimCryoExt_IBeam_Top_H_mm-2.0*dimCryoExt_IBeam_Top_T2_mm"/>
		<box name="boxCryoExt_IBeam_Top_X_base" lunit="mm" x="dimCryoExt_IBeam_Top_X_L_mm" 	z="dimCryoExt_IBeam_Top_W_mm"	y="dimCryoExt_IBeam_Top_T2_mm"/>

		<union name="solid_IBeam_Top_X_0">
			<first ref="boxCryoExt_IBeam_Top_X_middle"/>
			<second ref="boxCryoExt_IBeam_Top_X_base"/>
			<position name="pos_Cryo_IB_Top_X_0" unit="mm" y="+(dimCryoExt_IBeam_Top_H_mm-dimCryoExt_IBeam_Top_T2_mm)/2.0" x="0" z="0"/>
		</union>

		<union name="solid_IBeam_Top_X">
			<first ref="solid_IBeam_Top_X_0"/>
			<second ref="boxCryoExt_IBeam_Top_X_base"/>
			<position name="pos_Cryo_IB_Top_X_1" unit="mm" y="-(dimCryoExt_IBeam_Top_H_mm-dimCryoExt_IBeam_Top_T2_mm)/2.0" x="0" z="0"/>
		</union>

		<!-- Top plane (smaller), used on Z direction -->
		<box name="boxCryoExt_IBeam_Top_Z_middle" lunit="mm" z="dimCryoExt_IBeam_Top_Z_L_mm" 	x="dimCryoExt_IBeam_Top_T1_mm"	y="dimCryoExt_IBeam_Top_H_mm-2.0*dimCryoExt_IBeam_Top_T2_mm"/>
		<box name="boxCryoExt_IBeam_Top_Z_base" lunit="mm" z="dimCryoExt_IBeam_Top_Z_L_mm" 	x="dimCryoExt_IBeam_Top_W_mm"	y="dimCryoExt_IBeam_Top_T2_mm"/>

		<union name="solid_IBeam_Top_Z_0">
			<first ref="boxCryoExt_IBeam_Top_Z_middle"/>
			<second ref="boxCryoExt_IBeam_Top_Z_base"/>
			<position name="pos_Cryo_IB_Top_Z_0" unit="mm" y="+(dimCryoExt_IBeam_Top_H_mm-dimCryoExt_IBeam_T2_mm)/2.0" x="0" z="0"/>
		</union>

		<union name="solid_IBeam_Top_Z">
			<first ref="solid_IBeam_Top_Z_0"/>
			<second ref="boxCryoExt_IBeam_Top_Z_base"/>
			<position name="pos_Cryo_IB_Top_Z_1" unit="mm" y="-(dimCryoExt_IBeam_Top_H_mm-dimCryoExt_IBeam_T2_mm)/2.0" x="0" z="0"/>
		</union>


		<!-- Assembling:  Horizontals at XY Plane -->
		<union name="solidCryoExt_ExtStruct_0">
			<first ref="solidCryoExt_Walls"/>
			<second ref="solid_IBeam_HXY"/>
			<position name="pos_Cryo_ExtStruc_0" unit="mm" x="0" y="0" z="-(dimCryoExt_L_mm+dimCryoExt_IBeam_H_mm)/2.0"/>
		</union>

		<union name="solidCryoExt_ExtStruct_1">
			<first ref="solidCryoExt_ExtStruct_0"/>
			<second ref="solid_IBeam_HXY"/>
			<position name="pos_Cryo_ExtStruc_1" unit="mm" x="0" y="+coordCryoExt_IBeam_Hor_DY1_mm" z="-(dimCryoExt_L_mm+dimCryoExt_IBeam_H_mm)/2.0"/>
		</union>

		<union name="solidCryoExt_ExtStruct_2">
			<first ref="solidCryoExt_ExtStruct_1"/>
			<second ref="solid_IBeam_HXY"/>
			<position name="pos_Cryo_ExtStruc_2" unit="mm" x="0" y="-coordCryoExt_IBeam_Hor_DY1_mm" z="-(dimCryoExt_L_mm+dimCryoExt_IBeam_H_mm)/2.0"/>
		</union>

		<union name="solidCryoExt_ExtStruct_3">
			<first ref="solidCryoExt_ExtStruct_2"/>
			<second ref="solid_IBeam_HXY"/>
			<position name="pos_Cryo_ExtStruc_3" unit="mm" x="0" y="coordCryoExt_IBeam_Hor_DY2_mm" z="-(dimCryoExt_L_mm+dimCryoExt_IBeam_H_mm)/2.0"/>
		</union>

		<union name="solidCryoExt_ExtStruct_4">
			<first ref="solidCryoExt_ExtStruct_3"/>
			<second ref="solid_IBeam_HXY"/>
			<position name="pos_Cryo_ExtStruc_4" unit="mm" x="0" y="0" z="+(dimCryoExt_L_mm+dimCryoExt_IBeam_H_mm)/2.0"/>
		</union>

		<union name="solidCryoExt_ExtStruct_5">
			<first ref="solidCryoExt_ExtStruct_4"/>
			<second ref="solid_IBeam_HXY"/>
			<position name="pos_Cryo_ExtStruc_5" unit="mm" x="0" y="+coordCryoExt_IBeam_Hor_DY1_mm" z="+(dimCryoExt_L_mm+dimCryoExt_IBeam_H_mm)/2.0"/>
		</union>

		<union name="solidCryoExt_ExtStruct_6">
			<first ref="solidCryoExt_ExtStruct_5"/>
			<second ref="solid_IBeam_HXY"/>
			<position name="pos_Cryo_ExtStruc_6" unit="mm" x="0" y="-coordCryoExt_IBeam_Hor_DY1_mm" z="+(dimCryoExt_L_mm+dimCryoExt_IBeam_H_mm)/2.0"/>
		</union>

		<union name="solidCryoExt_ExtStruct_7">
			<first ref="solidCryoExt_ExtStruct_6"/>
			<second ref="solid_IBeam_HXY"/>
			<position name="pos_Cryo_ExtStruc_7" unit="mm" x="0" y="coordCryoExt_IBeam_Hor_DY2_mm" z="+(dimCryoExt_L_mm+dimCryoExt_IBeam_H_mm)/2.0"/>
		</union>

		<!-- Assembling:  Horizontals at ZY Plane -->
		<union name="solidCryoExt_ExtStruct_8">
			<first ref="solidCryoExt_ExtStruct_7"/>
			<second ref="solid_IBeam_HZY"/>
			<position name="pos_Cryo_ExtStruc_8" unit="mm" x="(dimCryoExt_W_mm+dimCryoExt_IBeam_H_mm)/2.0" y="0" z="0"/>
		</union>

		<union name="solidCryoExt_ExtStruct_9">
			<first ref="solidCryoExt_ExtStruct_8"/>
			<second ref="solid_IBeam_HZY"/>
			<position name="pos_Cryo_ExtStruc_9" unit="mm" x="(dimCryoExt_W_mm+dimCryoExt_IBeam_H_mm)/2.0" y="+coordCryoExt_IBeam_Hor_DY1_mm" z="0"/>
		</union>

		<union name="solidCryoExt_ExtStruct_10">
			<first ref="solidCryoExt_ExtStruct_9"/>
			<second ref="solid_IBeam_HZY"/>
			<position name="pos_Cryo_ExtStruc_10" unit="mm" x="(dimCryoExt_W_mm+dimCryoExt_IBeam_H_mm)/2.0" y="-coordCryoExt_IBeam_Hor_DY1_mm" z="0"/>
		</union>

		<union name="solidCryoExt_ExtStruct_11">
			<first ref="solidCryoExt_ExtStruct_10"/>
			<second ref="solid_IBeam_HZY"/>
			<position name="pos_Cryo_ExtStruc_11" unit="mm" x="(dimCryoExt_W_mm+dimCryoExt_IBeam_H_mm)/2.0" y="coordCryoExt_IBeam_Hor_DY2_mm" z="0"/>
		</union>

		<union name="solidCryoExt_ExtStruct_12">
			<first ref="solidCryoExt_ExtStruct_11"/>
			<second ref="solid_IBeam_HZY"/>
			<position name="pos_Cryo_ExtStruc_12" unit="mm" x="-(dimCryoExt_W_mm+dimCryoExt_IBeam_H_mm)/2.0" y="0" z="0"/>
		</union>

		<union name="solidCryoExt_ExtStruct_13">
			<first ref="solidCryoExt_ExtStruct_12"/>
			<second ref="solid_IBeam_HZY"/>
			<position name="pos_Cryo_ExtStruc_13" unit="mm" x="-(dimCryoExt_W_mm+dimCryoExt_IBeam_H_mm)/2.0" y="+coordCryoExt_IBeam_Hor_DY1_mm" z="0"/>
		</union>

		<union name="solidCryoExt_ExtStruct_14">
			<first ref="solidCryoExt_ExtStruct_13"/>
			<second ref="solid_IBeam_HZY"/>
			<position name="pos_Cryo_ExtStruc_14" unit="mm" x="-(dimCryoExt_W_mm+dimCryoExt_IBeam_H_mm)/2.0" y="-coordCryoExt_IBeam_Hor_DY1_mm" z="0"/>
		</union>

		<union name="solidCryoExt_ExtStruct_15">
			<first ref="solidCryoExt_ExtStruct_14"/>
			<second ref="solid_IBeam_HZY"/>
			<position name="pos_Cryo_ExtStruc_15" unit="mm" x="-(dimCryoExt_W_mm+dimCryoExt_IBeam_H_mm)/2.0" y="coordCryoExt_IBeam_Hor_DY2_mm" z="0"/>
		</union>

		<!-- Assembling:  Verticals at ZY Plane -->
		<union name="solidCryoExt_ExtStruct_16">
			<first ref="solidCryoExt_ExtStruct_15"/>
			<second ref="solid_IBeam_V"/>
			<position name="pos_Cryo_ExtStruc_16" unit="mm" z="(0.5*coordCryoExt_IBeam_Ver_DZ_mm)" y="0" x="-(dimCryoExt_W_mm+dimCryoExt_IBeam_H_mm)/2.0"/>
			<rotationref ref="rotateP90Y" />
		</union>

		<union name="solidCryoExt_ExtStruct_17">
			<first ref="solidCryoExt_ExtStruct_16"/>
			<second ref="solid_IBeam_V"/>
			<position name="pos_Cryo_ExtStruc_17" unit="mm" z="(1.5*coordCryoExt_IBeam_Ver_DZ_mm)" y="0" x="-(dimCryoExt_W_mm+dimCryoExt_IBeam_H_mm)/2.0"/>
			<rotationref ref="rotateP90Y" />
		</union>

		<union name="solidCryoExt_ExtStruct_18">
			<first ref="solidCryoExt_ExtStruct_17"/>
			<second ref="solid_IBeam_V"/>
			<position name="pos_Cryo_ExtStruc_18" unit="mm" z="-(0.5*coordCryoExt_IBeam_Ver_DZ_mm)" y="0" x="-(dimCryoExt_W_mm+dimCryoExt_IBeam_H_mm)/2.0"/>
			<rotationref ref="rotateP90Y" />
		</union>

		<union name="solidCryoExt_ExtStruct_19">
			<first ref="solidCryoExt_ExtStruct_18"/>
			<second ref="solid_IBeam_V"/>
			<position name="pos_Cryo_ExtStruc_19" unit="mm" z="-(1.5*coordCryoExt_IBeam_Ver_DZ_mm)" y="0" x="-(dimCryoExt_W_mm+dimCryoExt_IBeam_H_mm)/2.0"/>
			<rotationref ref="rotateP90Y" />
		</union>

		<union name="solidCryoExt_ExtStruct_20">
			<first ref="solidCryoExt_ExtStruct_19"/>
			<second ref="solid_IBeam_V"/>
			<position name="pos_Cryo_ExtStruc_20" unit="mm" z="(0.5*coordCryoExt_IBeam_Ver_DZ_mm)" y="0" x="+(dimCryoExt_W_mm+dimCryoExt_IBeam_H_mm)/2.0"/>
			<rotationref ref="rotateP90Y" />
		</union>

		<union name="solidCryoExt_ExtStruct_21">
			<first ref="solidCryoExt_ExtStruct_20"/>
			<second ref="solid_IBeam_V"/>
			<position name="pos_Cryo_ExtStruc_21" unit="mm" z="(1.5*coordCryoExt_IBeam_Ver_DZ_mm)" y="0" x="+(dimCryoExt_W_mm+dimCryoExt_IBeam_H_mm)/2.0"/>
			<rotationref ref="rotateP90Y" />
		</union>

		<union name="solidCryoExt_ExtStruct_22">
			<first ref="solidCryoExt_ExtStruct_21"/>
			<second ref="solid_IBeam_V"/>
			<position name="pos_Cryo_ExtStruc_22" unit="mm" z="-(0.5*coordCryoExt_IBeam_Ver_DZ_mm)" y="0" x="+(dimCryoExt_W_mm+dimCryoExt_IBeam_H_mm)/2.0"/>
			<rotationref ref="rotateP90Y" />
		</union>

		<union name="solidCryoExt_ExtStruct_23">
			<first ref="solidCryoExt_ExtStruct_22"/>
			<second ref="solid_IBeam_V"/>
			<position name="pos_Cryo_ExtStruc_23" unit="mm" z="-(1.5*coordCryoExt_IBeam_Ver_DZ_mm)" y="0" x="+(dimCryoExt_W_mm+dimCryoExt_IBeam_H_mm)/2.0"/>
			<rotationref ref="rotateP90Y" />
		</union>

		<!-- Assembling:  Verticals at XY Plane -->
		<union name="solidCryoExt_ExtStruct_24">
			<first ref="solidCryoExt_ExtStruct_23"/>
			<second ref="solid_IBeam_V"/>
			<position name="pos_Cryo_ExtStruc_24" unit="mm" z="+(dimCryoExt_L_mm+dimCryoExt_IBeam_H_mm)/2.0" y="0" x="+(0.5*coordCryoExt_IBeam_Ver_DX_mm)"/>
		</union>

		<union name="solidCryoExt_ExtStruct_25">
			<first ref="solidCryoExt_ExtStruct_24"/>
			<second ref="solid_IBeam_V"/>
			<position name="pos_Cryo_ExtStruc_25" unit="mm" z="+(dimCryoExt_L_mm+dimCryoExt_IBeam_H_mm)/2.0" y="0" x="-(0.5*coordCryoExt_IBeam_Ver_DX_mm)"/>
		</union>

		<union name="solidCryoExt_ExtStruct_26">
			<first ref="solidCryoExt_ExtStruct_25"/>
			<second ref="solid_IBeam_V"/>
			<position name="pos_Cryo_ExtStruc_26" unit="mm" z="-(dimCryoExt_L_mm+dimCryoExt_IBeam_H_mm)/2.0" y="0" x="+(0.5*coordCryoExt_IBeam_Ver_DX_mm)"/>
		</union>

		<union name="solidCryoExt_ExtStruct_27">
			<first ref="solidCryoExt_ExtStruct_26"/>
			<second ref="solid_IBeam_V"/>
			<position name="pos_Cryo_ExtStruc_27" unit="mm" z="-(dimCryoExt_L_mm+dimCryoExt_IBeam_H_mm)/2.0" y="0" x="-(0.5*coordCryoExt_IBeam_Ver_DX_mm)"/>
		</union>

		<!-- Assembling:  Top, Z Direction -->
		<union name="solidCryoExt_ExtStruct_28">
			<first ref="solidCryoExt_ExtStruct_27"/>
			<second ref="solid_IBeam_Top_Z"/>
			<position name="pos_Cryo_ExtStruc_28" unit="mm" z="0" y="(dimCryoExt_H_mm+dimCryoExt_IBeam_Top_H_mm)/2.0" x="+(0.5*coordCryoExt_IBeam_Ver_DX_mm)"/>
		</union>

		<union name="solidCryoExt_ExtStruct_29">
			<first ref="solidCryoExt_ExtStruct_28"/>
			<second ref="solid_IBeam_Top_Z"/>
			<position name="pos_Cryo_ExtStruc_29" unit="mm" z="0" y="(dimCryoExt_H_mm+dimCryoExt_IBeam_Top_H_mm)/2.0" x="-(0.5*coordCryoExt_IBeam_Ver_DX_mm)"/>
		</union>

		<!-- Assembling:  Top, X Direction -->
		<union name="solidCryoExt_ExtStruct_30">
			<first ref="solidCryoExt_ExtStruct_29"/>
			<second ref="solid_IBeam_Top_X"/>
			<position name="pos_Cryo_ExtStruc_30" unit="mm" z="-(1.5*coordCryoExt_IBeam_Ver_DZ_mm)" y="(dimCryoExt_H_mm+dimCryoExt_IBeam_Top_H_mm)/2.0" x="0"/>
		</union>

		<union name="solidCryoExt_ExtStruct_31">
			<first ref="solidCryoExt_ExtStruct_30"/>
			<second ref="solid_IBeam_Top_X"/>
			<position name="pos_Cryo_ExtStruc_31" unit="mm" z="-(0.5*coordCryoExt_IBeam_Ver_DZ_mm)" y="(dimCryoExt_H_mm+dimCryoExt_IBeam_Top_H_mm)/2.0" x="0"/>
		</union>

		<union name="solidCryoExt_ExtStruct_32">
			<first ref="solidCryoExt_ExtStruct_31"/>
			<second ref="solid_IBeam_Top_X"/>
			<position name="pos_Cryo_ExtStruc_32" unit="mm" z="+(0.5*coordCryoExt_IBeam_Ver_DZ_mm)" y="(dimCryoExt_H_mm+dimCryoExt_IBeam_Top_H_mm)/2.0" x="0"/>
		</union>

		<union name="solidCryoExt_ExtStruct_33">
			<first ref="solidCryoExt_ExtStruct_32"/>
			<second ref="solid_IBeam_Top_X"/>
			<position name="pos_Cryo_ExtStruc_33" unit="mm" z="+(1.5*coordCryoExt_IBeam_Ver_DZ_mm)" y="(dimCryoExt_H_mm+dimCryoExt_IBeam_Top_H_mm)/2.0" x="0"/>
		</union>

                <!-- Assembling:  Bottom, Z Direction -->
		<union name="solidCryoExt_ExtStruct_34">
			<first ref="solidCryoExt_ExtStruct_33"/>
			<second ref="solid_IBeam_Top_Z"/>
			<position name="pos_Cryo_ExtStruc_34" unit="mm" z="0" y="-(dimCryoExt_H_mm+dimCryoExt_IBeam_Top_H_mm)/2.0" x="+(0.5*coordCryoExt_IBeam_Ver_DX_mm)"/>
		</union>

		<union name="solidCryoExt_ExtStruct_35">
			<first ref="solidCryoExt_ExtStruct_34"/>
			<second ref="solid_IBeam_Top_Z"/>
			<position name="pos_Cryo_ExtStruc_35" unit="mm" z="0" y="-(dimCryoExt_H_mm+dimCryoExt_IBeam_Top_H_mm)/2.0" x="-(0.5*coordCryoExt_IBeam_Ver_DX_mm)"/>
		</union>

		<!-- Assembling:  Bottom, X Direction -->
		<union name="solidCryoExt_ExtStruct_36">
			<first ref="solidCryoExt_ExtStruct_35"/>
			<second ref="solid_IBeam_Top_X"/>
			<position name="pos_Cryo_ExtStruc_36" unit="mm" z="-(1.5*coordCryoExt_IBeam_Ver_DZ_mm)" y="-(dimCryoExt_H_mm+dimCryoExt_IBeam_Top_H_mm)/2.0" x="0"/>
		</union>

		<union name="solidCryoExt_ExtStruct_37">
			<first ref="solidCryoExt_ExtStruct_36"/>
			<second ref="solid_IBeam_Top_X"/>
			<position name="pos_Cryo_ExtStruc_37" unit="mm" z="-(0.5*coordCryoExt_IBeam_Ver_DZ_mm)" y="-(dimCryoExt_H_mm+dimCryoExt_IBeam_Top_H_mm)/2.0" x="0"/>
		</union>

		<union name="solidCryoExt_ExtStruct_38">
			<first ref="solidCryoExt_ExtStruct_37"/>
			<second ref="solid_IBeam_Top_X"/>
			<position name="pos_Cryo_ExtStruc_38" unit="mm" z="+(0.5*coordCryoExt_IBeam_Ver_DZ_mm)" y="-(dimCryoExt_H_mm+dimCryoExt_IBeam_Top_H_mm)/2.0" x="0"/>
		</union>

		<union name="solidCryoExt_ExtStruct_39">
			<first ref="solidCryoExt_ExtStruct_38"/>
			<second ref="solid_IBeam_Top_X"/>
			<position name="pos_Cryo_ExtStruc_39" unit="mm" z="+(1.5*coordCryoExt_IBeam_Ver_DZ_mm)" y="-(dimCryoExt_H_mm+dimCryoExt_IBeam_Top_H_mm)/2.0" x="0"/>
		</union>

	</solids>


	<structure>
		<volume name="volCryoExt">
			<materialref ref="STEEL_STAINLESS_Fe7Cr2Ni"/>
			<solidref ref="solidCryoExt_ExtStruct_39"/>
		</volume>
	</structure>
	<!-- end of Cryostat External Structure -->

	<!-- Cryostat Insulation -->
	<solids>

		<box name="boxCryostatLidSteelLarger" lunit="mm" x="dimCryostatLid_Outer_X_mm" y="dimCryostatLid_Outer_Y_mm" z="dimCryostatLidLarger_Outer_Z_mm"/>
		<box name="boxCryostatLidSteelSmaller" lunit="mm" x="dimCryostatLid_Outer_X_mm" y="dimCryostatLid_Outer_Y_mm" z="dimCryostatLidSmaller_Outer_Z_mm"/>
		<box name="boxCryostatLidInsulationLarger"  lunit="mm" x="dimCryostatLid_Outer_X_mm-dimCryostatLid_T_mm" y="dimCryostatLid_Outer_Y_mm-dimCryostatLid_T_mm" z="dimCryostatLidLarger_Outer_Z_mm-dimCryostatLid_T_mm"/>
		<box name="boxCryostatLidInsulationSmaller" lunit="mm" x="dimCryostatLid_Outer_X_mm-dimCryostatLid_T_mm" y="dimCryostatLid_Outer_Y_mm-dimCryostatLid_T_mm" z="dimCryostatLidSmaller_Outer_Z_mm-dimCryostatLid_T_mm"/>

		<!-- Plywood -->
		<box name="boxCryoPlywood_outter_inner" lunit="mm" x="dimCryoExt_X_mm-2*dimPlywood_Insulation_T_mm" y="dimCryoExt_Y_mm-2*dimPlywood_Insulation_T_mm" z="dimCryoExt_Z_mm-2*dimPlywood_Insulation_T_mm"/>
		<box name="boxCryoPlywood_outter_outter" lunit="mm" x="dimCryoExt_X_mm" y="dimCryoExt_Y_mm" z="dimCryoExt_Z_mm"/>
		<subtraction name="solidCryoPlywood">
			<first ref="boxCryoPlywood_outter_outter"/>
			<second ref="boxCryoPlywood_outter_inner"/>
			<position name="posSubPlywood" unit="mm" x="0" y="dimPlywood_Insulation_T_mm/2.0+_eD_" z="0"/>
		</subtraction>

		<!-- Insulation Foam -->
		<box name="boxCryoInsul_inner" lunit="mm" x="dimInsulation_Inner_X_mm" y="dimInsulation_Inner_Y_mm" z="dimInsulation_Inner_Z_mm"/>
		<!-- <box name="boxCryoInsul_outter" lunit="mm" x="dimCryoExt_X_mm" 	y="dimCryoExt_Y_mm"	z="dimCryoExt_Z_mm"/> -->
		<box name="boxCryoInsul_outter" lunit="mm" x="dimCryoExt_X_mm-2*dimPlywood_Insulation_T_mm-_eD_" y="dimCryoExt_Y_mm-3*dimPlywood_Insulation_T_mm-_eD_" z="dimCryoExt_Z_mm-2*dimPlywood_Insulation_T_mm-_eD_"/>
		<subtraction name="solidCryoInsul">
			<first ref="boxCryoInsul_outter"/>
			<second ref="boxCryoInsul_inner"/>
		</subtraction>

	</solids>


	<structure>

		<volume name="volCryoLidInsulation_Larger">
			<materialref ref="matPIRALU_Cryostat"/>
			<solidref ref="boxCryostatLidInsulationLarger"/>
		</volume>

		<volume name="volCryoLidInsulation_Smaller">
			<materialref ref="matPIRALU_Cryostat"/>
			<solidref ref="boxCryostatLidInsulationSmaller"/>
		</volume>

		<volume name="volCryoLid_Larger">
			<materialref ref="STEEL_STAINLESS_Fe7Cr2Ni"/>
			<solidref ref="boxCryostatLidSteelLarger"/>

			<physvol>
				<volumeref ref="volCryoLidInsulation_Larger"/>
			</physvol>

		</volume>

		<volume name="volCryoLid_Smaller">
			<materialref ref="STEEL_STAINLESS_Fe7Cr2Ni"/>
			<solidref ref="boxCryostatLidSteelSmaller"/>

			<physvol>
				<volumeref ref="volCryoLidInsulation_Smaller"/>
			</physvol>

		</volume>

		<volume name="volCryoInsulation">
			<materialref ref="matPUFoam_Cryostat"/>
			<solidref ref="solidCryoInsul"/>

			<physvol>
				<volumeref ref="volCryoLid_Larger"/>
				<position  name="posCryoLid_Larger" unit="mm" x="0" y="(dimMembrane_Inner_Y_mm+dimCryostatLid_Outer_Y_mm)/2.0+dimMembrane_Inner_T_mm" z="-(dimCryostatLidSmaller_Outer_Z_mm+dimCryostatLidGap_mm)/2.0"/>
			</physvol>

			<physvol>
				<volumeref ref="volCryoLid_Smaller"/>
				<position  name="posCryoLid_Smaller" unit="mm" x="0" y="(dimMembrane_Inner_Y_mm+dimCryostatLid_Outer_Y_mm)/2.0+dimMembrane_Inner_T_mm" z="(dimMembrane_Inner_Z_mm+dimMembrane_Inner_T_mm-dimCryostatLidSmaller_Outer_Z_mm)/2.0"/>
			</physvol>

		</volume>

		<volume name="volCryoPlywood">
			<materialref ref="matPlywood"/>
			<solidref ref="solidCryoPlywood"/>
		</volume>

	</structure>
	<!-- end of Cryostat Insulation -->

	<!-- Cryostat Membrane -->
	<solids>

		<!-- Solid External Walls -->
		<box name="boxCryoMembrane_outter" lunit="mm" x="dimInsulation_Inner_X_mm" y="dimInsulation_Inner_Y_mm" z="dimInsulation_Inner_Z_mm"/>
		<box name="boxCryoMembrane_inner" lunit="mm" x="dimMembrane_Inner_X_mm" y="dimMembrane_Inner_Y_mm" z="dimMembrane_Inner_Z_mm"/>
		<subtraction name="solidCryoMembrane">
			<first ref="boxCryoMembrane_outter"/>
			<second ref="boxCryoMembrane_inner"/>
		</subtraction>

		<box name="boxCryostatUllage"  lunit="mm" x="dimMembrane_Inner_X_mm" y="dimCryostatUllage_T_mm" z="dimMembrane_Inner_Z_mm"/>

	</solids>

	<structure>
		<volume name="volCryoMembrane">
			<materialref ref="STEEL_STAINLESS_Fe7Cr2Ni"/>
			<solidref ref="solidCryoMembrane"/>
		</volume>

		<volume name="volCryoUllage">
			<materialref ref="GAr"/>
			<solidref ref="boxCryostatUllage"/>
		</volume>

	</structure>
	<!-- end of Cryostat Membrane -->


	<!-- Wire Planes -->
	<solids>
		<box  name="boxTPCPlane"  lunit="mm" x="dimWirePlane_X_mm"  y="dimWirePlane_Y_mm+dimCommonWire_D_mm" z="dimWirePlane_Z_mm+dimCommonWire_D_mm"/>

		<tube name="solidWireVert" lunit="mm" rmax="commonWire_R" z="dimWirePlane_Y_mm" aunit="deg" deltaphi="360." />

		<!-- lower channels -->
		<loop for ="iWireSizes_0" to="832" step="1"> <!-- #wire -->
			<tube name="solidWire_iWireSizes_0" lunit="mm" rmax="commonWire_R" z="((iWireSizes_0+0.5)*dimWirePitch_Z_mm)*commonWire_L/dimWirePlane_Z_mm" aunit="deg" deltaphi="360." />
		</loop>

		<!-- mid channels -->
			<tube name="solidWire" lunit="mm" rmax="commonWire_R" z="commonWire_L" aunit="deg" deltaphi="360." />

		<!-- higher channels -->
		<loop for ="iWireSizes_2" to="1984" step="1"> <!-- #wire -->
			<tube name="solidWire_iWireSizes_2" lunit="mm" rmax="commonWire_R" z="(dimWirePlane_Z_mm-(iWireSizes_2-channels_Higher)*dimWirePitch_Z_mm)*commonWire_L/dimWirePlane_Z_mm" aunit="deg" deltaphi="360." />
		</loop>

	</solids>

	<structure>

		<!-- Vertical Wires Volume -->
		<volume name="volTPCWireVert">
			<materialref ref="Copper_Beryllium_alloy25"/>
			<solidref ref="solidWireVert"/>
		</volume>

		<volume name="volTPCPlaneVert">
			<materialref ref="LAr"/>
			<solidref ref="boxTPCPlane"/>
			<auxiliary auxtype="SensDet" auxvalue="SimEnergyDeposit"/>
			<auxiliary auxtype="StepLimit" auxvalue="0.01" unit="mm"/>
			<auxiliary auxtype="Efield" auxvalue="0."/>

			<!-- Y wires -->
			<!-- iWire_Y starts from 1 -->
			<loop for ="iWire_Y" to="1664" step="1"> <!-- #wire -->
				<physvol>
					<volumeref ref="volTPCWireVert"/>
					<rotationref ref="rotateN90X"/>
					<position  name="posWire_Y_iWire_Y" unit="mm" x="0" y="0" z="(iWire_Y-1)*dimWirePitch_mm+originWires_Z"/>
				</physvol>
			</loop>
		</volume>

		<volume name="volTPCPlaneVert_dummy">
			<materialref ref="LAr"/>
			<solidref ref="boxTPCPlane"/>
		</volume>

	</structure>

	<structure>

		<!-- lower channels: 1 ~ 832 -->
		<loop for ="iWireVolumes_U_1" to="832" step="1"> <!-- #wire -->
			<volume name="volTPCWire_U_iWireVolumes_U_1">
				<materialref ref="Copper_Beryllium_alloy25"/>
				<solidref ref="solidWire_iWireVolumes_U_1"/>
			</volume>
		</loop>

		<!-- mid channels: 833 ~ 1152 -->
		<loop for ="iWireVolumes_U_2" to="1152" step="1"> <!-- #wire -->
			<volume name="volTPCWire_U_iWireVolumes_U_2">
				<materialref ref="Copper_Beryllium_alloy25"/>
				<solidref ref="solidWire"/>
			</volume>
		</loop>

		<!-- higher channels: 1153 ~ 1984 -->
		<loop for ="iWireVolumes_U_3" to="1984" step="1"> <!-- #wire -->
			<volume name="volTPCWire_U_iWireVolumes_U_3">
				<materialref ref="Copper_Beryllium_alloy25"/>
				<solidref ref="solidWire_iWireVolumes_U_3"/>
			</volume>
		</loop>

		<!-- U wireplane -->
		<volume name="volTPCPlane_U">
			<materialref ref="LAr"/>
			<solidref ref="boxTPCPlane"/>


			<!-- lower channels: 1 ~ 832 -->
			<loop for ="iWire_U1" to="832" step="1"> <!-- #wire -->
				<physvol>
					<volumeref ref="volTPCWire_U_iWire_U1"/>
					<rotationref ref="rotateN30X"/>
					<position  name="posWire_U_iWire_U1" unit="mm" x="0" y="+0.5*dimWirePitch_Y_mm+(-(channels_Higher-channels_Middle)/2.0)*dimWirePitch_Y_mm + (iWire_U1-1-channels_Middle)*dimWirePitch_Y_mm*0.5" z="(iWire_U1+1-channels_Middle)*dimWirePitch_Z_mm*0.5"/>
				</physvol>
			</loop>

			<!-- mid channels: 833 ~ 1152 -->
			<loop for ="iWire_U2" to="1152" step="1"> <!-- #wire -->
				<physvol>
					<volumeref ref="volTPCWire_U_iWire_U2"/>
					<rotationref ref="rotateN30X"/>
					<position  name="posWire_U_iWire_U2" unit="mm" x="0" y="+0.5*dimWirePitch_Y_mm+(iWire_U2-channels_Middle-(channels_Higher-channels_Middle)/2.0)*dimWirePitch_Y_mm" z="0"/>
				</physvol>
			</loop>

			<!-- higher channels: 1153 ~ 1984 -->
			<loop for ="iWire_U3" to="1984" step="1"> <!-- #wire -->
				<physvol>
					<volumeref ref="volTPCWire_U_iWire_U3"/>
					<rotationref ref="rotateN30X"/>
					<position  name="posWire_U_iWire_U3" unit="mm" x="0" y="+0.5*dimWirePitch_Y_mm+((channels_Higher-channels_Middle)-(channels_Higher-channels_Middle)/2.0)*dimWirePitch_Y_mm+(iWire_U3-channels_Higher)*dimWirePitch_Y_mm*0.5" z="(iWire_U3-channels_Higher)*dimWirePitch_Z_mm*0.5"/>
				</physvol>
			</loop>

		</volume>
	</structure>

	<structure>

		<!-- lower channels: 1 ~ 832 -->
		<loop for ="iWireVolumes_V_1" to="832" step="1"> <!-- #wire -->
			<volume name="volTPCWire_V_iWireVolumes_V_1">
				<materialref ref="Copper_Beryllium_alloy25"/>
				<solidref ref="solidWire_iWireVolumes_V_1"/>
			</volume>
		</loop>

		<!-- mid channels: 833 ~ 1152 -->
		<loop for ="iWireVolumes_V_2" to="1152" step="1"> <!-- #wire -->
			<volume name="volTPCWire_V_iWireVolumes_V_2">
				<materialref ref="Copper_Beryllium_alloy25"/>
				<solidref ref="solidWire"/>
			</volume>
		</loop>

		<!-- higher channels: 1153 ~ 1984 -->
		<loop for ="iWireVolumes_V_3" to="1984" step="1"> <!-- #wire -->
			<volume name="volTPCWire_V_iWireVolumes_V_3">
				<materialref ref="Copper_Beryllium_alloy25"/>
				<solidref ref="solidWire_iWireVolumes_V_3"/>
			</volume>
		</loop>

		<!-- V wireplane -->
		<volume name="volTPCPlane_V">
			<materialref ref="LAr"/>
			<solidref ref="boxTPCPlane"/>


			<!-- lower channels: 1 ~ 832 -->
			<loop for ="iWire_V1" to="832" step="1"> <!-- #wire -->
				<physvol>
					<volumeref ref="volTPCWire_V_iWire_V1"/>
					<rotationref ref="rotateP30X"/>
					<position  name="posWire_V_iWire_V1" unit="mm" x="0" y="-0.5*dimWirePitch_Y_mm+((channels_Higher-channels_Middle)/2.0)*dimWirePitch_Y_mm - (iWire_V1-1-channels_Middle)*dimWirePitch_Y_mm*0.5" z="(iWire_V1+1-channels_Middle)*dimWirePitch_Z_mm*0.5"/>
				</physvol>
			</loop>

			<!-- mid channels: 833 ~ 1152 -->
			<loop for ="iWire_V2" to="1152" step="1"> <!-- #wire -->
				<physvol>
					<volumeref ref="volTPCWire_V_iWire_V2"/>
					<rotationref ref="rotateP30X"/>
					<position  name="posWire_V_iWire_V2" unit="mm" x="0" y="-0.5*dimWirePitch_Y_mm-(iWire_V2-channels_Middle-(channels_Higher-channels_Middle)/2.0)*dimWirePitch_Y_mm" z="0"/>
				</physvol>
			</loop>

			<!-- higher channels: 1153 ~ 1984 -->
			<loop for ="iWire_V3" to="1984" step="1"> <!-- #wire -->
				<physvol>
					<volumeref ref="volTPCWire_V_iWire_V3"/>
					<rotationref ref="rotateP30X"/>
					<position  name="posWire_V_iWire_V3" unit="mm" x="0" y="-0.5*dimWirePitch_Y_mm-((channels_Higher-channels_Middle)-(channels_Higher-channels_Middle)/2.0)*dimWirePitch_Y_mm - (iWire_V3-channels_Higher)*dimWirePitch_Y_mm*0.5" z="(iWire_V3-channels_Higher)*dimWirePitch_Z_mm*0.5"/>
				</physvol>
			</loop>

		</volume>

		<volume name="volTPCPlane_V_dummy">
			<materialref ref="LAr"/>
			<solidref ref="boxTPCPlane"/>
		</volume>

	</structure>

	<!-- TPCs -->

	<solids>
		<box name="boxTPCActive" 	lunit="mm" x="theTPCActive_W" 	y="theTPC_Y"	z="theTPC_Z"/>
		<box name="boxTPC"	 		lunit="mm" x="theTPC_X"		y="theTPC_Y"	z="theTPC_Z"/>
	</solids>


	<structure>

		<!-- defined as being the East one -->
		<!-- the West one is going to be this one mirrored -->
		<volume name="volTPCActive">
			<materialref ref="LAr"/>
			<solidref ref="boxTPCActive"/>
			<auxiliary auxtype="SensDet" auxvalue="SimEnergyDeposit"/>
			<auxiliary auxtype="StepLimit" auxvalue="0.01" unit="mm"/>
			<auxiliary auxtype="Efield" auxvalue="500."/>

			<physvol>
				<volumeref ref="volCPA_East"/>
				<position name="posCPA_East" unit="mm" x="(theTPC_X-3*theTPCPlane_W)/2.0" y="0" z="0" />
			</physvol>

			<!-- cpa mesh -->
			<physvol>
				<volumeref ref="volCPAMesh"/>
				<position name="pos_1_CPAMesh_East" unit="mm" x="(1)*((theTPC_X-3*theTPCPlane_W)/2.0-CPAMesh_T_mm/4.0)" y="(1.5)*dimCPAWindow_H_mm" z="(0.5)*dimCPASpacing_mm+(1.5)*dimCPAWindow_W_mm"/>
			</physvol>
			<physvol>
				<volumeref ref="volCPAMesh"/>
				<position name="pos_2_CPAMesh_East" unit="mm" x="(1)*((theTPC_X-3*theTPCPlane_W)/2.0-CPAMesh_T_mm/4.0)" y="(0.5)*dimCPAWindow_H_mm" z="(0.5)*dimCPASpacing_mm+(1.5)*dimCPAWindow_W_mm"/>
			</physvol>
			<physvol>
				<volumeref ref="volCPAMesh"/>
				<position name="pos_3_CPAMesh_East" unit="mm" x="(1)*((theTPC_X-3*theTPCPlane_W)/2.0-CPAMesh_T_mm/4.0)" y="(-0.5)*dimCPAWindow_H_mm" z="(0.5)*dimCPASpacing_mm+(1.5)*dimCPAWindow_W_mm"/>
			</physvol>
			<physvol>
				<volumeref ref="volCPAMesh"/>
				<position name="pos_4_CPAMesh_East" unit="mm" x="(1)*((theTPC_X-3*theTPCPlane_W)/2.0-CPAMesh_T_mm/4.0)" y="(-1.5)*dimCPAWindow_H_mm" z="(0.5)*dimCPASpacing_mm+(1.5)*dimCPAWindow_W_mm"/>
			</physvol>
			<physvol>
				<volumeref ref="volCPAMesh"/>
				<position name="pos_5_CPAMesh_East" unit="mm" x="(1)*((theTPC_X-3*theTPCPlane_W)/2.0-CPAMesh_T_mm/4.0)" y="(1.5)*dimCPAWindow_H_mm" z="(0.5)*dimCPASpacing_mm+(0.5)*dimCPAWindow_W_mm"/>
			</physvol>
			<physvol>
				<volumeref ref="volCPAMesh"/>
				<position name="pos_6_CPAMesh_East" unit="mm" x="(1)*((theTPC_X-3*theTPCPlane_W)/2.0-CPAMesh_T_mm/4.0)" y="(0.5)*dimCPAWindow_H_mm" z="(0.5)*dimCPASpacing_mm+(0.5)*dimCPAWindow_W_mm"/>
			</physvol>
			<physvol>
				<volumeref ref="volCPAMesh"/>
				<position name="pos_7_CPAMesh_East" unit="mm" x="(1)*((theTPC_X-3*theTPCPlane_W)/2.0-CPAMesh_T_mm/4.0)" y="(-0.5)*dimCPAWindow_H_mm" z="(0.5)*dimCPASpacing_mm+(0.5)*dimCPAWindow_W_mm"/>
			</physvol>
			<physvol>
				<volumeref ref="volCPAMesh"/>
				<position name="pos_8_CPAMesh_East" unit="mm" x="(1)*((theTPC_X-3*theTPCPlane_W)/2.0-CPAMesh_T_mm/4.0)" y="(-1.5)*dimCPAWindow_H_mm" z="(0.5)*dimCPASpacing_mm+(0.5)*dimCPAWindow_W_mm"/>
			</physvol>
			<physvol>
				<volumeref ref="volCPAMesh"/>
				<position name="pos_9_CPAMesh_East" unit="mm" x="(1)*((theTPC_X-3*theTPCPlane_W)/2.0-CPAMesh_T_mm/4.0)" y="(1.5)*dimCPAWindow_H_mm" z="(-0.5)*dimCPASpacing_mm+(-0.5)*dimCPAWindow_W_mm"/>
			</physvol>
			<physvol>
				<volumeref ref="volCPAMesh"/>
				<position name="pos_10_CPAMesh_East" unit="mm" x="(1)*((theTPC_X-3*theTPCPlane_W)/2.0-CPAMesh_T_mm/4.0)" y="(0.5)*dimCPAWindow_H_mm" z="(-0.5)*dimCPASpacing_mm+(-0.5)*dimCPAWindow_W_mm"/>
			</physvol>
			<physvol>
				<volumeref ref="volCPAMesh"/>
				<position name="pos_11_CPAMesh_East" unit="mm" x="(1)*((theTPC_X-3*theTPCPlane_W)/2.0-CPAMesh_T_mm/4.0)" y="(-0.5)*dimCPAWindow_H_mm" z="(-0.5)*dimCPASpacing_mm+(-0.5)*dimCPAWindow_W_mm"/>
			</physvol>
			<physvol>
				<volumeref ref="volCPAMesh"/>
				<position name="pos_12_CPAMesh_East" unit="mm" x="(1)*((theTPC_X-3*theTPCPlane_W)/2.0-CPAMesh_T_mm/4.0)" y="(-1.5)*dimCPAWindow_H_mm" z="(-0.5)*dimCPASpacing_mm+(-0.5)*dimCPAWindow_W_mm"/>
			</physvol>
			<physvol>
				<volumeref ref="volCPAMesh"/>
				<position name="pos_13_CPAMesh_East" unit="mm" x="(1)*((theTPC_X-3*theTPCPlane_W)/2.0-CPAMesh_T_mm/4.0)" y="(1.5)*dimCPAWindow_H_mm" z="(-0.5)*dimCPASpacing_mm+(-1.5)*dimCPAWindow_W_mm"/>
			</physvol>
			<physvol>
				<volumeref ref="volCPAMesh"/>
				<position name="pos_14_CPAMesh_East" unit="mm" x="(1)*((theTPC_X-3*theTPCPlane_W)/2.0-CPAMesh_T_mm/4.0)" y="(0.5)*dimCPAWindow_H_mm" z="(-0.5)*dimCPASpacing_mm+(-1.5)*dimCPAWindow_W_mm"/>
			</physvol>
			<physvol>
				<volumeref ref="volCPAMesh"/>
				<position name="pos_15_CPAMesh_East" unit="mm" x="(1)*((theTPC_X-3*theTPCPlane_W)/2.0-CPAMesh_T_mm/4.0)" y="(-0.5)*dimCPAWindow_H_mm" z="(-0.5)*dimCPASpacing_mm+(-1.5)*dimCPAWindow_W_mm"/>
			</physvol>
			<physvol>
				<volumeref ref="volCPAMesh"/>
				<position name="pos_16_CPAMesh_East" unit="mm" x="(1)*((theTPC_X-3*theTPCPlane_W)/2.0-CPAMesh_T_mm/4.0)" y="(-1.5)*dimCPAWindow_H_mm" z="(-0.5)*dimCPASpacing_mm+(-1.5)*dimCPAWindow_W_mm"/>
			</physvol>
			<!-- cpa foil+tpb -->
			<physvol>
				<volumeref ref="volCPA_FoilTPB"/>
				<position name="pos_1_CPAFoilTPB_East" unit="mm" x="(1)*((theTPC_X-3*theTPCPlane_W)/2.0-(CPAFoil_T_mm+CPATPB_T_mm+dimCPAMeshFixture_T_mm)/2.0)" y="(1.5)*dimCPAWindow_H_mm" z="(0.5)*dimCPASpacing_mm+(1.5)*dimCPAWindow_W_mm"/>
				<rotationref ref="rotateP180Y"/>
			</physvol>
			<physvol>
				<volumeref ref="volCPA_FoilTPB"/>
				<position name="pos_2_CPAFoilTPB_East" unit="mm" x="(1)*((theTPC_X-3*theTPCPlane_W)/2.0-(CPAFoil_T_mm+CPATPB_T_mm+dimCPAMeshFixture_T_mm)/2.0)" y="(0.5)*dimCPAWindow_H_mm" z="(0.5)*dimCPASpacing_mm+(1.5)*dimCPAWindow_W_mm"/>
				<rotationref ref="rotateP180Y"/>
			</physvol>
			<physvol>
				<volumeref ref="volCPA_FoilTPB"/>
				<position name="pos_3_CPAFoilTPB_East" unit="mm" x="(1)*((theTPC_X-3*theTPCPlane_W)/2.0-(CPAFoil_T_mm+CPATPB_T_mm+dimCPAMeshFixture_T_mm)/2.0)" y="(-0.5)*dimCPAWindow_H_mm" z="(0.5)*dimCPASpacing_mm+(1.5)*dimCPAWindow_W_mm"/>
				<rotationref ref="rotateP180Y"/>
			</physvol>
			<physvol>
				<volumeref ref="volCPA_FoilTPB"/>
				<position name="pos_4_CPAFoilTPB_East" unit="mm" x="(1)*((theTPC_X-3*theTPCPlane_W)/2.0-(CPAFoil_T_mm+CPATPB_T_mm+dimCPAMeshFixture_T_mm)/2.0)" y="(-1.5)*dimCPAWindow_H_mm" z="(0.5)*dimCPASpacing_mm+(1.5)*dimCPAWindow_W_mm"/>
				<rotationref ref="rotateP180Y"/>
			</physvol>
			<physvol>
				<volumeref ref="volCPA_FoilTPB"/>
				<position name="pos_5_CPAFoilTPB_East" unit="mm" x="(1)*((theTPC_X-3*theTPCPlane_W)/2.0-(CPAFoil_T_mm+CPATPB_T_mm+dimCPAMeshFixture_T_mm)/2.0)" y="(1.5)*dimCPAWindow_H_mm" z="(0.5)*dimCPASpacing_mm+(0.5)*dimCPAWindow_W_mm"/>
				<rotationref ref="rotateP180Y"/>
			</physvol>
			<physvol>
				<volumeref ref="volCPA_FoilTPB"/>
				<position name="pos_6_CPAFoilTPB_East" unit="mm" x="(1)*((theTPC_X-3*theTPCPlane_W)/2.0-(CPAFoil_T_mm+CPATPB_T_mm+dimCPAMeshFixture_T_mm)/2.0)" y="(0.5)*dimCPAWindow_H_mm" z="(0.5)*dimCPASpacing_mm+(0.5)*dimCPAWindow_W_mm"/>
				<rotationref ref="rotateP180Y"/>
			</physvol>
			<physvol>
				<volumeref ref="volCPA_FoilTPB"/>
				<position name="pos_7_CPAFoilTPB_East" unit="mm" x="(1)*((theTPC_X-3*theTPCPlane_W)/2.0-(CPAFoil_T_mm+CPATPB_T_mm+dimCPAMeshFixture_T_mm)/2.0)" y="(-0.5)*dimCPAWindow_H_mm" z="(0.5)*dimCPASpacing_mm+(0.5)*dimCPAWindow_W_mm"/>
				<rotationref ref="rotateP180Y"/>
			</physvol>
			<physvol>
				<volumeref ref="volCPA_FoilTPB"/>
				<position name="pos_8_CPAFoilTPB_East" unit="mm" x="(1)*((theTPC_X-3*theTPCPlane_W)/2.0-(CPAFoil_T_mm+CPATPB_T_mm+dimCPAMeshFixture_T_mm)/2.0)" y="(-1.5)*dimCPAWindow_H_mm" z="(0.5)*dimCPASpacing_mm+(0.5)*dimCPAWindow_W_mm"/>
				<rotationref ref="rotateP180Y"/>
			</physvol>
			<physvol>
				<volumeref ref="volCPA_FoilTPB"/>
				<position name="pos_9_CPAFoilTPB_East" unit="mm" x="(1)*((theTPC_X-3*theTPCPlane_W)/2.0-(CPAFoil_T_mm+CPATPB_T_mm+dimCPAMeshFixture_T_mm)/2.0)" y="(1.5)*dimCPAWindow_H_mm" z="(-0.5)*dimCPASpacing_mm+(-0.5)*dimCPAWindow_W_mm"/>
				<rotationref ref="rotateP180Y"/>
			</physvol>
			<physvol>
				<volumeref ref="volCPA_FoilTPB"/>
				<position name="pos_10_CPAFoilTPB_East" unit="mm" x="(1)*((theTPC_X-3*theTPCPlane_W)/2.0-(CPAFoil_T_mm+CPATPB_T_mm+dimCPAMeshFixture_T_mm)/2.0)" y="(0.5)*dimCPAWindow_H_mm" z="(-0.5)*dimCPASpacing_mm+(-0.5)*dimCPAWindow_W_mm"/>
				<rotationref ref="rotateP180Y"/>
			</physvol>
			<physvol>
				<volumeref ref="volCPA_FoilTPB"/>
				<position name="pos_11_CPAFoilTPB_East" unit="mm" x="(1)*((theTPC_X-3*theTPCPlane_W)/2.0-(CPAFoil_T_mm+CPATPB_T_mm+dimCPAMeshFixture_T_mm)/2.0)" y="(-0.5)*dimCPAWindow_H_mm" z="(-0.5)*dimCPASpacing_mm+(-0.5)*dimCPAWindow_W_mm"/>
				<rotationref ref="rotateP180Y"/>
			</physvol>
			<physvol>
				<volumeref ref="volCPA_FoilTPB"/>
				<position name="pos_12_CPAFoilTPB_East" unit="mm" x="(1)*((theTPC_X-3*theTPCPlane_W)/2.0-(CPAFoil_T_mm+CPATPB_T_mm+dimCPAMeshFixture_T_mm)/2.0)" y="(-1.5)*dimCPAWindow_H_mm" z="(-0.5)*dimCPASpacing_mm+(-0.5)*dimCPAWindow_W_mm"/>
				<rotationref ref="rotateP180Y"/>
			</physvol>
			<physvol>
				<volumeref ref="volCPA_FoilTPB"/>
				<position name="pos_13_CPAFoilTPB_East" unit="mm" x="(1)*((theTPC_X-3*theTPCPlane_W)/2.0-(CPAFoil_T_mm+CPATPB_T_mm+dimCPAMeshFixture_T_mm)/2.0)" y="(1.5)*dimCPAWindow_H_mm" z="(-0.5)*dimCPASpacing_mm+(-1.5)*dimCPAWindow_W_mm"/>
				<rotationref ref="rotateP180Y"/>
			</physvol>
			<physvol>
				<volumeref ref="volCPA_FoilTPB"/>
				<position name="pos_14_CPAFoilTPB_East" unit="mm" x="(1)*((theTPC_X-3*theTPCPlane_W)/2.0-(CPAFoil_T_mm+CPATPB_T_mm+dimCPAMeshFixture_T_mm)/2.0)" y="(0.5)*dimCPAWindow_H_mm" z="(-0.5)*dimCPASpacing_mm+(-1.5)*dimCPAWindow_W_mm"/>
				<rotationref ref="rotateP180Y"/>
			</physvol>
			<physvol>
				<volumeref ref="volCPA_FoilTPB"/>
				<position name="pos_15_CPAFoilTPB_East" unit="mm" x="(1)*((theTPC_X-3*theTPCPlane_W)/2.0-(CPAFoil_T_mm+CPATPB_T_mm+dimCPAMeshFixture_T_mm)/2.0)" y="(-0.5)*dimCPAWindow_H_mm" z="(-0.5)*dimCPASpacing_mm+(-1.5)*dimCPAWindow_W_mm"/>
				<rotationref ref="rotateP180Y"/>
			</physvol>
			<physvol>
				<volumeref ref="volCPA_FoilTPB"/>
				<position name="pos_16_CPAFoilTPB_East" unit="mm" x="(1)*((theTPC_X-3*theTPCPlane_W)/2.0-(CPAFoil_T_mm+CPATPB_T_mm+dimCPAMeshFixture_T_mm)/2.0)" y="(-1.5)*dimCPAWindow_H_mm" z="(-0.5)*dimCPASpacing_mm+(-1.5)*dimCPAWindow_W_mm"/>
				<rotationref ref="rotateP180Y"/>
			</physvol>

		</volume>

		<!-- a TPC at Negative X (East side) -->
		<volume name="volTPC_East">
			<materialref ref="LAr"/>
			<solidref ref="boxTPC"/>

			<physvol>
				<volumeref ref="volTPCActive"/>
				<position name="posTPCActive_East" unit="mm" x="+1.5*theTPCPlane_W" y="0" z="0"/>
			</physvol>

			<physvol>
				<volumeref ref="volTPCPlane_V"/>
				<positionref ref="posUPlane_E"/> <!-- Plane V is placed at U position as this wire plane is rotated w.r.t. TPC West -->
			</physvol>
			<physvol>
				<volumeref ref="volTPCPlane_U"/>
				<positionref ref="posVPlane_E"/> <!-- Plane U is placed at V position as this wire plane is rotated w.r.t. TPC West -->
			</physvol>
			<physvol>
				<volumeref ref="volTPCPlaneVert"/>
				<positionref ref="posYPlane_E"/>
			</physvol>

		</volume>

		<!-- a TPC at Positive X (West side) -->
		<volume name="volTPC_West">
			<materialref ref="LAr"/>
			<solidref ref="boxTPC"/>
			<physvol>
				<volumeref ref="volTPCActive"/>
				<position name="posTPCActive_West" unit="mm" x="-1.5*theTPCPlane_W" y="0" z="0"/>
                <rotationref ref="rotateP180Y"/>
			</physvol>

			<physvol>
				<volumeref ref="volTPCPlane_V"/>
				<positionref ref="posVPlane_W"/>
			</physvol>
			<physvol>
				<volumeref ref="volTPCPlane_U"/>
				<positionref ref="posUPlane_W"/>
			</physvol>
			<physvol>
				<volumeref ref="volTPCPlaneVert"/>
				<positionref ref="posYPlane_W"/>
			</physvol>

		</volume>
	</structure>


	<!-- Logical Cryostat (Liquid Argon Volume) -->
	<define>
		<constant name="coordPDS_DX" value="PDScaseDX/2"/>
        <constant name="coordPDS_DY" value="dimAPAShorterPitch_Y_mm"/>
        <constant name="coordPDS_DZ" value="(dimAPAShorterTube_L_mm+2*dimAPATube_W_mm)/2.0"/>
	</define>

	<solids>
		<box name="boxCryostat" lunit="mm" x="dimMembrane_Inner_X_mm" y="dimMembrane_Inner_Y_mm" z="dimMembrane_Inner_Z_mm"/>
		<box name="boxSteel" lunit="mm" x="dimMembrane_Inner_X_mm+dimMembrane_Inner_T_mm" y="dimMembrane_Inner_Y_mm+dimMembrane_Inner_T_mm" z="dimMembrane_Inner_Z_mm+dimMembrane_Inner_T_mm"/>

		<subtraction name="boxSteelCryostat">
			<first ref="boxSteel"/>
			<second ref="boxCryostat"/>

		</subtraction>

	</solids>

	<structure>
		<volume name="volCryostat">
			<materialref ref="LAr"/>
			<solidref ref="boxCryostat"/>
			<auxiliary auxtype="SensDet" auxvalue="SimEnergyDeposit"/>
			<auxiliary auxtype="StepLimit" auxvalue="0.01" unit="mm"/>
			<auxiliary auxtype="Efield" auxvalue="0."/>

			<physvol>
				<volumeref ref="volCryoUllage"/>
				<position name="posUllage" unit="mm" x="0" y="whereTPC_Y+(dimMembrane_Inner_Y_mm-dimCryostatUllage_T_mm)/2.0" z="0" />
			</physvol>

			<physvol>
				<volumeref ref="volFieldCage"/>
				<position name="posCPA" unit="mm" x="whereTPC_X" y="whereTPC_Y" z="whereTPC_Z" />
			</physvol>

			<physvol>
				<volumeref ref="volTPC_East"/>
				<positionref ref="posTPC_East"/>
			</physvol>
			<physvol>
				<volumeref ref="volTPC_West"/>
				<positionref ref="posTPC_West"/>
			</physvol>

			<physvol>
				<volumeref ref="volOneAPAFrame"/>
				<position name="posAPAFrame_NW" unit="mm" x="+coordAPA_DX+whereTPC_X" y="coordAPA_DY+whereTPC_Y" z="+coordAPA_DZ+whereTPC_Z" />
			</physvol>

			<physvol>
				<volumeref ref="volOneAPAFrame"/>
				<position name="posAPAFrame_SW" unit="mm" x="-coordAPA_DX+whereTPC_X" y="coordAPA_DY+whereTPC_Y" z="+coordAPA_DZ+whereTPC_Z" />
			</physvol>

			<physvol>
				<volumeref ref="volOneAPAFrame"/>
				<position name="posAPAFrame_NE" unit="mm" x="+coordAPA_DX+whereTPC_X" y="coordAPA_DY+whereTPC_Y" z="-coordAPA_DZ+whereTPC_Z" />
			</physvol>

			<physvol>
				<volumeref ref="volOneAPAFrame"/>
				<position name="posAPAFrame_SE" unit="mm" x="-coordAPA_DX+whereTPC_X" y="coordAPA_DY+whereTPC_Y" z="-coordAPA_DZ+whereTPC_Z" />
			</physvol>

			<!-- PDS -->
                        <physvol>
                                <volumeref ref="volPDSstructure"/>
                                <position name="pos_1_PDS" unit="mm" x="whereTPC_X+(-1)*(theTPC_X+coordPDS_DX)" y="coordAPA_DY+whereTPC_Y+(1)*coordPDS_DY" z="-coordAPA_DZ+whereTPC_Z+(-1)*coordPDS_DZ"/>
                        </physvol>
                        <physvol>
                                <volumeref ref="volPDSstructure"/>
                                <position name="pos_2_PDS" unit="mm" x="whereTPC_X+(-1)*(theTPC_X+coordPDS_DX)" y="coordAPA_DY+whereTPC_Y+(1)*coordPDS_DY" z="-coordAPA_DZ+whereTPC_Z+(1)*coordPDS_DZ"/>
                        </physvol>
                        <physvol>
                                <volumeref ref="volPDSstructure"/>
                                <position name="pos_3_PDS" unit="mm" x="whereTPC_X+(-1)*(theTPC_X+coordPDS_DX)" y="coordAPA_DY+whereTPC_Y+(0)*coordPDS_DY" z="-coordAPA_DZ+whereTPC_Z+(-1)*coordPDS_DZ"/>
                        </physvol>
                        <physvol>
                                <volumeref ref="volPDSstructure"/>
                                <position name="pos_4_PDS" unit="mm" x="whereTPC_X+(-1)*(theTPC_X+coordPDS_DX)" y="coordAPA_DY+whereTPC_Y+(0)*coordPDS_DY" z="-coordAPA_DZ+whereTPC_Z+(1)*coordPDS_DZ"/>
                        </physvol>
                        <physvol>
                                <volumeref ref="volPDSstructure"/>
                                <position name="pos_5_PDS" unit="mm" x="whereTPC_X+(-1)*(theTPC_X+coordPDS_DX)" y="coordAPA_DY+whereTPC_Y+(-1)*coordPDS_DY" z="-coordAPA_DZ+whereTPC_Z+(-1)*coordPDS_DZ"/>
                        </physvol>
                        <physvol>
                                <volumeref ref="volPDSstructure"/>
                                <position name="pos_6_PDS" unit="mm" x="whereTPC_X+(-1)*(theTPC_X+coordPDS_DX)" y="coordAPA_DY+whereTPC_Y+(-1)*coordPDS_DY" z="-coordAPA_DZ+whereTPC_Z+(1)*coordPDS_DZ"/>
                        </physvol>
                        <physvol>
                                <volumeref ref="volPDSstructure"/>
                                <position name="pos_7_PDS" unit="mm" x="whereTPC_X+(-1)*(theTPC_X+coordPDS_DX)" y="coordAPA_DY+whereTPC_Y+(1)*coordPDS_DY" z="coordAPA_DZ+whereTPC_Z+(-1)*coordPDS_DZ"/>
                        </physvol>
                        <physvol>
                                <volumeref ref="volPDSstructure"/>
                                <position name="pos_8_PDS" unit="mm" x="whereTPC_X+(-1)*(theTPC_X+coordPDS_DX)" y="coordAPA_DY+whereTPC_Y+(1)*coordPDS_DY" z="coordAPA_DZ+whereTPC_Z+(1)*coordPDS_DZ"/>
                        </physvol>
                        <physvol>
                                <volumeref ref="volPDSstructure"/>
                                <position name="pos_9_PDS" unit="mm" x="whereTPC_X+(-1)*(theTPC_X+coordPDS_DX)" y="coordAPA_DY+whereTPC_Y+(0)*coordPDS_DY" z="coordAPA_DZ+whereTPC_Z+(-1)*coordPDS_DZ"/>
                        </physvol>
                        <physvol>
                                <volumeref ref="volPDSstructure"/>
                                <position name="pos_10_PDS" unit="mm" x="whereTPC_X+(-1)*(theTPC_X+coordPDS_DX)" y="coordAPA_DY+whereTPC_Y+(0)*coordPDS_DY" z="coordAPA_DZ+whereTPC_Z+(1)*coordPDS_DZ"/>
                        </physvol>
                        <physvol>
                                <volumeref ref="volPDSstructure"/>
                                <position name="pos_11_PDS" unit="mm" x="whereTPC_X+(-1)*(theTPC_X+coordPDS_DX)" y="coordAPA_DY+whereTPC_Y+(-1)*coordPDS_DY" z="coordAPA_DZ+whereTPC_Z+(-1)*coordPDS_DZ"/>
                        </physvol>
                        <physvol>
                                <volumeref ref="volPDSstructure"/>
                                <position name="pos_12_PDS" unit="mm" x="whereTPC_X+(-1)*(theTPC_X+coordPDS_DX)" y="coordAPA_DY+whereTPC_Y+(-1)*coordPDS_DY" z="coordAPA_DZ+whereTPC_Z+(1)*coordPDS_DZ"/>
                        </physvol>
                        <physvol>
                                <volumeref ref="volPDSstructure"/>
                                <position name="pos_13_PDS" unit="mm" x="whereTPC_X+(1)*(theTPC_X+coordPDS_DX)" y="coordAPA_DY+whereTPC_Y+(1)*coordPDS_DY" z="-coordAPA_DZ+whereTPC_Z+(-1)*coordPDS_DZ"/>
                                <rotationref ref="rotateP180Y"/>
                        </physvol>
                        <physvol>
                                <volumeref ref="volPDSstructure"/>
                                <position name="pos_14_PDS" unit="mm" x="whereTPC_X+(1)*(theTPC_X+coordPDS_DX)" y="coordAPA_DY+whereTPC_Y+(1)*coordPDS_DY" z="-coordAPA_DZ+whereTPC_Z+(1)*coordPDS_DZ"/>
                                <rotationref ref="rotateP180Y"/>
                        </physvol>
                        <physvol>
                                <volumeref ref="volPDSstructure"/>
                                <position name="pos_15_PDS" unit="mm" x="whereTPC_X+(1)*(theTPC_X+coordPDS_DX)" y="coordAPA_DY+whereTPC_Y+(0)*coordPDS_DY" z="-coordAPA_DZ+whereTPC_Z+(-1)*coordPDS_DZ"/>
                                <rotationref ref="rotateP180Y"/>
                        </physvol>
                        <physvol>
                                <volumeref ref="volPDSstructure"/>
                                <position name="pos_16_PDS" unit="mm" x="whereTPC_X+(1)*(theTPC_X+coordPDS_DX)" y="coordAPA_DY+whereTPC_Y+(0)*coordPDS_DY" z="-coordAPA_DZ+whereTPC_Z+(1)*coordPDS_DZ"/>
                                <rotationref ref="rotateP180Y"/>
                        </physvol>
                        <physvol>
                                <volumeref ref="volPDSstructure"/>
                                <position name="pos_17_PDS" unit="mm" x="whereTPC_X+(1)*(theTPC_X+coordPDS_DX)" y="coordAPA_DY+whereTPC_Y+(-1)*coordPDS_DY" z="-coordAPA_DZ+whereTPC_Z+(-1)*coordPDS_DZ"/>
                                <rotationref ref="rotateP180Y"/>
                        </physvol>
                        <physvol>
                                <volumeref ref="volPDSstructure"/>
                                <position name="pos_18_PDS" unit="mm" x="whereTPC_X+(1)*(theTPC_X+coordPDS_DX)" y="coordAPA_DY+whereTPC_Y+(-1)*coordPDS_DY" z="-coordAPA_DZ+whereTPC_Z+(1)*coordPDS_DZ"/>
                                <rotationref ref="rotateP180Y"/>
                        </physvol>
                        <physvol>
                                <volumeref ref="volPDSstructure"/>
                                <position name="pos_19_PDS" unit="mm" x="whereTPC_X+(1)*(theTPC_X+coordPDS_DX)" y="coordAPA_DY+whereTPC_Y+(1)*coordPDS_DY" z="coordAPA_DZ+whereTPC_Z+(-1)*coordPDS_DZ"/>
                                <rotationref ref="rotateP180Y"/>
                        </physvol>
                        <physvol>
                                <volumeref ref="volPDSstructure"/>
                                <position name="pos_20_PDS" unit="mm" x="whereTPC_X+(1)*(theTPC_X+coordPDS_DX)" y="coordAPA_DY+whereTPC_Y+(1)*coordPDS_DY" z="coordAPA_DZ+whereTPC_Z+(1)*coordPDS_DZ"/>
                                <rotationref ref="rotateP180Y"/>
                        </physvol>
                        <physvol>
                                <volumeref ref="volPDSstructure"/>
                                <position name="pos_21_PDS" unit="mm" x="whereTPC_X+(1)*(theTPC_X+coordPDS_DX)" y="coordAPA_DY+whereTPC_Y+(0)*coordPDS_DY" z="coordAPA_DZ+whereTPC_Z+(-1)*coordPDS_DZ"/>
                                <rotationref ref="rotateP180Y"/>
                        </physvol>
                        <physvol>
                                <volumeref ref="volPDSstructure"/>
                                <position name="pos_22_PDS" unit="mm" x="whereTPC_X+(1)*(theTPC_X+coordPDS_DX)" y="coordAPA_DY+whereTPC_Y+(0)*coordPDS_DY" z="coordAPA_DZ+whereTPC_Z+(1)*coordPDS_DZ"/>
                                <rotationref ref="rotateP180Y"/>
                        </physvol>
                        <physvol>
                                <volumeref ref="volPDSstructure"/>
                                <position name="pos_23_PDS" unit="mm" x="whereTPC_X+(1)*(theTPC_X+coordPDS_DX)" y="coordAPA_DY+whereTPC_Y+(-1)*coordPDS_DY" z="coordAPA_DZ+whereTPC_Z+(-1)*coordPDS_DZ"/>
                                <rotationref ref="rotateP180Y"/>
                        </physvol>
                        <physvol>
                                <volumeref ref="volPDSstructure"/>
                                <position name="pos_24_PDS" unit="mm" x="whereTPC_X+(1)*(theTPC_X+coordPDS_DX)" y="coordAPA_DY+whereTPC_Y+(-1)*coordPDS_DY" z="coordAPA_DZ+whereTPC_Z+(1)*coordPDS_DZ"/>
                                <rotationref ref="rotateP180Y"/>
                        </physvol>

		</volume>
	</structure>

	<!-- ========== Mass Buffer ========== -->
	<solids>
		<box name="boxMassBuffer"   lunit="mm" x="dimMassBuffer_X_mm" y="dimMassBuffer_Y_mm" z="dimMassBuffer_Z_mm"/>
	</solids>
	<structure>
		<volume name="volMassBuffer">
			<materialref ref="matMassBuffer"/>
			<solidref ref="boxMassBuffer"/>
		</volume>
	</structure>

	<!-- ========== Detector Enclosure ========== -->
	<define>

		<!-- Membrane Cryostat Position w.r.t. Detector Enclosure System -->
		<constant name="whereMembrane_X" value="coordMembrane_at_Enclosure_X"/>
		<constant name="whereMembrane_Y" value="coordMembrane_at_Enclosure_Y"/>
		<constant name="whereMembrane_Z" value="coordMembrane_at_Enclosure_Z"/>
		<position name="posCryostat" unit="mm" x="whereMembrane_X" y="whereMembrane_Y" z="whereMembrane_Z" />
		<position name="posCRT_TopHigh" unit="mm" x="whereMembrane_X" y="whereMembrane_Y+CRT_DY_TopHigh" z="whereMembrane_Z"/>
		<position name="posCRT_TopLow" unit="mm" x="whereMembrane_X" y="whereMembrane_Y+CRT_DY_TopLow" z="whereMembrane_Z"/>
		<position name="posCRT_South" unit="mm" x="whereMembrane_X" y="whereMembrane_Y" z="whereMembrane_Z-CRT_DZ_South"/>
		<position name="posCRT_North" unit="mm" x="whereMembrane_X" y="whereMembrane_Y" z="whereMembrane_Z+CRT_DZ_South"/>
		<position name="posCRT_East" unit="mm" x="whereMembrane_X+CRT_DX_Side" y="whereMembrane_Y" z="whereMembrane_Z"/>
		<position name="postCRT_West" unit="mm" x="whereMembrane_X-CRT_DX_Side" y="whereMembrane_Y" z="whereMembrane_Z"/>
		<position name="posCRT_Bottom" unit="mm" x="whereMembrane_X" y="whereMembrane_Y-CRT_DY_Bottom" z="whereMembrane_Z"/>
		<position name="posCryoPlywood" unit="mm" x="whereMembrane_X" y="whereMembrane_Y-dimPlywood_Insulation_T_mm/2" z="whereMembrane_Z" />
		<position name="posMassBuffer" unit="mm" x="whereMembrane_X" y="whereMembrane_Y+(dimCryostat_Outer_Y_mm+dimMassBuffer_Y_mm)/2.0+dimCryoExt_IBeam_H_mm+dimCryoExt_IBeam_T2_mm" z="whereMembrane_Z"/>
	</define>

	<solids>

		<box name="boxDetectorEnclosure_Pit"   lunit="mm" x="dimDetEnclosure_X" y="dimDetEnclosure_Y" z="dimDetEnclosure_Z"/>
		<box name="boxDetectorEnclosure_Tower" lunit="mm" x="dimDetEnclosure_X" y="dimTopCRTEnclosure_Y" z="dimDetEnclosure_Z"/>

		<union name="boxDetectorEnclosure_0">
			<first ref="boxDetectorEnclosure_Pit"/>
			<second ref="boxDetectorEnclosure_Tower"/>
			<position name="posTopTower" unit="mm" x="0" y="(dimDetEnclosure_Y+dimTopCRTEnclosure_Y)/2.0" z="0"/>
		</union>

		<!-- Expand the box to make room for the overburden -->
		<union name="boxDetectorEnclosure">
			<first ref="boxDetectorEnclosure_0"/>
			<second ref="boxShielding"/>
			<position name="posShield" unit="mm" x="0" y="whereShielding_Y" z="0"/>
		</union>


	</solids>

	<structure>
		<volume name="volDetEnclosure_dummy" >
			<materialref ref="matAir"/>
			<solidref ref="boxDetectorEnclosure"/>
		</volume>
	</structure>

	<structure>

		<!-- Detector Enclusure Without Shielding (Overburden) -->
		<!-- See below for volDetEnclosureWithSh-->
		<volume name="volDetEnclosure" >
			<materialref ref="matAir"/>
			<solidref ref="boxDetectorEnclosure"/>

			<!-- Positioning the CRT -->
			<physvol>
					<volumeref ref="volTaggerTopHigh"/>
					<positionref ref="posCRT_TopHigh"/>
					<rotationref ref="rotateN90X"/>
			</physvol>
			<physvol>
					<volumeref ref="volTaggerTopLow"/>
					<positionref ref="posCRT_TopLow"/>
					<rotationref ref="rotateP90X"/>
			</physvol>
			<physvol>
					<volumeref ref="volTaggerSouth"/>
					<positionref ref="posCRT_South"/>
			</physvol>
			<physvol>
					<volumeref ref="volTaggerNorth"/>
					<positionref ref="posCRT_North"/>
					<rotationref ref="rotateP180Y"/>
			</physvol>
			<physvol>
					<volumeref ref="volTaggerEast"/>
					<positionref ref="posCRT_East"/>
					<rotationref ref="rotateP90Y"/>
			</physvol>
			<physvol>
					<volumeref ref="volTaggerWest"/>
					<positionref ref="postCRT_West"/>
					<rotationref ref="rotateN90Y"/>
			</physvol>
			<physvol>
					<volumeref ref="volTaggerBot"/>
					<positionref ref="posCRT_Bottom"/>
					<rotationref ref="rotateP90X180Z"/>
			</physvol>

			<!-- Positioning the Cryostat -->
			<physvol>
				<volumeref ref="volCryostat"/>
				<positionref ref="posCryostat"/>
			</physvol>
			<physvol>
				<volumeref ref="volCryoMembrane"/>
				<positionref ref="posCryostat" />
			</physvol>
			<physvol>
				<volumeref ref="volCryoPlywood"/>
				<positionref ref="posCryoPlywood"/>
			</physvol>
			<physvol>
				<volumeref ref="volCryoInsulation"/>
				<positionref ref="posCryostat" />
			</physvol>
			<physvol>
				<volumeref ref="volCryoExt"/>
				<positionref ref="posCryostat" />
			</physvol>


			<!-- Positioning the Mass buffer -->
			<physvol>
				<volumeref ref="volMassBuffer"/>
				<positionref ref="posMassBuffer"/>
			</physvol>

		</volume>

		<!-- Detector Enclusure With Shielding (Overburden) -->
		<volume name="volDetEnclosureWithSh" >
			<materialref ref="matAir"/>
			<solidref ref="boxDetectorEnclosure"/>

			<!-- Positioning the CRT -->
			<physvol>
					<volumeref ref="volTaggerTopHigh"/>
					<positionref ref="posCRT_TopHigh"/>
					<rotationref ref="rotateN90X"/>
			</physvol>
			<physvol>
					<volumeref ref="volTaggerTopLow"/>
					<positionref ref="posCRT_TopLow"/>
					<rotationref ref="rotateP90X"/>
			</physvol>
			<physvol>
					<volumeref ref="volTaggerSouth"/>
					<positionref ref="posCRT_South"/>
			</physvol>
			<physvol>
					<volumeref ref="volTaggerNorth"/>
					<positionref ref="posCRT_North"/>
					<rotationref ref="rotateP180Y"/>
			</physvol>
			<physvol>
					<volumeref ref="volTaggerEast"/>
					<positionref ref="posCRT_East"/>
					<rotationref ref="rotateP90Y"/>
			</physvol>
			<physvol>
					<volumeref ref="volTaggerWest"/>
					<positionref ref="postCRT_West"/>
					<rotationref ref="rotateN90Y"/>
			</physvol>
			<physvol>
					<volumeref ref="volTaggerBot"/>
					<positionref ref="posCRT_Bottom"/>
					<rotationref ref="rotateP90X180Z"/>
			</physvol>

			<!-- Positioning the Shielding (Overburden) -->
			<physvol>
				<volumeref ref="volShielding"/>
				<position name="posShielding" unit="mm" x="whereShielding_X" y="whereShielding_Y" z="whereShielding_Z" />
			</physvol>

			<!-- Positioning the Cryostat -->
			<physvol>
				<volumeref ref="volCryostat"/>
				<positionref ref="posCryostat"/>
			</physvol>
			<physvol>
				<volumeref ref="volCryoMembrane"/>
				<positionref ref="posCryostat" />
			</physvol>
			<physvol>
				<volumeref ref="volCryoPlywood"/>
				<positionref ref="posCryoPlywood"/>
			</physvol>
			<physvol>
				<volumeref ref="volCryoInsulation"/>
				<positionref ref="posCryostat" />
			</physvol>
			<physvol>
				<volumeref ref="volCryoExt"/>
				<positionref ref="posCryostat" />
			</physvol>


			<!-- Positioning the Mass buffer -->
			<physvol>
				<volumeref ref="volMassBuffer"/>
				<positionref ref="posMassBuffer"/>
			</physvol>
		</volume>
	</structure>
	<!-- End of Detector Enclosure -->


	<!-- ========== World ========== -->
	<define>
		<constant name="dimWorldSize_mm" value="1.0e6"/>
		<constant name="dimSystem_Z_mm" value="1130"/>
	</define>

	<solids>
		<box name="boxWorld" lunit="mm" x="dimWorldSize_mm" y="dimWorldSize_mm" z="dimWorldSize_mm"/>
	</solids>

	<structure>
		<!-- ========== World with Overburden ========== -->
		<volume name="volWorldWithShielding" >
			<materialref ref="matAir"/>
			<solidref ref="boxWorld"/>

			<!-- Positioning the Building -->
			<physvol>
				<volumeref ref="volBuilding"/>
				<position name="posBuildingWithSh"    unit="mm" x="whereBuild_X" y="whereBuild_Y+dimSystem_Z_mm" z="2200"/>
			</physvol>
			<!-- Positioning the Interiors of the Building -->
			<physvol>
				<volumeref ref="volInteriors"/>
				<position name="posInteriorsWithSh" unit="mm" x="0" y="5215+dimSystem_Z_mm+dimBuildingBaseWidth_mm/2+9000/2+_eD_" z="-3.*_ft_+(dimBuildingExternal_Z_mm)/2.0 - (mezzanine_Z)/2+2200"/>
			</physvol>
			<!-- Positioning the Underground -->
			<physvol>
			<volumeref ref="volUndergrounds"/>
				<position name="posUndergroundWithSh" unit="mm" x="whereEnclosure_X" y="whereEnclosure_Y-3322.33+dimSystem_Z_mm" z="whereEnclosure_Z"/>
			</physvol>
			<!-- Positioning the Ground -->
			<physvol>
				<volumeref ref="volBuildingBase"/>
				<position name="posBuildingBaseWithSh" unit="mm" x="0" y="5215+dimSystem_Z_mm" z="2200" />
			</physvol>
			<!-- Positioning the Exteriors -->
			<physvol>
				<volumeref ref="volExteriors"/>
				<position name="posExteriorsWithSh" unit="mm" x="0" y="whereBuild_Y+dimSystem_Z_mm" z="2200 + dimBuildingExternal_Z_mm/2 + exterior_box_z/2" />
			</physvol>
			<!-- Positioning the Detector Enclosure with Shielding (Overburden) -->
			<physvol>
				<volumeref ref="volDetEnclosureWithSh"/>
				<position name="posEnclosureWithSh" unit="mm" x="whereEnclosure_X" y="whereEnclosure_Y" z="whereEnclosure_Z" />
			</physvol>

		</volume>

		<!-- ========== World without Overburden (default) ========== -->
		<volume name="volWorld" >
			<materialref ref="matAir"/>
			<solidref ref="boxWorld"/>

			<!-- Positioning the Building -->
			<physvol>
				<volumeref ref="volBuilding"/>
				<position name="posBuilding"    unit="mm" x="whereBuild_X" y="whereBuild_Y+dimSystem_Z_mm" z="2200"/>
			</physvol>
			<!-- Positioning the Interiors of the Building -->
			<physvol>
				<volumeref ref="volInteriors"/>
				<position name="posInteriors" unit="mm" x="0" y="5215+dimSystem_Z_mm+dimBuildingBaseWidth_mm/2+9000/2+_eD_" z="-3.*_ft_+(dimBuildingExternal_Z_mm)/2.0 - (mezzanine_Z)/2+2200"/>
			</physvol>
			<!-- Positioning the Underground -->
			<physvol>
				<volumeref ref="volUndergrounds"/>
				<position name="posUnderground" unit="mm" x="whereEnclosure_X" y="whereEnclosure_Y-3322.33+dimSystem_Z_mm" z="whereEnclosure_Z"/>
				</physvol>
			<!-- Positioning the Ground -->
			<physvol>
				<volumeref ref="volBuildingBase"/>
				<position name="posBuildingBase" unit="mm" x="0" y="5215+dimSystem_Z_mm" z="2200" />
			</physvol>
			<!-- Positioning the Exteriors -->
			<physvol>
				<volumeref ref="volExteriors"/>
				<position name="posExteriors" unit="mm" x="0" y="whereBuild_Y+dimSystem_Z_mm" z="2200 + dimBuildingExternal_Z_mm/2 + exterior_box_z/2" />
			</physvol>
			<!-- Positioning the Detector Enclosure -->
			<physvol>
				<volumeref ref="volDetEnclosure"/>
				<position name="posEnclosure" unit="mm" x="whereEnclosure_X" y="whereEnclosure_Y" z="whereEnclosure_Z" />
			</physvol>

		</volume>
	</structure>
	<!-- End of World -->

	<setup name="Default" version="1.0">
		<world ref="volWorld" />
	</setup>

	<setup name="DefaultWithShielding" version="1.0">
		<world ref="volWorldWithShielding" />
	</setup>

</gdml_simple_extension>
